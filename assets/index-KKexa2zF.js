(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function qC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cp={exports:{}},du={};var cT;function GC(){if(cT)return du;cT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return du.Fragment=e,du.jsx=t,du.jsxs=t,du}var hT;function YC(){return hT||(hT=1,cp.exports=GC()),cp.exports}var X=YC(),hp={exports:{}},Ae={};var fT;function XC(){if(fT)return Ae;fT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function Q(C,B,re){this.props=C,this.context=B,this.refs=V,this.updater=re||L}Q.prototype.isReactComponent={},Q.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},Q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function W(){}W.prototype=Q.prototype;function J(C,B,re){this.props=C,this.context=B,this.refs=V,this.updater=re||L}var le=J.prototype=new W;le.constructor=J,z(le,Q.prototype),le.isPureReactComponent=!0;var me=Array.isArray;function ge(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(C,B,re){var oe=re.ref;return{$$typeof:n,type:C,key:B,ref:oe!==void 0?oe:null,props:re}}function M(C,B){return I(C.type,B,C.props)}function P(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function k(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return B[re]})}var D=/\/+/g;function Fe(C,B){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):B.toString(36)}function it(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ge,ge):(C.status="pending",C.then(function(B){C.status==="pending"&&(C.status="fulfilled",C.value=B)},function(B){C.status==="pending"&&(C.status="rejected",C.reason=B)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function $(C,B,re,oe,fe){var _e=typeof C;(_e==="undefined"||_e==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case n:case e:xe=!0;break;case v:return xe=C._init,$(xe(C._payload),B,re,oe,fe)}}if(xe)return fe=fe(C),xe=oe===""?"."+Fe(C,0):oe,me(fe)?(re="",xe!=null&&(re=xe.replace(D,"$&/")+"/"),$(fe,B,re,"",function(Ti){return Ti})):fe!=null&&(P(fe)&&(fe=M(fe,re+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+xe)),B.push(fe)),1;xe=0;var mt=oe===""?".":oe+":";if(me(C))for(var tt=0;tt<C.length;tt++)oe=C[tt],_e=mt+Fe(oe,tt),xe+=$(oe,B,re,_e,fe);else if(tt=O(C),typeof tt=="function")for(C=tt.call(C),tt=0;!(oe=C.next()).done;)oe=oe.value,_e=mt+Fe(oe,tt++),xe+=$(oe,B,re,_e,fe);else if(_e==="object"){if(typeof C.then=="function")return $(it(C),B,re,oe,fe);throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ae(C,B,re){if(C==null)return C;var oe=[],fe=0;return $(C,oe,"","",function(_e){return B.call(re,_e,fe++)}),oe}function pe(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var Oe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},je={map:ae,forEach:function(C,B,re){ae(C,function(){B.apply(this,arguments)},re)},count:function(C){var B=0;return ae(C,function(){B++}),B},toArray:function(C){return ae(C,function(B){return B})||[]},only:function(C){if(!P(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ae.Activity=E,Ae.Children=je,Ae.Component=Q,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=J,Ae.StrictMode=r,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Ae.cache=function(C){return function(){return C.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(C,B,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=z({},C.props),fe=C.key;if(B!=null)for(_e in B.key!==void 0&&(fe=""+B.key),B)!A.call(B,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&B.ref===void 0||(oe[_e]=B[_e]);var _e=arguments.length-2;if(_e===1)oe.children=re;else if(1<_e){for(var xe=Array(_e),mt=0;mt<_e;mt++)xe[mt]=arguments[mt+2];oe.children=xe}return I(C.type,fe,oe)},Ae.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Ae.createElement=function(C,B,re){var oe,fe={},_e=null;if(B!=null)for(oe in B.key!==void 0&&(_e=""+B.key),B)A.call(B,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=B[oe]);var xe=arguments.length-2;if(xe===1)fe.children=re;else if(1<xe){for(var mt=Array(xe),tt=0;tt<xe;tt++)mt[tt]=arguments[tt+2];fe.children=mt}if(C&&C.defaultProps)for(oe in xe=C.defaultProps,xe)fe[oe]===void 0&&(fe[oe]=xe[oe]);return I(C,_e,fe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(C){return{$$typeof:d,render:C}},Ae.isValidElement=P,Ae.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:pe}},Ae.memo=function(C,B){return{$$typeof:g,type:C,compare:B===void 0?null:B}},Ae.startTransition=function(C){var B=R.T,re={};R.T=re;try{var oe=C(),fe=R.S;fe!==null&&fe(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ge,Oe)}catch(_e){Oe(_e)}finally{B!==null&&re.types!==null&&(B.types=re.types),R.T=B}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(C){return R.H.use(C)},Ae.useActionState=function(C,B,re){return R.H.useActionState(C,B,re)},Ae.useCallback=function(C,B){return R.H.useCallback(C,B)},Ae.useContext=function(C){return R.H.useContext(C)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(C,B){return R.H.useDeferredValue(C,B)},Ae.useEffect=function(C,B){return R.H.useEffect(C,B)},Ae.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(C,B,re){return R.H.useImperativeHandle(C,B,re)},Ae.useInsertionEffect=function(C,B){return R.H.useInsertionEffect(C,B)},Ae.useLayoutEffect=function(C,B){return R.H.useLayoutEffect(C,B)},Ae.useMemo=function(C,B){return R.H.useMemo(C,B)},Ae.useOptimistic=function(C,B){return R.H.useOptimistic(C,B)},Ae.useReducer=function(C,B,re){return R.H.useReducer(C,B,re)},Ae.useRef=function(C){return R.H.useRef(C)},Ae.useState=function(C){return R.H.useState(C)},Ae.useSyncExternalStore=function(C,B,re){return R.H.useSyncExternalStore(C,B,re)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.3",Ae}var dT;function Ag(){return dT||(dT=1,hp.exports=XC()),hp.exports}var G=Ag();const Ra=qC(G);var fp={exports:{}},mu={},dp={exports:{}},mp={};var mT;function KC(){return mT||(mT=1,(function(n){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var Oe=pe-1>>>1,je=$[Oe];if(0<a(je,ae))$[Oe]=ae,$[pe]=je,pe=Oe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var Oe=0,je=$.length,C=je>>>1;Oe<C;){var B=2*(Oe+1)-1,re=$[B],oe=B+1,fe=$[oe];if(0>a(re,pe))oe<je&&0>a(fe,re)?($[Oe]=fe,$[oe]=pe,Oe=oe):($[Oe]=re,$[B]=pe,Oe=B);else if(oe<je&&0>a(fe,pe))$[Oe]=fe,$[oe]=pe,Oe=oe;else break e}}return ae}function a($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,b=3,O=!1,L=!1,z=!1,V=!1,Q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function le($){for(var ae=t(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=$)r(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function me($){if(z=!1,le($),!L)if(t(p)!==null)L=!0,ge||(ge=!0,k());else{var ae=t(g);ae!==null&&it(me,ae.startTime-$)}}var ge=!1,R=-1,A=5,I=-1;function M(){return V?!0:!(n.unstable_now()-I<A)}function P(){if(V=!1,ge){var $=n.unstable_now();I=$;var ae=!0;try{e:{L=!1,z&&(z=!1,W(R),R=-1),O=!0;var pe=b;try{t:{for(le($),E=t(p);E!==null&&!(E.expirationTime>$&&M());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,b=E.priorityLevel;var je=Oe(E.expirationTime<=$);if($=n.unstable_now(),typeof je=="function"){E.callback=je,le($),ae=!0;break t}E===t(p)&&r(p),le($)}else r(p);E=t(p)}if(E!==null)ae=!0;else{var C=t(g);C!==null&&it(me,C.startTime-$),ae=!1}}break e}finally{E=null,b=pe,O=!1}ae=void 0}}finally{ae?k():ge=!1}}}var k;if(typeof J=="function")k=function(){J(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=P,k=function(){Fe.postMessage(null)}}else k=function(){Q(P,0)};function it($,ae){R=Q(function(){$(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var pe=b;b=ae;try{return $()}finally{b=pe}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=b;b=$;try{return ae()}finally{b=pe}},n.unstable_scheduleCallback=function($,ae,pe){var Oe=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,$){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=pe+je,$={id:v++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:je,sortIndex:-1},pe>Oe?($.sortIndex=pe,e(g,$),t(p)===null&&$===t(g)&&(z?(W(R),R=-1):z=!0,it(me,pe-Oe))):($.sortIndex=je,e(p,$),L||O||(L=!0,ge||(ge=!0,k()))),$},n.unstable_shouldYield=M,n.unstable_wrapCallback=function($){var ae=b;return function(){var pe=b;b=ae;try{return $.apply(this,arguments)}finally{b=pe}}}})(mp)),mp}var pT;function QC(){return pT||(pT=1,dp.exports=KC()),dp.exports}var pp={exports:{}},an={};var gT;function $C(){if(gT)return an;gT=1;var n=Ag();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},an.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:O}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var yT;function WC(){if(yT)return pp.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pp.exports=$C(),pp.exports}var vT;function ZC(){if(vT)return mu;vT=1;var n=QC(),e=Ag(),t=WC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===u)return p(f),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,u=m;break}if(S===u){_=!0,u=f,o=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===o){_=!0,o=m,u=f;break}if(S===u){_=!0,u=m,o=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),J=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case Q:return"Profiler";case V:return"StrictMode";case me:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case J:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:Fe(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Fe(i(s))}catch{}}return null}var it=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],je=-1;function C(i){return{current:i}}function B(i){0>je||(i.current=Oe[je],Oe[je]=null,je--)}function re(i,s){je++,Oe[je]=i.current,i.current=s}var oe=C(null),fe=C(null),_e=C(null),xe=C(null);function mt(i,s){switch(re(_e,s),re(fe,i),re(oe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?x0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=x0(s),i=M0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(oe),re(oe,i)}function tt(){B(oe),B(fe),B(_e)}function Ti(i){i.memoizedState!==null&&re(xe,i);var s=oe.current,o=M0(s,i.type);s!==o&&(re(fe,i),re(oe,o))}function nr(i){fe.current===i&&(B(oe),B(fe)),xe.current===i&&(B(xe),uu._currentValue=pe)}var xr,Mr;function Ei(i){if(xr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);xr=s&&s[1]||"",Mr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+i+Mr}var ul=!1;function Fs(i,s){if(!i||ul)return"";ul=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var q=K}Reflect.construct(i,[],te)}else{try{te.call()}catch(K){q=K}i.call(te.prototype)}}else{try{throw Error()}catch(K){q=K}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===H.length)for(u=N.length-1,f=H.length-1;1<=u&&0<=f&&N[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==H[f]){var Z=`
`+N[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ul=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ei(o):""}function cl(i,s){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return i.child!==s&&s!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Fs(i.type,!1);case 11:return Fs(i.type.render,!1);case 1:return Fs(i.type,!0);case 31:return Ei("Activity");default:return""}}function hl(i){try{var s="",o=null;do s+=cl(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,kr=n.unstable_cancelCallback,fd=n.unstable_shouldYield,sc=n.unstable_requestPaint,hn=n.unstable_now,Hs=n.unstable_getCurrentPriorityLevel,fl=n.unstable_ImmediatePriority,dl=n.unstable_UserBlockingPriority,Vr=n.unstable_NormalPriority,dd=n.unstable_LowPriority,ac=n.unstable_IdlePriority,oc=n.log,lc=n.unstable_setDisableYieldValue,Jn=null,$t=null;function kn(i){if(typeof oc=="function"&&lc(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Jn,i)}catch{}}var Tt=Math.clz32?Math.clz32:cc,uc=Math.log,Ya=Math.LN2;function cc(i){return i>>>=0,i===0?32:31-(uc(i)/Ya|0)|0}var Si=256,qs=262144,Rt=4194304;function bi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=bi(u):(_&=S,_!==0?f=bi(_):o||(o=S&~i,o!==0&&(f=bi(o))))):(S=u&~m,S!==0?f=bi(S):_!==0?f=bi(_):o||(o=u&~i,o!==0&&(f=bi(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function ei(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function md(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Ai(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Gs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pd(i,s,o,u,f,m){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,H=i.hiddenUpdates;for(o=_&~o;0<o;){var Z=31-Tt(o),te=1<<Z;S[Z]=0,N[Z]=-1;var q=H[Z];if(q!==null)for(H[Z]=null,Z=0;Z<q.length;Z++){var K=q[Z];K!==null&&(K.lane&=-536870913)}o&=~te}u!==0&&Ys(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~s))}function Ys(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Tt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function ml(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Tt(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function pl(i,s){var o=s&-s;return o=(o&42)!==0?1:Xs(o),(o&(i.suspendedLanes|s))!==0?0:o}function Xs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ir(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:iT(i.type))}function ti(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var ni=Math.random().toString(36).slice(2),It="__reactFiber$"+ni,Ht="__reactProps$"+ni,Ci="__reactContainer$"+ni,Xa="__reactEvents$"+ni,gd="__reactListeners$"+ni,dc="__reactHandles$"+ni,mc="__reactResources$"+ni,Ri="__reactMarker$"+ni;function Ka(i){delete i[It],delete i[Ht],delete i[Xa],delete i[gd],delete i[dc]}function Ii(i){var s=i[It];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ci]||o[It]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=j0(i);i!==null;){if(o=i[It])return o;i=j0(i)}return s}i=o,o=i.parentNode}return null}function Vn(i){if(i=i[It]||i[Ci]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function An(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Di(i){var s=i[mc];return s||(s=i[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(i){i[Ri]=!0}var gl=new Set,yl={};function Oi(i,s){Ni(i,s),Ni(i+"Capture",s)}function Ni(i,s){for(yl[i]=s,i=0;i<s.length;i++)gl.add(s[i])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},Tl={};function pc(i){return Ct.call(Tl,i)?!0:Ct.call(_l,i)?!1:vl.test(i)?Tl[i]=!0:(_l[i]=!0,!1)}function Qa(i,s,o){if(pc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Cn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ot(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function El(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ke(i){if(!i._valueTracker){var s=Lr(i)?"checked":"value";i._valueTracker=El(i,s,""+i[s])}}function Ks(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Lr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qs=/[\n"\\]/g;function gn(i){return i.replace(Qs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $a(i,s,o,u,f,m,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+qt(s)):i.value!==""+qt(s)&&(i.value=""+qt(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?Sl(i,_,qt(s)):o!=null?Sl(i,_,qt(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+qt(S):i.removeAttribute("name")}function gc(i,s,o,u,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ke(i);return}o=o!=null?""+qt(o):"",s=s!=null?""+qt(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Ke(i)}function Sl(i,s,o){s==="number"&&Pi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ur(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qt(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function yc(i,s,o){if(s!=null&&(s=""+qt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+qt(o):""}function zr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(it(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=qt(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Ke(i)}function yn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||vc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function wl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&bl(i,f,u)}else for(var m in s)s.hasOwnProperty(m)&&bl(i,m,s[m])}function Wa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(i){return Br.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Al=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jr=null,xi=null;function $s(i){var s=Vn(i);if(s&&(i=s.stateNode)){var o=i[Ht]||null;e:switch(i=s.stateNode,s.type){case"input":if($a(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Ht]||null;if(!f)throw Error(r(90));$a(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Ks(u)}break e;case"textarea":yc(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ur(i,!!o.multiple,s,!1)}}}var Ja=!1;function Fr(i,s,o){if(Ja)return i(s,o);Ja=!0;try{var u=i(s);return u}finally{if(Ja=!1,(jr!==null||xi!==null)&&(fh(),jr&&(s=jr,i=xi,xi=jr=null,$s(s),i)))for(s=0;s<i.length;s++)$s(i[s])}}function ri(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(Un)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ws=!1}var Mi=null,Cl=null,Zs=null;function Rl(){if(Zs)return Zs;var i,s=Cl,o=s.length,u,f="value"in Mi?Mi.value:Mi.textContent,m=f.length;for(i=0;i<o&&s[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&s[o-u]===f[m-u];u++);return Zs=f.slice(i,1<u?1-u:void 0)}function Js(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function rr(){return!0}function si(){return!1}function Wt(i){function s(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rr:si,this.isPropagationStopped=si,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Wt(sr),Hr=E({},sr,{view:0,detail:0}),Il=Wt(Hr),qr,eo,Vi,to=E({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(qr=i.screenX-Vi.screenX,eo=i.screenY-Vi.screenY):eo=qr=0,Vi=i),qr)},movementY:function(i){return"movementY"in i?i.movementY:eo}}),Dl=Wt(to),ea=E({},to,{dataTransfer:0}),Tc=Wt(ea),Ec=E({},Hr,{relatedTarget:0}),ta=Wt(Ec),Ol=E({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=Wt(Ol),no=E({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bc=Wt(no),wc=E({},sr,{data:0}),Li=Wt(wc),Ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Rc[i])?!!s[i]:!1}function Gr(){return Ic}var fn=E({},Hr,{key:function(i){if(i.key){var s=Ac[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(i){return i.type==="keypress"?Js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dc=Wt(fn),Oc=E({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Wt(Oc),h=E({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),y=Wt(h),T=E({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(T),j=E({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Wt(j),se=E({},sr,{newState:0,oldState:0}),Re=Wt(se),Et=[9,13,27,32],Ge=Un&&"CompositionEvent"in window,ut=null;Un&&"documentMode"in document&&(ut=document.documentMode);var zn=Un&&"TextEvent"in window&&!ut,Ui=Un&&(!Ge||ut&&8<ut&&11>=ut),ai=" ",oi=!1;function na(i,s){switch(i){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function mA(i,s){switch(i){case"compositionend":return io(s);case"keypress":return s.which!==32?null:(oi=!0,ai);case"textInput":return i=s.data,i===ai&&oi?null:i;default:return null}}function pA(i,s){if(ro)return i==="compositionend"||!Ge&&na(i,s)?(i=Rl(),Zs=Cl=Mi=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ui&&s.locale!=="ko"?null:s.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!gA[i.type]:s==="textarea"}function Gy(i,s,o,u){jr?xi?xi.push(u):xi=[u]:jr=u,s=_h(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Nl=null,Pl=null;function yA(i){R0(i,0)}function Nc(i){var s=An(i);if(Ks(s))return i}function Yy(i,s){if(i==="change")return s}var Xy=!1;if(Un){var yd;if(Un){var vd="oninput"in document;if(!vd){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),vd=typeof Ky.oninput=="function"}yd=vd}else yd=!1;Xy=yd&&(!document.documentMode||9<document.documentMode)}function Qy(){Nl&&(Nl.detachEvent("onpropertychange",$y),Pl=Nl=null)}function $y(i){if(i.propertyName==="value"&&Nc(Pl)){var s=[];Gy(s,Pl,i,Ln(i)),Fr(yA,s)}}function vA(i,s,o){i==="focusin"?(Qy(),Nl=s,Pl=o,Nl.attachEvent("onpropertychange",$y)):i==="focusout"&&Qy()}function _A(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(Pl)}function TA(i,s){if(i==="click")return Nc(s)}function EA(i,s){if(i==="input"||i==="change")return Nc(s)}function SA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Rn=typeof Object.is=="function"?Object.is:SA;function xl(i,s){if(Rn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(s,f)||!Rn(i[f],s[f]))return!1}return!0}function Wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zy(i,s){var o=Wy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wy(o)}}function Jy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Jy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Pi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Pi(i.document)}return s}function _d(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var bA=Un&&"documentMode"in document&&11>=document.documentMode,so=null,Td=null,Ml=null,Ed=!1;function tv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ed||so==null||so!==Pi(u)||(u=so,"selectionStart"in u&&_d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ml&&xl(Ml,u)||(Ml=u,u=_h(Td,"onSelect"),0<u.length&&(s=new ki("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=so)))}function ia(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ao={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Sd={},nv={};Un&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ra(i){if(Sd[i])return Sd[i];if(!ao[i])return i;var s=ao[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in nv)return Sd[i]=s[o];return i}var iv=ra("animationend"),rv=ra("animationiteration"),sv=ra("animationstart"),wA=ra("transitionrun"),AA=ra("transitionstart"),CA=ra("transitioncancel"),av=ra("transitionend"),ov=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function li(i,s){ov.set(i,s),Oi(s,[i])}var Pc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],oo=0,wd=0;function xc(){for(var i=oo,s=wd=oo=0;s<i;){var o=Bn[s];Bn[s++]=null;var u=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var m=Bn[s];if(Bn[s++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&lv(o,f,m)}}function Mc(i,s,o,u){Bn[oo++]=i,Bn[oo++]=s,Bn[oo++]=o,Bn[oo++]=u,wd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ad(i,s,o,u){return Mc(i,s,o,u),kc(i)}function sa(i,s){return Mc(i,null,null,s),kc(i)}function lv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&s!==null&&(f=31-Tt(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function kc(i){if(50<nu)throw nu=0,Mm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var lo={};function RA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,s,o,u){return new RA(i,s,o,u)}function Cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function or(i,s){var o=i.alternate;return o===null?(o=In(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function uv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vc(i,s,o,u,f,m){var _=0;if(u=i,typeof i=="function")Cd(i)&&(_=1);else if(typeof i=="string")_=PC(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=In(31,o,s,f),i.elementType=I,i.lanes=m,i;case z:return aa(o.children,f,m,s);case V:_=8,f|=24;break;case Q:return i=In(12,o,s,f|2),i.elementType=Q,i.lanes=m,i;case me:return i=In(13,o,s,f),i.elementType=me,i.lanes=m,i;case ge:return i=In(19,o,s,f),i.elementType=ge,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:_=10;break e;case W:_=9;break e;case le:_=11;break e;case R:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=In(_,o,s,f),s.elementType=i,s.type=u,s.lanes=m,s}function aa(i,s,o,u){return i=In(7,i,u,s),i.lanes=o,i}function Rd(i,s,o){return i=In(6,i,null,s),i.lanes=o,i}function cv(i){var s=In(18,null,null,0);return s.stateNode=i,s}function Id(i,s,o){return s=In(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var hv=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var o=hv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:hl(s)},hv.set(i,s),s)}return{value:i,source:s,stack:hl(s)}}var uo=[],co=0,Lc=null,kl=0,Fn=[],Hn=0,Yr=null,zi=1,Bi="";function lr(i,s){uo[co++]=kl,uo[co++]=Lc,Lc=i,kl=s}function fv(i,s,o){Fn[Hn++]=zi,Fn[Hn++]=Bi,Fn[Hn++]=Yr,Yr=i;var u=zi;i=Bi;var f=32-Tt(u)-1;u&=~(1<<f),o+=1;var m=32-Tt(s)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,zi=1<<32-Tt(s)+f|o<<f|u,Bi=m+i}else zi=1<<m|o<<f|u,Bi=i}function Dd(i){i.return!==null&&(lr(i,1),fv(i,1,0))}function Od(i){for(;i===Lc;)Lc=uo[--co],uo[co]=null,kl=uo[--co],uo[co]=null;for(;i===Yr;)Yr=Fn[--Hn],Fn[Hn]=null,Bi=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null}function dv(i,s){Fn[Hn++]=zi,Fn[Hn++]=Bi,Fn[Hn++]=Yr,zi=s.id,Bi=s.overflow,Yr=i}var Zt=null,at=null,ze=!1,Xr=null,qn=!1,Nd=Error(r(519));function Kr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(jn(s,i)),Nd}function mv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[It]=i,s[Ht]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<ru.length;o++)Pe(ru[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),gc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),zr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||N0(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=ii),s=!0):s=!1,s||Kr(i,!0)}function pv(i){for(Zt=i.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Zt=Zt.return}}function ho(i){if(i!==Zt)return!1;if(!ze)return pv(i),ze=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qm(i.type,i.memoizedProps)),o=!o),o&&at&&Kr(i),pv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=B0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=B0(i)}else s===27?(s=at,ls(i.type)?(i=ep,ep=null,at=i):at=s):at=Zt?Yn(i.stateNode.nextSibling):null;return!0}function oa(){at=Zt=null,ze=!1}function Pd(){var i=Xr;return i!==null&&(En===null?En=i:En.push.apply(En,i),Xr=null),i}function Vl(i){Xr===null?Xr=[i]:Xr.push(i)}var xd=C(null),la=null,ur=null;function Qr(i,s,o){re(xd,s._currentValue),s._currentValue=o}function cr(i){i._currentValue=xd.current,B(xd)}function Md(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function kd(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var N=0;N<s.length;N++)if(S.context===s[N]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),Md(m.return,o,i),u||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Md(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function fo(i,s,o,u){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Rn(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===xe.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}f=f.return}i!==null&&kd(s,i,o,u),s.flags|=262144}function Uc(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,ur=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return gv(la,i)}function zc(i,s){return la===null&&ua(i),gv(i,s)}function gv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ur===null){if(i===null)throw Error(r(308));ur=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ur=ur.next=s;return o}var IA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},DA=n.unstable_scheduleCallback,OA=n.unstable_NormalPriority,Nt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new IA,data:new Map,refCount:0}}function Ll(i){i.refCount--,i.refCount===0&&DA(OA,function(){i.controller.abort()})}var Ul=null,Ld=0,mo=0,po=null;function NA(i,s){if(Ul===null){var o=Ul=[];Ld=0,mo=Bm(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ld++,s.then(yv,yv),s}function yv(){if(--Ld===0&&Ul!==null){po!==null&&(po.status="fulfilled");var i=Ul;Ul=null,mo=0,po=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function PA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var vv=$.S;$.S=function(i,s){t0=hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&NA(i,s),vv!==null&&vv(i,s)};var ca=C(null);function Ud(){var i=ca.current;return i!==null?i:nt.pooledCache}function Bc(i,s){s===null?re(ca,ca.current):re(ca,s.pool)}function _v(){var i=Ud();return i===null?null:{parent:Nt._currentValue,pool:i}}var go=Error(r(460)),zd=Error(r(474)),jc=Error(r(542)),Fc={then:function(){}};function Tv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ev(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ii,ii),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,bv(i),i;default:if(typeof s.status=="string")s.then(ii,ii);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,bv(i),i}throw fa=s,go}}function ha(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,go):o}}var fa=null;function Sv(){if(fa===null)throw Error(r(459));var i=fa;return fa=null,i}function bv(i){if(i===go||i===jc)throw Error(r(483))}var yo=null,zl=0;function Hc(i){var s=zl;return zl+=1,yo===null&&(yo=[]),Ev(yo,i,s)}function Bl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function qc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function wv(i){function s(U,x){if(i){var F=U.deletions;F===null?(U.deletions=[x],U.flags|=16):F.push(x)}}function o(U,x){if(!i)return null;for(;x!==null;)s(U,x),x=x.sibling;return null}function u(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function f(U,x){return U=or(U,x),U.index=0,U.sibling=null,U}function m(U,x,F){return U.index=F,i?(F=U.alternate,F!==null?(F=F.index,F<x?(U.flags|=67108866,x):F):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,x,F,ee){return x===null||x.tag!==6?(x=Rd(F,U.mode,ee),x.return=U,x):(x=f(x,F),x.return=U,x)}function N(U,x,F,ee){var ye=F.type;return ye===z?Z(U,x,F.props.children,ee,F.key):x!==null&&(x.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&ha(ye)===x.type)?(x=f(x,F.props),Bl(x,F),x.return=U,x):(x=Vc(F.type,F.key,F.props,null,U.mode,ee),Bl(x,F),x.return=U,x)}function H(U,x,F,ee){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=Id(F,U.mode,ee),x.return=U,x):(x=f(x,F.children||[]),x.return=U,x)}function Z(U,x,F,ee,ye){return x===null||x.tag!==7?(x=aa(F,U.mode,ee,ye),x.return=U,x):(x=f(x,F),x.return=U,x)}function te(U,x,F){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Rd(""+x,U.mode,F),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O:return F=Vc(x.type,x.key,x.props,null,U.mode,F),Bl(F,x),F.return=U,F;case L:return x=Id(x,U.mode,F),x.return=U,x;case A:return x=ha(x),te(U,x,F)}if(it(x)||k(x))return x=aa(x,U.mode,F,null),x.return=U,x;if(typeof x.then=="function")return te(U,Hc(x),F);if(x.$$typeof===J)return te(U,zc(U,x),F);qc(U,x)}return null}function q(U,x,F,ee){var ye=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:S(U,x,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return F.key===ye?N(U,x,F,ee):null;case L:return F.key===ye?H(U,x,F,ee):null;case A:return F=ha(F),q(U,x,F,ee)}if(it(F)||k(F))return ye!==null?null:Z(U,x,F,ee,null);if(typeof F.then=="function")return q(U,x,Hc(F),ee);if(F.$$typeof===J)return q(U,x,zc(U,F),ee);qc(U,F)}return null}function K(U,x,F,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(F)||null,S(x,U,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return U=U.get(ee.key===null?F:ee.key)||null,N(x,U,ee,ye);case L:return U=U.get(ee.key===null?F:ee.key)||null,H(x,U,ee,ye);case A:return ee=ha(ee),K(U,x,F,ee,ye)}if(it(ee)||k(ee))return U=U.get(F)||null,Z(x,U,ee,ye,null);if(typeof ee.then=="function")return K(U,x,F,Hc(ee),ye);if(ee.$$typeof===J)return K(U,x,F,zc(x,ee),ye);qc(x,ee)}return null}function he(U,x,F,ee){for(var ye=null,He=null,de=x,De=x=0,ke=null;de!==null&&De<F.length;De++){de.index>De?(ke=de,de=null):ke=de.sibling;var qe=q(U,de,F[De],ee);if(qe===null){de===null&&(de=ke);break}i&&de&&qe.alternate===null&&s(U,de),x=m(qe,x,De),He===null?ye=qe:He.sibling=qe,He=qe,de=ke}if(De===F.length)return o(U,de),ze&&lr(U,De),ye;if(de===null){for(;De<F.length;De++)de=te(U,F[De],ee),de!==null&&(x=m(de,x,De),He===null?ye=de:He.sibling=de,He=de);return ze&&lr(U,De),ye}for(de=u(de);De<F.length;De++)ke=K(de,U,De,F[De],ee),ke!==null&&(i&&ke.alternate!==null&&de.delete(ke.key===null?De:ke.key),x=m(ke,x,De),He===null?ye=ke:He.sibling=ke,He=ke);return i&&de.forEach(function(ds){return s(U,ds)}),ze&&lr(U,De),ye}function Te(U,x,F,ee){if(F==null)throw Error(r(151));for(var ye=null,He=null,de=x,De=x=0,ke=null,qe=F.next();de!==null&&!qe.done;De++,qe=F.next()){de.index>De?(ke=de,de=null):ke=de.sibling;var ds=q(U,de,qe.value,ee);if(ds===null){de===null&&(de=ke);break}i&&de&&ds.alternate===null&&s(U,de),x=m(ds,x,De),He===null?ye=ds:He.sibling=ds,He=ds,de=ke}if(qe.done)return o(U,de),ze&&lr(U,De),ye;if(de===null){for(;!qe.done;De++,qe=F.next())qe=te(U,qe.value,ee),qe!==null&&(x=m(qe,x,De),He===null?ye=qe:He.sibling=qe,He=qe);return ze&&lr(U,De),ye}for(de=u(de);!qe.done;De++,qe=F.next())qe=K(de,U,De,qe.value,ee),qe!==null&&(i&&qe.alternate!==null&&de.delete(qe.key===null?De:qe.key),x=m(qe,x,De),He===null?ye=qe:He.sibling=qe,He=qe);return i&&de.forEach(function(HC){return s(U,HC)}),ze&&lr(U,De),ye}function et(U,x,F,ee){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case O:e:{for(var ye=F.key;x!==null;){if(x.key===ye){if(ye=F.type,ye===z){if(x.tag===7){o(U,x.sibling),ee=f(x,F.props.children),ee.return=U,U=ee;break e}}else if(x.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&ha(ye)===x.type){o(U,x.sibling),ee=f(x,F.props),Bl(ee,F),ee.return=U,U=ee;break e}o(U,x);break}else s(U,x);x=x.sibling}F.type===z?(ee=aa(F.props.children,U.mode,ee,F.key),ee.return=U,U=ee):(ee=Vc(F.type,F.key,F.props,null,U.mode,ee),Bl(ee,F),ee.return=U,U=ee)}return _(U);case L:e:{for(ye=F.key;x!==null;){if(x.key===ye)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){o(U,x.sibling),ee=f(x,F.children||[]),ee.return=U,U=ee;break e}else{o(U,x);break}else s(U,x);x=x.sibling}ee=Id(F,U.mode,ee),ee.return=U,U=ee}return _(U);case A:return F=ha(F),et(U,x,F,ee)}if(it(F))return he(U,x,F,ee);if(k(F)){if(ye=k(F),typeof ye!="function")throw Error(r(150));return F=ye.call(F),Te(U,x,F,ee)}if(typeof F.then=="function")return et(U,x,Hc(F),ee);if(F.$$typeof===J)return et(U,x,zc(U,F),ee);qc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,x!==null&&x.tag===6?(o(U,x.sibling),ee=f(x,F),ee.return=U,U=ee):(o(U,x),ee=Rd(F,U.mode,ee),ee.return=U,U=ee),_(U)):o(U,x)}return function(U,x,F,ee){try{zl=0;var ye=et(U,x,F,ee);return yo=null,ye}catch(de){if(de===go||de===jc)throw de;var He=In(29,de,null,U.mode);return He.lanes=ee,He.return=U,He}}}var da=wv(!0),Av=wv(!1),$r=!1;function Bd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=kc(i),lv(i,null,o),s}return Mc(i,u,s,o),kc(i)}function jl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}function Fd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Hd=!1;function Fl(){if(Hd){var i=po;if(i!==null)throw i}}function Hl(i,s,o,u){Hd=!1;var f=i.updateQueue;$r=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?m=H:_.next=H,_=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=H:S.next=H,Z.lastBaseUpdate=N))}if(m!==null){var te=f.baseState;_=0,Z=H=N=null,S=m;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(Me&q)===q:(u&q)===q){q!==0&&q===mo&&(Hd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=i,Te=S;q=s;var et=o;switch(Te.tag){case 1:if(he=Te.payload,typeof he=="function"){te=he.call(et,te,q);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Te.payload,q=typeof he=="function"?he.call(et,te,q):he,q==null)break e;te=E({},te,q);break e;case 2:$r=!0}}q=S.callback,q!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(H=Z=K,N=te):Z=Z.next=K,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Z===null&&(N=te),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),is|=_,i.lanes=_,i.memoizedState=te}}function Cv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Rv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Cv(o[i],s)}var vo=C(null),Gc=C(0);function Iv(i,s){i=_r,re(Gc,i),re(vo,s),_r=i|s.baseLanes}function qd(){re(Gc,_r),re(vo,vo.current)}function Gd(){_r=Gc.current,B(vo),B(Gc)}var Dn=C(null),Gn=null;function Jr(i){var s=i.alternate;re(St,St.current&1),re(Dn,i),Gn===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(Gn=i)}function Yd(i){re(St,St.current),re(Dn,i),Gn===null&&(Gn=i)}function Dv(i){i.tag===22?(re(St,St.current),re(Dn,i),Gn===null&&(Gn=i)):es()}function es(){re(St,St.current),re(Dn,Dn.current)}function On(i){B(Dn),Gn===i&&(Gn=null),B(St)}var St=C(0);function Yc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zm(o)||Jm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hr=0,Ie=null,Ze=null,Pt=null,Xc=!1,_o=!1,ma=!1,Kc=0,ql=0,To=null,xA=0;function pt(){throw Error(r(321))}function Xd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Rn(i[o],s[o]))return!1;return!0}function Kd(i,s,o,u,f,m){return hr=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?f_:um,ma=!1,m=o(u,f),ma=!1,_o&&(m=Nv(s,o,u,f)),Ov(i),m}function Ov(i){$.H=Xl;var s=Ze!==null&&Ze.next!==null;if(hr=0,Pt=Ze=Ie=null,Xc=!1,ql=0,To=null,s)throw Error(r(300));i===null||xt||(i=i.dependencies,i!==null&&Uc(i)&&(xt=!0))}function Nv(i,s,o,u){Ie=i;var f=0;do{if(_o&&(To=null),ql=0,_o=!1,25<=f)throw Error(r(301));if(f+=1,Pt=Ze=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=d_,m=s(o,u)}while(_o);return m}function MA(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?Gl(s):s,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(Ie.flags|=1024),s}function Qd(){var i=Kc!==0;return Kc=0,i}function $d(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Wd(i){if(Xc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xc=!1}hr=0,Pt=Ze=Ie=null,_o=!1,ql=Kc=0,To=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ie.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function bt(){if(Ze===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var s=Pt===null?Ie.memoizedState:Pt.next;if(s!==null)Pt=s,Ze=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Pt===null?Ie.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(i){var s=ql;return ql+=1,To===null&&(To=[]),i=Ev(To,i,s),s=Ie,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?f_:um),i}function $c(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gl(i);if(i.$$typeof===J)return Jt(i)}throw Error(r(438,String(i)))}function Zd(i){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Qc(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=M;return s.index++,o}function fr(i,s){return typeof s=="function"?s(i):s}function Wc(i){var s=bt();return Jd(s,Ze,i)}function Jd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var S=_=null,N=null,H=s,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Me&te)===te:(hr&te)===te){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===mo&&(Z=!0);else if((hr&q)===q){H=H.next,q===mo&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=te,_=m):N=N.next=te,Ie.lanes|=q,is|=q;te=H.action,ma&&o(m,te),m=H.hasEagerState?H.eagerState:o(m,te)}else q={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=q,_=m):N=N.next=q,Ie.lanes|=te,is|=te;H=H.next}while(H!==null&&H!==s);if(N===null?_=m:N.next=S,!Rn(m,i.memoizedState)&&(xt=!0,Z&&(o=po,o!==null)))throw o;i.memoizedState=m,i.baseState=_,i.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function em(i){var s=bt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Rn(m,s.memoizedState)||(xt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Pv(i,s,o){var u=Ie,f=bt(),m=ze;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var _=!Rn((Ze||f).memoizedState,o);if(_&&(f.memoizedState=o,xt=!0),f=f.queue,im(kv.bind(null,u,f,i),[i]),f.getSnapshot!==s||_||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},Mv.bind(null,u,f,o,s),null),nt===null)throw Error(r(349));m||(hr&127)!==0||xv(u,s,o)}return o}function xv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=Qc(),Ie.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Mv(i,s,o,u){s.value=o,s.getSnapshot=u,Vv(s)&&Lv(i)}function kv(i,s,o){return o(function(){Vv(s)&&Lv(i)})}function Vv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Rn(i,o)}catch{return!0}}function Lv(i){var s=sa(i,2);s!==null&&Sn(s,i,2)}function tm(i){var s=dn();if(typeof i=="function"){var o=i;if(i=o(),ma){kn(!0);try{o()}finally{kn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:i},s}function Uv(i,s,o,u){return i.baseState=o,Jd(i,Ze,typeof u=="function"?u:fr)}function kA(i,s,o,u,f){if(eh(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};$.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,zv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function zv(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var m=$.T,_={};$.T=_;try{var S=o(f,u),N=$.S;N!==null&&N(_,S),Bv(i,s,S)}catch(H){nm(i,s,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),$.T=m}}else try{m=o(f,u),Bv(i,s,m)}catch(H){nm(i,s,H)}}function Bv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){jv(i,s,u)},function(u){return nm(i,s,u)}):jv(i,s,o)}function jv(i,s,o){s.status="fulfilled",s.value=o,Fv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,zv(i,o)))}function nm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Fv(s),s=s.next;while(s!==u)}i.action=null}function Fv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Hv(i,s){return s}function qv(i,s){if(ze){var o=nt.formState;if(o!==null){e:{var u=Ie;if(ze){if(at){t:{for(var f=at,m=qn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Yn(f.nextSibling),u=f.data==="F!";break e}}Kr(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hv,lastRenderedState:s},o.queue=u,o=u_.bind(null,Ie,u),u.dispatch=o,u=tm(!1),m=lm.bind(null,Ie,!1,u.queue),u=dn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=kA.bind(null,Ie,f,m,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function Gv(i){var s=bt();return Yv(s,Ze,i)}function Yv(i,s,o){if(s=Jd(i,s,Hv)[0],i=Wc(fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Gl(s)}catch(_){throw _===go?jc:_}else u=s;s=bt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Ie.flags|=2048,Eo(9,{destroy:void 0},VA.bind(null,f,o),null)),[u,m,i]}function VA(i,s){i.action=s}function Xv(i){var s=bt(),o=Ze;if(o!==null)return Yv(s,o,i);bt(),s=s.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Eo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Qc(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Kv(){return bt().memoizedState}function Zc(i,s,o,u){var f=dn();Ie.flags|=i,f.memoizedState=Eo(1|s,{destroy:void 0},o,u===void 0?null:u)}function Jc(i,s,o,u){var f=bt();u=u===void 0?null:u;var m=f.memoizedState.inst;Ze!==null&&u!==null&&Xd(u,Ze.memoizedState.deps)?f.memoizedState=Eo(s,m,o,u):(Ie.flags|=i,f.memoizedState=Eo(1|s,m,o,u))}function Qv(i,s){Zc(8390656,8,i,s)}function im(i,s){Jc(2048,8,i,s)}function LA(i){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Qc(),Ie.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function $v(i){var s=bt().memoizedState;return LA({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Wv(i,s){return Jc(4,2,i,s)}function Zv(i,s){return Jc(4,4,i,s)}function Jv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function e_(i,s,o){o=o!=null?o.concat([i]):null,Jc(4,4,Jv.bind(null,s,i),o)}function rm(){}function t_(i,s){var o=bt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Xd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function n_(i,s){var o=bt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Xd(s,u[1]))return u[0];if(u=i(),ma){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,s],u}function sm(i,s,o){return o===void 0||(hr&1073741824)!==0&&(Me&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=i0(),Ie.lanes|=i,is|=i,o)}function i_(i,s,o,u){return Rn(o,s)?o:vo.current!==null?(i=sm(i,o,u),Rn(i,s)||(xt=!0),i):(hr&42)===0||(hr&1073741824)!==0&&(Me&261930)===0?(xt=!0,i.memoizedState=o):(i=i0(),Ie.lanes|=i,is|=i,s)}function r_(i,s,o,u,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var _=$.T,S={};$.T=S,lm(i,!1,s,o);try{var N=f(),H=$.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=PA(N,u);Yl(i,s,Z,xn(i))}else Yl(i,s,u,xn(i))}catch(te){Yl(i,s,{then:function(){},status:"rejected",reason:te},xn())}finally{ae.p=m,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function UA(){}function am(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=s_(i).queue;r_(i,f,s,pe,o===null?UA:function(){return a_(i),o(u)})}function s_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:pe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function a_(i){var s=s_(i);s.next===null&&(s=i.alternate.memoizedState),Yl(i,s.next.queue,{},xn())}function om(){return Jt(uu)}function o_(){return bt().memoizedState}function l_(){return bt().memoizedState}function zA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();i=Wr(o);var u=Zr(s,i,o);u!==null&&(Sn(u,s,o),jl(u,s,o)),s={cache:Vd()},i.payload=s;return}s=s.return}}function BA(i,s,o){var u=xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eh(i)?c_(s,o):(o=Ad(i,s,o,u),o!==null&&(Sn(o,i,u),h_(o,s,u)))}function u_(i,s,o){var u=xn();Yl(i,s,o,u)}function Yl(i,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(i))c_(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,S=m(_,o);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,_))return Mc(i,s,f,0),nt===null&&xc(),!1}catch{}if(o=Ad(i,s,f,u),o!==null)return Sn(o,i,u),h_(o,s,u),!0}return!1}function lm(i,s,o,u){if(u={lane:2,revertLane:Bm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(s)throw Error(r(479))}else s=Ad(i,o,u,2),s!==null&&Sn(s,i,2)}function eh(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function c_(i,s){_o=Xc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function h_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}var Xl={readContext:Jt,use:$c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Xl.useEffectEvent=pt;var f_={readContext:Jt,use:$c,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Jt,useEffect:Qv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Zc(4194308,4,Jv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Zc(4194308,4,i,s)},useInsertionEffect:function(i,s){Zc(4,2,i,s)},useMemo:function(i,s){var o=dn();s=s===void 0?null:s;var u=i();if(ma){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=dn();if(o!==void 0){var f=o(s);if(ma){kn(!0);try{o(s)}finally{kn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=BA.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=tm(i);var s=i.queue,o=u_.bind(null,Ie,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:rm,useDeferredValue:function(i,s){var o=dn();return sm(o,i,s)},useTransition:function(){var i=tm(!1);return i=r_.bind(null,Ie,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ie,f=dn();if(ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),nt===null)throw Error(r(349));(Me&127)!==0||xv(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Qv(kv.bind(null,u,m,i),[i]),u.flags|=2048,Eo(9,{destroy:void 0},Mv.bind(null,u,m,o,s),null),o},useId:function(){var i=dn(),s=nt.identifierPrefix;if(ze){var o=Bi,u=zi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Kc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=xA++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:om,useFormState:qv,useActionState:qv,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=lm.bind(null,Ie,!0,o),o.dispatch=s,[i,s]},useMemoCache:Zd,useCacheRefresh:function(){return dn().memoizedState=zA.bind(null,Ie)},useEffectEvent:function(i){var s=dn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},um={readContext:Jt,use:$c,useCallback:t_,useContext:Jt,useEffect:im,useImperativeHandle:e_,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:n_,useReducer:Wc,useRef:Kv,useState:function(){return Wc(fr)},useDebugValue:rm,useDeferredValue:function(i,s){var o=bt();return i_(o,Ze.memoizedState,i,s)},useTransition:function(){var i=Wc(fr)[0],s=bt().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:Pv,useId:o_,useHostTransitionStatus:om,useFormState:Gv,useActionState:Gv,useOptimistic:function(i,s){var o=bt();return Uv(o,Ze,i,s)},useMemoCache:Zd,useCacheRefresh:l_};um.useEffectEvent=$v;var d_={readContext:Jt,use:$c,useCallback:t_,useContext:Jt,useEffect:im,useImperativeHandle:e_,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:n_,useReducer:em,useRef:Kv,useState:function(){return em(fr)},useDebugValue:rm,useDeferredValue:function(i,s){var o=bt();return Ze===null?sm(o,i,s):i_(o,Ze.memoizedState,i,s)},useTransition:function(){var i=em(fr)[0],s=bt().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:Pv,useId:o_,useHostTransitionStatus:om,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,s){var o=bt();return Ze!==null?Uv(o,Ze,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:l_};d_.useEffectEvent=$v;function cm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=xn(),f=Wr(u);f.payload=s,o!=null&&(f.callback=o),s=Zr(i,f,u),s!==null&&(Sn(s,i,u),jl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=xn(),f=Wr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Zr(i,f,u),s!==null&&(Sn(s,i,u),jl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=xn(),u=Wr(o);u.tag=2,s!=null&&(u.callback=s),s=Zr(i,u,o),s!==null&&(Sn(s,i,o),jl(s,i,o))}};function m_(i,s,o,u,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,_):s.prototype&&s.prototype.isPureReactComponent?!xl(o,u)||!xl(f,m):!0}function p_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&hm.enqueueReplaceState(s,s.state,null)}function pa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=E({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function g_(i){Pc(i)}function y_(i){console.error(i)}function v_(i){Pc(i)}function th(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function __(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fm(i,s,o){return o=Wr(o),o.tag=3,o.payload={element:null},o.callback=function(){th(i,s)},o}function T_(i){return i=Wr(i),i.tag=3,i}function E_(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){__(s,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){__(s,o,u),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function jA(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fo(s,o,f,!0),o=Dn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?dh():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Fc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Lm(i,u,f)),!1;case 22:return o.flags|=65536,u===Fc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Lm(i,u,f)),!1}throw Error(r(435,o.tag))}return Lm(i,u,f),dh(),!1}if(ze)return s=Dn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Nd&&(i=Error(r(422),{cause:u}),Vl(jn(i,o)))):(u!==Nd&&(s=Error(r(423),{cause:u}),Vl(jn(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=jn(u,o),f=fm(i.stateNode,u,f),Fd(i,f),gt!==4&&(gt=2)),!1;var m=Error(r(520),{cause:u});if(m=jn(m,o),tu===null?tu=[m]:tu.push(m),gt!==4&&(gt=2),s===null)return!0;u=jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=fm(o.stateNode,u,i),Fd(o,i),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=T_(f),E_(f,i,o,u),Fd(o,f),!1}o=o.return}while(o!==null);return!1}var dm=Error(r(461)),xt=!1;function en(i,s,o,u){s.child=i===null?Av(s,null,o,u):da(s,i.child,o,u)}function S_(i,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return ua(s),u=Kd(i,s,o,_,m,f),S=Qd(),i!==null&&!xt?($d(i,s,f),dr(i,s,f)):(ze&&S&&Dd(s),s.flags|=1,en(i,s,u,f),s.child)}function b_(i,s,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Cd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,w_(i,s,m,u,f)):(i=Vc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Em(i,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(_,u)&&i.ref===s.ref)return dr(i,s,f)}return s.flags|=1,i=or(m,u),i.ref=s.ref,i.return=s,s.child=i}function w_(i,s,o,u,f){if(i!==null){var m=i.memoizedProps;if(xl(m,u)&&i.ref===s.ref)if(xt=!1,s.pendingProps=u=m,Em(i,f))(i.flags&131072)!==0&&(xt=!0);else return s.lanes=i.lanes,dr(i,s,f)}return mm(i,s,o,u,f)}function A_(i,s,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=s.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return C_(i,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bc(s,m!==null?m.cachePool:null),m!==null?Iv(s,m):qd(),Dv(s);else return u=s.lanes=536870912,C_(i,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Bc(s,m.cachePool),Iv(s,m),es(),s.memoizedState=null):(i!==null&&Bc(s,null),qd(),es());return en(i,s,f,o),s.child}function Kl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function C_(i,s,o,u,f){var m=Ud();return m=m===null?null:{parent:Nt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Bc(s,null),qd(),Dv(s),i!==null&&fo(i,s,u,!0),s.childLanes=f,null}function nh(i,s){return s=rh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function R_(i,s,o){return da(s,i.child,null,o),i=nh(s,s.pendingProps),i.flags|=2,On(s),s.memoizedState=null,i}function FA(i,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ze){if(u.mode==="hidden")return i=nh(s,u),s.lanes=536870912,Kl(null,i);if(Yd(s),(i=at)?(i=z0(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Yr!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=cv(i),o.return=s,s.child=o,Zt=s,at=null)):i=null,i===null)throw Kr(s);return s.lanes=536870912,null}return nh(s,u)}var m=i.memoizedState;if(m!==null){var _=m.dehydrated;if(Yd(s),f)if(s.flags&256)s.flags&=-257,s=R_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(xt||fo(i,s,o,!1),f=(o&i.childLanes)!==0,xt||f){if(u=nt,u!==null&&(_=pl(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,sa(i,_),Sn(u,i,_),dm;dh(),s=R_(i,s,o)}else i=m.treeContext,at=Yn(_.nextSibling),Zt=s,ze=!0,Xr=null,qn=!1,i!==null&&dv(s,i),s=nh(s,u),s.flags|=4096;return s}return i=or(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ih(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function mm(i,s,o,u,f){return ua(s),o=Kd(i,s,o,u,void 0,f),u=Qd(),i!==null&&!xt?($d(i,s,f),dr(i,s,f)):(ze&&u&&Dd(s),s.flags|=1,en(i,s,o,f),s.child)}function I_(i,s,o,u,f,m){return ua(s),s.updateQueue=null,o=Nv(s,u,o,f),Ov(i),u=Qd(),i!==null&&!xt?($d(i,s,m),dr(i,s,m)):(ze&&u&&Dd(s),s.flags|=1,en(i,s,o,m),s.child)}function D_(i,s,o,u,f){if(ua(s),s.stateNode===null){var m=lo,_=o.contextType;typeof _=="object"&&_!==null&&(m=Jt(_)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Bd(s),_=o.contextType,m.context=typeof _=="object"&&_!==null?Jt(_):lo,m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(cm(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&hm.enqueueReplaceState(m,m.state,null),Hl(s,u,m,f),Fl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var S=s.memoizedProps,N=pa(o,S);m.props=N;var H=m.context,Z=o.contextType;_=lo,typeof Z=="object"&&Z!==null&&(_=Jt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||H!==_)&&p_(s,m,u,_),$r=!1;var q=s.memoizedState;m.state=q,Hl(s,u,m,f),Fl(),H=s.memoizedState,S||q!==H||$r?(typeof te=="function"&&(cm(s,o,te,u),H=s.memoizedState),(N=$r||m_(s,o,N,u,q,H,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,jd(i,s),_=s.memoizedProps,Z=pa(o,_),m.props=Z,te=s.pendingProps,q=m.context,H=o.contextType,N=lo,typeof H=="object"&&H!==null&&(N=Jt(H)),S=o.getDerivedStateFromProps,(H=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||q!==N)&&p_(s,m,u,N),$r=!1,q=s.memoizedState,m.state=q,Hl(s,u,m,f),Fl();var K=s.memoizedState;_!==te||q!==K||$r||i!==null&&i.dependencies!==null&&Uc(i.dependencies)?(typeof S=="function"&&(cm(s,o,S,u),K=s.memoizedState),(Z=$r||m_(s,o,Z,u,q,K,N)||i!==null&&i.dependencies!==null&&Uc(i.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=K),m.props=u,m.state=K,m.context=N,u=Z):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,ih(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=da(s,i.child,null,f),s.child=da(s,null,o,f)):en(i,s,o,f),s.memoizedState=m.state,i=s.child):i=dr(i,s,f),i}function O_(i,s,o,u){return oa(),s.flags|=256,en(i,s,o,u),s.child}var pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(i){return{baseLanes:i,cachePool:_v()}}function ym(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Pn),i}function N_(i,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(f?Jr(s):es(),(i=at)?(i=z0(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Yr!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=cv(i),o.return=s,s.child=o,Zt=s,at=null)):i=null,i===null)throw Kr(s);return Jm(i)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(es(),f=s.mode,S=rh({mode:"hidden",children:S},f),u=aa(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=gm(o),u.childLanes=ym(i,_,o),s.memoizedState=pm,Kl(null,u)):(Jr(s),vm(s,S))}var N=i.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(m)s.flags&256?(Jr(s),s.flags&=-257,s=_m(i,s,o)):s.memoizedState!==null?(es(),s.child=i.child,s.flags|=128,s=null):(es(),S=u.fallback,f=s.mode,u=rh({mode:"visible",children:u.children},f),S=aa(S,f,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,da(s,i.child,null,o),u=s.child,u.memoizedState=gm(o),u.childLanes=ym(i,_,o),s.memoizedState=pm,s=Kl(null,u));else if(Jr(s),Jm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(r(419)),u.stack="",u.digest=_,Vl({value:u,source:null,stack:null}),s=_m(i,s,o)}else if(xt||fo(i,s,o,!1),_=(o&i.childLanes)!==0,xt||_){if(_=nt,_!==null&&(u=pl(_,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,sa(i,u),Sn(_,i,u),dm;Zm(S)||dh(),s=_m(i,s,o)}else Zm(S)?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,at=Yn(S.nextSibling),Zt=s,ze=!0,Xr=null,qn=!1,i!==null&&dv(s,i),s=vm(s,u.children),s.flags|=4096);return s}return f?(es(),S=u.fallback,f=s.mode,N=i.child,H=N.sibling,u=or(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=or(H,S):(S=aa(S,f,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Kl(null,u),u=s.child,S=i.child.memoizedState,S===null?S=gm(o):(f=S.cachePool,f!==null?(N=Nt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=_v(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=ym(i,_,o),s.memoizedState=pm,Kl(i.child,u)):(Jr(s),o=i.child,i=o.sibling,o=or(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=o,s.memoizedState=null,o)}function vm(i,s){return s=rh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function rh(i,s){return i=In(22,i,null,s),i.lanes=0,i}function _m(i,s,o){return da(s,i.child,null,o),i=vm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function P_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Md(i.return,s,o)}function Tm(i,s,o,u,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function x_(i,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,re(St,_),en(i,s,u,o),u=ze?kl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P_(i,o,s);else if(i.tag===19)P_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&Yc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Tm(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Yc(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Tm(s,!0,o,null,m,u);break;case"together":Tm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function dr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),is|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(fo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=or(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=or(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Em(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Uc(i)))}function HA(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),Qr(s,Nt,i.memoizedState.cache),oa();break;case 27:case 5:Ti(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:Qr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yd(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Jr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?N_(i,s,o):(Jr(s),i=dr(i,s,o),i!==null?i.sibling:null);Jr(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fo(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return x_(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(St,St.current),u)break;return null;case 22:return s.lanes=0,A_(i,s,o,s.pendingProps);case 24:Qr(s,Nt,i.memoizedState.cache)}return dr(i,s,o)}function M_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)xt=!0;else{if(!Em(i,o)&&(s.flags&128)===0)return xt=!1,HA(i,s,o);xt=(i.flags&131072)!==0}else xt=!1,ze&&(s.flags&1048576)!==0&&fv(s,kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ha(s.elementType),s.type=i,typeof i=="function")Cd(i)?(u=pa(i,u),s.tag=1,s=D_(null,s,i,u,o)):(s.tag=0,s=mm(null,s,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===le){s.tag=11,s=S_(null,s,i,u,o);break e}else if(f===R){s.tag=14,s=b_(null,s,i,u,o);break e}}throw s=Fe(i)||i,Error(r(306,s,""))}}return s;case 0:return mm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=pa(u,s.pendingProps),D_(i,s,u,f,o);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,jd(i,s),Hl(s,u,null,o);var _=s.memoizedState;if(u=_.cache,Qr(s,Nt,u),u!==m.cache&&kd(s,[Nt],o,!0),Fl(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=O_(i,s,u,o);break e}else if(u!==f){f=jn(Error(r(424)),s),Vl(f),s=O_(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Yn(i.firstChild),Zt=s,ze=!0,Xr=null,qn=!0,o=Av(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oa(),u===f){s=dr(i,s,o);break e}en(i,s,u,o)}s=s.child}return s;case 26:return ih(i,s),i===null?(o=G0(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,i=s.pendingProps,u=Th(_e.current).createElement(o),u[It]=s,u[Ht]=i,tn(u,o,i),Dt(u),s.stateNode=u):s.memoizedState=G0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ti(s),i===null&&ze&&(u=s.stateNode=F0(s.type,s.pendingProps,_e.current),Zt=s,qn=!0,f=at,ls(s.type)?(ep=f,at=Yn(u.firstChild)):at=f),en(i,s,s.pendingProps.children,o),ih(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((f=u=at)&&(u=_C(u,s.type,s.pendingProps,qn),u!==null?(s.stateNode=u,Zt=s,at=Yn(u.firstChild),qn=!1,f=!0):f=!1),f||Kr(s)),Ti(s),f=s.type,m=s.pendingProps,_=i!==null?i.memoizedProps:null,u=m.children,Qm(f,m)?u=null:_!==null&&Qm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Kd(i,s,MA,null,null,o),uu._currentValue=f),ih(i,s),en(i,s,u,o),s.child;case 6:return i===null&&ze&&((i=o=at)&&(o=TC(o,s.pendingProps,qn),o!==null?(s.stateNode=o,Zt=s,at=null,i=!0):i=!1),i||Kr(s)),null;case 13:return N_(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=da(s,null,u,o):en(i,s,u,o),s.child;case 11:return S_(i,s,s.type,s.pendingProps,o);case 7:return en(i,s,s.pendingProps,o),s.child;case 8:return en(i,s,s.pendingProps.children,o),s.child;case 12:return en(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Qr(s,s.type,u.value),en(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ua(s),f=Jt(f),u=u(f),s.flags|=1,en(i,s,u,o),s.child;case 14:return b_(i,s,s.type,s.pendingProps,o);case 15:return w_(i,s,s.type,s.pendingProps,o);case 19:return x_(i,s,o);case 31:return FA(i,s,o);case 22:return A_(i,s,o,s.pendingProps);case 24:return ua(s),u=Jt(Nt),i===null?(f=Ud(),f===null&&(f=nt,m=Vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},Bd(s),Qr(s,Nt,f)):((i.lanes&o)!==0&&(jd(i,s),Hl(s,null,null,o),Fl()),f=i.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Qr(s,Nt,u)):(u=m.cache,Qr(s,Nt,u),u!==f.cache&&kd(s,[Nt],o,!0))),en(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function mr(i){i.flags|=4}function Sm(i,s,o,u,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(o0())i.flags|=8192;else throw fa=Fc,zd}else i.flags&=-16777217}function k_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$0(s))if(o0())i.flags|=8192;else throw fa=Fc,zd}function sh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hc():536870912,i.lanes|=s,Ao|=s)}function Ql(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function qA(i,s,o){var u=s.pendingProps;switch(Od(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),cr(Nt),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ho(s)?mr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pd())),ot(s),null;case 26:var f=s.type,m=s.memoizedState;return i===null?(mr(s),m!==null?(ot(s),k_(s,m)):(ot(s),Sm(s,f,null,u,o))):m?m!==i.memoizedState?(mr(s),ot(s),k_(s,m)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&mr(s),ot(s),Sm(s,f,i,u,o)),null;case 27:if(nr(s),o=_e.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&mr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}i=oe.current,ho(s)?mv(s):(i=F0(f,u,o),s.stateNode=i,mr(s))}return ot(s),null;case 5:if(nr(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&mr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(m=oe.current,ho(s))mv(s);else{var _=Th(_e.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[It]=s,m[Ht]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(tn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&mr(s)}}return ot(s),Sm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&mr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=_e.current,ho(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[It]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||N0(i.nodeValue,o)),i||Kr(s,!0)}else i=Th(i).createTextNode(u),i[It]=s,s.stateNode=i}return ot(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ho(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[It]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else o=Pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ho(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=Pd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),sh(s,s.updateQueue),ot(s),null);case 4:return tt(),i===null&&qm(s.stateNode.containerInfo),ot(s),null;case 10:return cr(s.type),ot(s),null;case 19:if(B(St),u=s.memoizedState,u===null)return ot(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)Ql(u,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Yc(i),m!==null){for(s.flags|=128,Ql(u,!1),i=m.updateQueue,s.updateQueue=i,sh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)uv(o,i),o=o.sibling;return re(St,St.current&1|2),ze&&lr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&hn()>ch&&(s.flags|=128,f=!0,Ql(u,!1),s.lanes=4194304)}else{if(!f)if(i=Yc(m),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,sh(s,i),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!ze)return ot(s),null}else 2*hn()-u.renderingStartTime>ch&&o!==536870912&&(s.flags|=128,f=!0,Ql(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(i=u.last,i!==null?i.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=St.current,re(St,f?o&1|2:o&1),ze&&lr(s,u.treeForkCount),i):(ot(s),null);case 22:case 23:return On(s),Gd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),o=s.updateQueue,o!==null&&sh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&B(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),cr(Nt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function GA(i,s){switch(Od(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return cr(Nt),tt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return nr(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));oa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(On(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));oa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return B(St),null;case 4:return tt(),null;case 10:return cr(s.type),null;case 22:case 23:return On(s),Gd(),i!==null&&B(ca),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return cr(Nt),null;case 25:return null;default:return null}}function V_(i,s){switch(Od(s),s.tag){case 3:cr(Nt),tt();break;case 26:case 27:case 5:nr(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:B(St);break;case 10:cr(s.type);break;case 22:case 23:On(s),Gd(),i!==null&&B(ca);break;case 24:cr(Nt)}}function $l(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(S){$e(s,s.return,S)}}function ts(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var N=o,H=S;try{H()}catch(Z){$e(f,N,Z)}}}u=u.next}while(u!==m)}}catch(Z){$e(s,s.return,Z)}}function L_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Rv(s,o)}catch(u){$e(i,i.return,u)}}}function U_(i,s,o){o.props=pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){$e(i,s,u)}}function Wl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){$e(i,s,f)}}function ji(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){$e(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){$e(i,s,f)}else o.current=null}function z_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){$e(i,i.return,f)}}function bm(i,s,o){try{var u=i.stateNode;dC(u,i.type,o,s),u[Ht]=s}catch(f){$e(i,i.return,f)}}function B_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ls(i.type)||i.tag===4}function wm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||B_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Am(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ii));else if(u!==4&&(u===27&&ls(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Am(i,s,o),i=i.sibling;i!==null;)Am(i,s,o),i=i.sibling}function ah(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ls(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ah(i,s,o),i=i.sibling;i!==null;)ah(i,s,o),i=i.sibling}function j_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);tn(s,u,o),s[It]=i,s[Ht]=o}catch(m){$e(i,i.return,m)}}var pr=!1,Mt=!1,Cm=!1,F_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function YA(i,s){if(i=i.containerInfo,Xm=Rh,i=ev(i),_d(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,S=-1,N=-1,H=0,Z=0,te=i,q=null;t:for(;;){for(var K;te!==o||f!==0&&te.nodeType!==3||(S=_+f),te!==m||u!==0&&te.nodeType!==3||(N=_+u),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)q=te,te=K;for(;;){if(te===i)break t;if(q===o&&++H===f&&(S=_),q===m&&++Z===u&&(N=_),(K=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=K}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Km={focusedElem:i,selectionRange:o},Rh=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,m=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var he=pa(o.type,f);i=u.getSnapshotBeforeUpdate(he,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){$e(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function H_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:yr(i,o),u&4&&$l(5,o);break;case 1:if(yr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(_){$e(o,o.return,_)}else{var f=pa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(o,o.return,_)}}u&64&&L_(o),u&512&&Wl(o,o.return);break;case 3:if(yr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Rv(i,s)}catch(_){$e(o,o.return,_)}}break;case 27:s===null&&u&4&&j_(o);case 26:case 5:yr(i,o),s===null&&u&4&&z_(o),u&512&&Wl(o,o.return);break;case 12:yr(i,o);break;case 31:yr(i,o),u&4&&Y_(i,o);break;case 13:yr(i,o),u&4&&X_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=tC.bind(null,o),EC(i,o))));break;case 22:if(u=o.memoizedState!==null||pr,!u){s=s!==null&&s.memoizedState!==null||Mt,f=pr;var m=Mt;pr=u,(Mt=s)&&!m?vr(i,o,(o.subtreeFlags&8772)!==0):yr(i,o),pr=f,Mt=m}break;case 30:break;default:yr(i,o)}}function q_(i){var s=i.alternate;s!==null&&(i.alternate=null,q_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ka(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,vn=!1;function gr(i,s,o){for(o=o.child;o!==null;)G_(i,s,o),o=o.sibling}function G_(i,s,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:Mt||ji(o,s),gr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||ji(o,s);var u=ct,f=vn;ls(o.type)&&(ct=o.stateNode,vn=!1),gr(i,s,o),au(o.stateNode),ct=u,vn=f;break;case 5:Mt||ji(o,s);case 6:if(u=ct,f=vn,ct=null,gr(i,s,o),ct=u,vn=f,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(m){$e(o,s,m)}else try{ct.removeChild(o.stateNode)}catch(m){$e(o,s,m)}break;case 18:ct!==null&&(vn?(i=ct,L0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),xo(i)):L0(ct,o.stateNode));break;case 4:u=ct,f=vn,ct=o.stateNode.containerInfo,vn=!0,gr(i,s,o),ct=u,vn=f;break;case 0:case 11:case 14:case 15:ts(2,o,s),Mt||ts(4,o,s),gr(i,s,o);break;case 1:Mt||(ji(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&U_(o,s,u)),gr(i,s,o);break;case 21:gr(i,s,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,gr(i,s,o),Mt=u;break;default:gr(i,s,o)}}function Y_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{xo(i)}catch(o){$e(s,s.return,o)}}}function X_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xo(i)}catch(o){$e(s,s.return,o)}}function XA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new F_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new F_),s;default:throw Error(r(435,i.tag))}}function oh(i,s){var o=XA(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=nC.bind(null,i,u);u.then(f,f)}})}function _n(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){ct=S.stateNode,vn=!1;break e}break;case 5:ct=S.stateNode,vn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(ct===null)throw Error(r(160));G_(m,_,f),ct=null,vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)K_(s,i),s=s.sibling}var ui=null;function K_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(s,i),Tn(i),u&4&&(ts(3,i,i.return),$l(3,i),ts(5,i,i.return));break;case 1:_n(s,i),Tn(i),u&512&&(Mt||o===null||ji(o,o.return)),u&64&&pr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(_n(s,i),Tn(i),u&512&&(Mt||o===null||ji(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ri]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),tn(m,u,o),m[It]=i,Dt(m),u=m;break e;case"link":var _=K0("link","href",f).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(u),tn(m,u,o),f.head.appendChild(m);break;case"meta":if(_=K0("meta","content",f).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}m=f.createElement(u),tn(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[It]=i,Dt(m),u=m}i.stateNode=u}else Q0(f,i.type,i.stateNode);else i.stateNode=X0(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Q0(f,i.type,i.stateNode):X0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&bm(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(s,i),Tn(i),u&512&&(Mt||o===null||ji(o,o.return)),o!==null&&u&4&&bm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(s,i),Tn(i),u&512&&(Mt||o===null||ji(o,o.return)),i.flags&32){f=i.stateNode;try{yn(f,"")}catch(he){$e(i,i.return,he)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,bm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Cm=!0);break;case 6:if(_n(s,i),Tn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(he){$e(i,i.return,he)}}break;case 3:if(bh=null,f=ui,ui=Eh(s.containerInfo),_n(s,i),ui=f,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(s.containerInfo)}catch(he){$e(i,i.return,he)}Cm&&(Cm=!1,Q_(i));break;case 4:u=ui,ui=Eh(i.stateNode.containerInfo),_n(s,i),Tn(i),ui=u;break;case 12:_n(s,i),Tn(i);break;case 31:_n(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,oh(i,u)));break;case 13:_n(s,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,oh(i,u)));break;case 22:f=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,H=pr,Z=Mt;if(pr=H||f,Mt=Z||N,_n(s,i),Mt=Z,pr=H,Tn(i),u&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||N||pr||Mt||ga(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(m=N.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){$e(N,N.return,he)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){$e(N,N.return,he)}}}else if(s.tag===18){if(o===null){N=s;try{var K=N.stateNode;f?U0(K,!0):U0(N.stateNode,!1)}catch(he){$e(N,N.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,oh(i,o))));break;case 19:_n(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,oh(i,u)));break;case 30:break;case 21:break;default:_n(s,i),Tn(i)}}function Tn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(B_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=wm(i);ah(i,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(yn(_,""),o.flags&=-33);var S=wm(i);ah(i,S,_);break;case 3:case 4:var N=o.stateNode.containerInfo,H=wm(i);Am(i,H,N);break;default:throw Error(r(161))}}catch(Z){$e(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Q_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Q_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function yr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)H_(i,s.alternate,s),s=s.sibling}function ga(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ts(4,s,s.return),ga(s);break;case 1:ji(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&U_(s,s.return,o),ga(s);break;case 27:au(s.stateNode);case 26:case 5:ji(s,s.return),ga(s);break;case 22:s.memoizedState===null&&ga(s);break;case 30:ga(s);break;default:ga(s)}i=i.sibling}}function vr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:vr(f,m,o),$l(4,m);break;case 1:if(vr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(u,u.return,H)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Cv(N[f],S)}catch(H){$e(u,u.return,H)}}o&&_&64&&L_(m),Wl(m,m.return);break;case 27:j_(m);case 26:case 5:vr(f,m,o),o&&u===null&&_&4&&z_(m),Wl(m,m.return);break;case 12:vr(f,m,o);break;case 31:vr(f,m,o),o&&_&4&&Y_(f,m);break;case 13:vr(f,m,o),o&&_&4&&X_(f,m);break;case 22:m.memoizedState===null&&vr(f,m,o),Wl(m,m.return);break;case 30:break;default:vr(f,m,o)}s=s.sibling}}function Rm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ll(o))}function Im(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ll(i))}function ci(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$_(i,s,o,u),s=s.sibling}function $_(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ci(i,s,o,u),f&2048&&$l(9,s);break;case 1:ci(i,s,o,u);break;case 3:ci(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ll(i)));break;case 12:if(f&2048){ci(i,s,o,u),i=s.stateNode;try{var m=s.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){$e(s,s.return,N)}}else ci(i,s,o,u);break;case 31:ci(i,s,o,u);break;case 13:ci(i,s,o,u);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ci(i,s,o,u):Zl(i,s):m._visibility&2?ci(i,s,o,u):(m._visibility|=2,So(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Rm(_,s);break;case 24:ci(i,s,o,u),f&2048&&Im(s.alternate,s);break;default:ci(i,s,o,u)}}function So(i,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=i,_=s,S=o,N=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:So(m,_,S,N,f),$l(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?So(m,_,S,N,f):Zl(m,_):(Z._visibility|=2,So(m,_,S,N,f)),f&&H&2048&&Rm(_.alternate,_);break;case 24:So(m,_,S,N,f),f&&H&2048&&Im(_.alternate,_);break;default:So(m,_,S,N,f)}s=s.sibling}}function Zl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:Zl(o,u),f&2048&&Rm(u.alternate,u);break;case 24:Zl(o,u),f&2048&&Im(u.alternate,u);break;default:Zl(o,u)}s=s.sibling}}var Jl=8192;function bo(i,s,o){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)W_(i,s,o),i=i.sibling}function W_(i,s,o){switch(i.tag){case 26:bo(i,s,o),i.flags&Jl&&i.memoizedState!==null&&xC(o,ui,i.memoizedState,i.memoizedProps);break;case 5:bo(i,s,o);break;case 3:case 4:var u=ui;ui=Eh(i.stateNode.containerInfo),bo(i,s,o),ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Jl,Jl=16777216,bo(i,s,o),Jl=u):bo(i,s,o));break;default:bo(i,s,o)}}function Z_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,e0(u,i)}Z_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J_(i),i=i.sibling}function J_(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&ts(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,lh(i)):eu(i);break;default:eu(i)}}function lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,e0(u,i)}Z_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ts(8,s,s.return),lh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,lh(s));break;default:lh(s)}i=i.sibling}}function e0(i,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:ts(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var f=u.sibling,m=u.return;if(q_(u),u===o){Gt=null;break e}if(f!==null){f.return=m,Gt=f;break e}Gt=m}}}var KA={getCacheForType:function(i){var s=Jt(Nt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Jt(Nt).controller.signal}},QA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ne=null,Me=0,Qe=0,Nn=null,ns=!1,wo=!1,Dm=!1,_r=0,gt=0,is=0,ya=0,Om=0,Pn=0,Ao=0,tu=null,En=null,Nm=!1,uh=0,t0=0,ch=1/0,hh=null,rs=null,jt=0,ss=null,Co=null,Tr=0,Pm=0,xm=null,n0=null,nu=0,Mm=null;function xn(){return(Ye&2)!==0&&Me!==0?Me&-Me:$.T!==null?Bm():fc()}function i0(){if(Pn===0)if((Me&536870912)===0||ze){var i=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Pn=i}else Pn=536870912;return i=Dn.current,i!==null&&(i.flags|=32),Pn}function Sn(i,s,o){(i===nt&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),as(i,Me,Pn,!1)),Gs(i,o),((Ye&2)===0||i!==nt)&&(i===nt&&((Ye&2)===0&&(ya|=o),gt===4&&as(i,Me,Pn,!1)),Fi(i))}function r0(i,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||ei(i,s),f=u?ZA(i,s):Vm(i,s,!0),m=u;do{if(f===0){wo&&!u&&as(i,s,0,!1);break}else{if(o=i.current.alternate,m&&!$A(o)){f=Vm(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=i;f=tu;var N=S.current.memoizedState.isDehydrated;if(N&&(Ro(S,_).flags|=256),_=Vm(S,_,!1),_!==2){if(Dm&&!N){S.errorRecoveryDisabledLanes|=m,ya|=m,f=4;break e}m=En,En=f,m!==null&&(En===null?En=m:En.push.apply(En,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Ro(i,0),as(i,s,0,!0);break}e:{switch(u=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:as(u,s,Pn,!ns);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=uh+300-hn(),10<f)){if(as(u,s,Pn,!ns),wi(u,0,!0)!==0)break e;Tr=s,u.timeoutHandle=k0(s0.bind(null,u,o,En,hh,Nm,s,Pn,ya,Ao,ns,m,"Throttled",-0,0),f);break e}s0(u,o,En,hh,Nm,s,Pn,ya,Ao,ns,m,null,-0,0)}}break}while(!0);Fi(i)}function s0(i,s,o,u,f,m,_,S,N,H,Z,te,q,K){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},W_(s,m,te);var he=(m&62914560)===m?uh-hn():(m&4194048)===m?t0-hn():0;if(he=MC(te,he),he!==null){Tr=m,i.cancelPendingCommit=he(d0.bind(null,i,s,m,o,u,f,_,S,N,Z,te,null,q,K)),as(i,m,_,!H);return}}d0(i,s,m,o,u,f,_,S,N)}function $A(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(i,s,o,u){s&=~Om,s&=~ya,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var m=31-Tt(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&Ys(i,o,s)}function fh(){return(Ye&6)===0?(iu(0),!1):!0}function km(){if(Ne!==null){if(Qe===0)var i=Ne.return;else i=Ne,ur=la=null,Wd(i),yo=null,zl=0,i=Ne;for(;i!==null;)V_(i.alternate,i),i=i.return;Ne=null}}function Ro(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,gC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Tr=0,km(),nt=i,Ne=o=or(i.current,null),Me=s,Qe=0,Nn=null,ns=!1,wo=ei(i,s),Dm=!1,Ao=Pn=Om=ya=is=gt=0,En=tu=null,Nm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Tt(u),m=1<<f;s|=i[f],u&=~m}return _r=s,xc(),o}function a0(i,s){Ie=null,$.H=Xl,s===go||s===jc?(s=Sv(),Qe=3):s===zd?(s=Sv(),Qe=4):Qe=s===dm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Ne===null&&(gt=1,th(i,jn(s,i.current)))}function o0(){var i=Dn.current;return i===null?!0:(Me&4194048)===Me?Gn===null:(Me&62914560)===Me||(Me&536870912)!==0?i===Gn:!1}function l0(){var i=$.H;return $.H=Xl,i===null?Xl:i}function u0(){var i=$.A;return $.A=KA,i}function dh(){gt=4,ns||(Me&4194048)!==Me&&Dn.current!==null||(wo=!0),(is&134217727)===0&&(ya&134217727)===0||nt===null||as(nt,Me,Pn,!1)}function Vm(i,s,o){var u=Ye;Ye|=2;var f=l0(),m=u0();(nt!==i||Me!==s)&&(hh=null,Ro(i,s)),s=!1;var _=gt;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,N=Nn;switch(Qe){case 8:km(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(s=!0);var H=Qe;if(Qe=0,Nn=null,Io(i,S,N,H),o&&wo){_=0;break e}break;default:H=Qe,Qe=0,Nn=null,Io(i,S,N,H)}}WA(),_=gt;break}catch(Z){a0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,ur=la=null,Ye=u,$.H=f,$.A=m,Ne===null&&(nt=null,Me=0,xc()),_}function WA(){for(;Ne!==null;)c0(Ne)}function ZA(i,s){var o=Ye;Ye|=2;var u=l0(),f=u0();nt!==i||Me!==s?(hh=null,ch=hn()+500,Ro(i,s)):wo=ei(i,s);e:do try{if(Qe!==0&&Ne!==null){s=Ne;var m=Nn;t:switch(Qe){case 1:Qe=0,Nn=null,Io(i,s,m,1);break;case 2:case 9:if(Tv(m)){Qe=0,Nn=null,h0(s);break}s=function(){Qe!==2&&Qe!==9||nt!==i||(Qe=7),Fi(i)},m.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Tv(m)?(Qe=0,Nn=null,h0(s)):(Qe=0,Nn=null,Io(i,s,m,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?$0(_):S.stateNode.complete){Qe=0,Nn=null;var N=S.sibling;if(N!==null)Ne=N;else{var H=S.return;H!==null?(Ne=H,mh(H)):Ne=null}break t}}Qe=0,Nn=null,Io(i,s,m,5);break;case 6:Qe=0,Nn=null,Io(i,s,m,6);break;case 8:km(),gt=6;break e;default:throw Error(r(462))}}JA();break}catch(Z){a0(i,Z)}while(!0);return ur=la=null,$.H=u,$.A=f,Ye=o,Ne!==null?0:(nt=null,Me=0,xc(),gt)}function JA(){for(;Ne!==null&&!fd();)c0(Ne)}function c0(i){var s=M_(i.alternate,i,_r);i.memoizedProps=i.pendingProps,s===null?mh(i):Ne=s}function h0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=I_(o,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=I_(o,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Wd(s);default:V_(o,s),s=Ne=uv(s,_r),s=M_(o,s,_r)}i.memoizedProps=i.pendingProps,s===null?mh(i):Ne=s}function Io(i,s,o,u){ur=la=null,Wd(s),yo=null,zl=0;var f=s.return;try{if(jA(i,f,s,o,Me)){gt=1,th(i,jn(o,i.current)),Ne=null;return}}catch(m){if(f!==null)throw Ne=f,m;gt=1,th(i,jn(o,i.current)),Ne=null;return}s.flags&32768?(ze||u===1?i=!0:wo||(Me&536870912)!==0?i=!1:(ns=i=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),f0(s,i)):mh(s)}function mh(i){var s=i;do{if((s.flags&32768)!==0){f0(s,ns);return}i=s.return;var o=qA(s.alternate,s,_r);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);gt===0&&(gt=5)}function f0(i,s){do{var o=GA(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);gt=6,Ne=null}function d0(i,s,o,u,f,m,_,S,N){i.cancelPendingCommit=null;do ph();while(jt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=wd,pd(i,o,m,_,S,N),i===nt&&(Ne=nt=null,Me=0),Co=s,ss=i,Tr=o,Pm=m,xm=f,n0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iC(Vr,function(){return v0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=ae.p,ae.p=2,_=Ye,Ye|=4;try{YA(i,s,o)}finally{Ye=_,ae.p=f,$.T=u}}jt=1,m0(),p0(),g0()}}function m0(){if(jt===1){jt=0;var i=ss,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ae.p;ae.p=2;var f=Ye;Ye|=4;try{K_(s,i);var m=Km,_=ev(i.containerInfo),S=m.focusedElem,N=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Jy(S.ownerDocument.documentElement,S)){if(N!==null&&_d(S)){var H=N.start,Z=N.end;if(Z===void 0&&(Z=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var K=q.getSelection(),he=S.textContent.length,Te=Math.min(N.start,he),et=N.end===void 0?Te:Math.min(N.end,he);!K.extend&&Te>et&&(_=et,et=Te,Te=_);var U=Zy(S,Te),x=Zy(S,et);if(U&&x&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==x.node||K.focusOffset!==x.offset)){var F=te.createRange();F.setStart(U.node,U.offset),K.removeAllRanges(),Te>et?(K.addRange(F),K.extend(x.node,x.offset)):(F.setEnd(x.node,x.offset),K.addRange(F))}}}}for(te=[],K=S;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Rh=!!Xm,Km=Xm=null}finally{Ye=f,ae.p=u,$.T=o}}i.current=s,jt=2}}function p0(){if(jt===2){jt=0;var i=ss,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ae.p;ae.p=2;var f=Ye;Ye|=4;try{H_(i,s.alternate,s)}finally{Ye=f,ae.p=u,$.T=o}}jt=3}}function g0(){if(jt===4||jt===3){jt=0,sc();var i=ss,s=Co,o=Tr,u=n0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,Co=ss=null,y0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rs=null),ir(o),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var m=i.onRecoverableError,_=0;_<u.length;_++){var S=u[_];m(S.value,{componentStack:S.stack})}}finally{$.T=s,ae.p=f}}(Tr&3)!==0&&ph(),Fi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Mm?nu++:(nu=0,Mm=i):nu=0,iu(0)}}function y0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ll(s)))}function ph(){return m0(),p0(),g0(),v0()}function v0(){if(jt!==5)return!1;var i=ss,s=Pm;Pm=0;var o=ir(Tr),u=$.T,f=ae.p;try{ae.p=32>o?32:o,$.T=null,o=xm,xm=null;var m=ss,_=Tr;if(jt=0,Co=ss=null,Tr=0,(Ye&6)!==0)throw Error(r(331));var S=Ye;if(Ye|=4,J_(m.current),$_(m,m.current,_,o),Ye=S,iu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Jn,m)}catch{}return!0}finally{ae.p=f,$.T=u,y0(i,s)}}function _0(i,s,o){s=jn(o,s),s=fm(i.stateNode,s,2),i=Zr(i,s,2),i!==null&&(Gs(i,2),Fi(i))}function $e(i,s,o){if(i.tag===3)_0(i,i,o);else for(;s!==null;){if(s.tag===3){_0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){i=jn(o,i),o=T_(2),u=Zr(s,o,2),u!==null&&(E_(o,u,s,i),Gs(u,2),Fi(u));break}}s=s.return}}function Lm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new QA;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Dm=!0,f.add(o),i=eC.bind(null,i,s,o),s.then(i,i))}function eC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Me&o)===o&&(gt===4||gt===3&&(Me&62914560)===Me&&300>hn()-uh?(Ye&2)===0&&Ro(i,0):Om|=o,Ao===Me&&(Ao=0)),Fi(i)}function T0(i,s){s===0&&(s=hc()),i=sa(i,s),i!==null&&(Gs(i,s),Fi(i))}function tC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),T0(i,o)}function nC(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),T0(i,o)}function iC(i,s){return Bt(i,s)}var gh=null,Do=null,Um=!1,yh=!1,zm=!1,os=0;function Fi(i){i!==Do&&i.next===null&&(Do===null?gh=Do=i:Do=Do.next=i),yh=!0,Um||(Um=!0,sC())}function iu(i,s){if(!zm&&yh){zm=!0;do for(var o=!1,u=gh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Tt(42|i)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,w0(u,m))}else m=Me,m=wi(u,u===nt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ei(u,m)||(o=!0,w0(u,m));u=u.next}while(o);zm=!1}}function rC(){E0()}function E0(){yh=Um=!1;var i=0;os!==0&&pC()&&(i=os);for(var s=hn(),o=null,u=gh;u!==null;){var f=u.next,m=S0(u,s);m===0?(u.next=null,o===null?gh=f:o.next=f,f===null&&(Do=o)):(o=u,(i!==0||(m&3)!==0)&&(yh=!0)),u=f}jt!==0&&jt!==5||iu(i),os!==0&&(os=0)}function S0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-Tt(m),S=1<<_,N=f[_];N===-1?((S&o)===0||(S&u)!==0)&&(f[_]=md(S,s)):N<=s&&(i.expiredLanes|=S),m&=~S}if(s=nt,o=Me,o=wi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&kr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ei(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&kr(u),ir(o)){case 2:case 8:o=dl;break;case 32:o=Vr;break;case 268435456:o=ac;break;default:o=Vr}return u=b0.bind(null,i),o=Bt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&kr(u),i.callbackPriority=2,i.callbackNode=null,2}function b0(i,s){if(jt!==0&&jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ph()&&i.callbackNode!==o)return null;var u=Me;return u=wi(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(r0(i,u,s),S0(i,hn()),i.callbackNode!=null&&i.callbackNode===o?b0.bind(null,i):null)}function w0(i,s){if(ph())return null;r0(i,s,!0)}function sC(){yC(function(){(Ye&6)!==0?Bt(fl,rC):E0()})}function Bm(){if(os===0){var i=mo;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),os=i}return os}function A0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Za(""+i)}function C0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function aC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=A0((f[Ht]||null).action),_=u.submitter;_&&(s=(s=_[Ht]||null)?A0(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var S=new ki("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var N=_?C0(f,_):new FormData(f);am(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=_?C0(f,_):new FormData(f),am(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var jm=0;jm<bd.length;jm++){var Fm=bd[jm],oC=Fm.toLowerCase(),lC=Fm[0].toUpperCase()+Fm.slice(1);li(oC,"on"+lC)}li(iv,"onAnimationEnd"),li(rv,"onAnimationIteration"),li(sv,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(wA,"onTransitionRun"),li(AA,"onTransitionStart"),li(CA,"onTransitionCancel"),li(av,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function R0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var _=u.length-1;0<=_;_--){var S=u[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=H;try{m(f)}catch(Z){Pc(Z)}f.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(S=u[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=H;try{m(f)}catch(Z){Pc(Z)}f.currentTarget=null,m=N}}}}function Pe(i,s){var o=s[Xa];o===void 0&&(o=s[Xa]=new Set);var u=i+"__bubble";o.has(u)||(I0(s,i,2,!1),o.add(u))}function Hm(i,s,o){var u=0;s&&(u|=4),I0(o,i,u,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function qm(i){if(!i[vh]){i[vh]=!0,gl.forEach(function(o){o!=="selectionchange"&&(uC.has(o)||Hm(o,!1,i),Hm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vh]||(s[vh]=!0,Hm("selectionchange",!1,s))}}function I0(i,s,o,u){switch(iT(s)){case 2:var f=LC;break;case 8:f=UC;break;default:f=sp}o=f.bind(null,s,o,i),f=void 0,!Ws||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Gm(i,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ii(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}S=S.parentNode}}u=u.return}Fr(function(){var H=m,Z=Ln(o),te=[];e:{var q=ov.get(i);if(q!==void 0){var K=ki,he=i;switch(i){case"keypress":if(Js(o)===0)break e;case"keydown":case"keyup":K=Dc;break;case"focusin":he="focus",K=ta;break;case"focusout":he="blur",K=ta;break;case"beforeblur":case"afterblur":K=ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case iv:case rv:case sv:K=Sc;break;case av:K=w;break;case"scroll":case"scrollend":K=Il;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ar;break;case"toggle":case"beforetoggle":K=Re}var Te=(s&4)!==0,et=!Te&&(i==="scroll"||i==="scrollend"),U=Te?q!==null?q+"Capture":null:q;Te=[];for(var x=H,F;x!==null;){var ee=x;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||U===null||(ee=ri(x,U),ee!=null&&Te.push(su(x,ee,F))),et)break;x=x.return}0<Te.length&&(q=new K(q,he,null,o,Z),te.push({event:q,listeners:Te}))}}if((s&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",q&&o!==Al&&(he=o.relatedTarget||o.fromElement)&&(Ii(he)||he[Ci]))break e;if((K||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,K?(he=o.relatedTarget||o.toElement,K=H,he=he?Ii(he):null,he!==null&&(et=l(he),Te=he.tag,he!==et||Te!==5&&Te!==27&&Te!==6)&&(he=null)):(K=null,he=H),K!==he)){if(Te=Dl,ee="onMouseLeave",U="onMouseEnter",x="mouse",(i==="pointerout"||i==="pointerover")&&(Te=ar,ee="onPointerLeave",U="onPointerEnter",x="pointer"),et=K==null?q:An(K),F=he==null?q:An(he),q=new Te(ee,x+"leave",K,o,Z),q.target=et,q.relatedTarget=F,ee=null,Ii(Z)===H&&(Te=new Te(U,x+"enter",he,o,Z),Te.target=F,Te.relatedTarget=et,ee=Te),et=ee,K&&he)t:{for(Te=cC,U=K,x=he,F=0,ee=U;ee;ee=Te(ee))F++;ee=0;for(var ye=x;ye;ye=Te(ye))ee++;for(;0<F-ee;)U=Te(U),F--;for(;0<ee-F;)x=Te(x),ee--;for(;F--;){if(U===x||x!==null&&U===x.alternate){Te=U;break t}U=Te(U),x=Te(x)}Te=null}else Te=null;K!==null&&D0(te,q,K,Te,!1),he!==null&&et!==null&&D0(te,et,he,Te,!0)}}e:{if(q=H?An(H):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var He=Yy;else if(qy(q))if(Xy)He=EA;else{He=_A;var de=vA}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Wa(H.elementType)&&(He=Yy):He=TA;if(He&&(He=He(i,H))){Gy(te,He,o,Z);break e}de&&de(i,q,H),i==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Sl(q,"number",q.value)}switch(de=H?An(H):window,i){case"focusin":(qy(de)||de.contentEditable==="true")&&(so=de,Td=H,Ml=null);break;case"focusout":Ml=Td=so=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,tv(te,o,Z);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":tv(te,o,Z)}var De;if(Ge)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ro?na(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Ui&&o.locale!=="ko"&&(ro||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ro&&(De=Rl()):(Mi=Z,Cl="value"in Mi?Mi.value:Mi.textContent,ro=!0)),de=_h(H,ke),0<de.length&&(ke=new Li(ke,i,null,o,Z),te.push({event:ke,listeners:de}),De?ke.data=De:(De=io(o),De!==null&&(ke.data=De)))),(De=zn?mA(i,o):pA(i,o))&&(ke=_h(H,"onBeforeInput"),0<ke.length&&(de=new Li("onBeforeInput","beforeinput",null,o,Z),te.push({event:de,listeners:ke}),de.data=De)),aC(te,i,H,o,Z)}R0(te,s)})}function su(i,s,o){return{instance:i,listener:s,currentTarget:o}}function _h(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ri(i,o),f!=null&&u.unshift(su(i,f,m)),f=ri(i,s),f!=null&&u.push(su(i,f,m))),i.tag===3)return u;i=i.return}return[]}function cC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function D0(i,s,o,u,f){for(var m=s._reactName,_=[];o!==null&&o!==u;){var S=o,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||H===null||(N=H,f?(H=ri(o,m),H!=null&&_.unshift(su(o,H,N))):f||(H=ri(o,m),H!=null&&_.push(su(o,H,N)))),o=o.return}_.length!==0&&i.push({event:s,listeners:_})}var hC=/\r\n?/g,fC=/\u0000|\uFFFD/g;function O0(i){return(typeof i=="string"?i:""+i).replace(hC,`
`).replace(fC,"")}function N0(i,s){return s=O0(s),O0(i)===s}function Je(i,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&yn(i,""+u);break;case"className":Cn(i,"class",u);break;case"tabIndex":Cn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(i,o,u);break;case"style":wl(i,u,m);break;case"data":if(s!=="object"){Cn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Za(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Je(i,s,"name",f.name,f,null),Je(i,s,"formEncType",f.formEncType,f,null),Je(i,s,"formMethod",f.formMethod,f,null),Je(i,s,"formTarget",f.formTarget,f,null)):(Je(i,s,"encType",f.encType,f,null),Je(i,s,"method",f.method,f,null),Je(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Za(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ii);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Za(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Qa(i,"popover",u);break;case"xlinkActuate":Ot(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_c.get(o)||o,Qa(i,o,u))}}function Ym(i,s,o,u,f,m){switch(o){case"style":wl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=i[Ht]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qa(i,o,u)}}}function tn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,m,_,o,null)}}f&&Je(i,s,"srcSet",o.srcSet,o,null),u&&Je(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var S=m=_=f=null,N=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":H=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Je(i,s,u,Z,o,null)}}gc(i,m,S,N,H,_,f,!1);return;case"select":Pe("invalid",i),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:Je(i,s,f,S,o,null)}s=m,o=_,i.multiple=!!u,s!=null?Ur(i,!!u,s,!1):o!=null&&Ur(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Je(i,s,_,S,o,null)}zr(i,u,f,m);return;case"option":for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null)&&(N==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Je(i,s,N,u,o,null));return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)Pe(ru[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,H,u,o,null)}return;default:if(Wa(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Ym(i,s,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Je(i,s,S,u,o,null))}function dC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,N=null,H=null,Z=null;for(K in o){var te=o[K];if(o.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:u.hasOwnProperty(K)||Je(i,s,K,null,u,te)}}for(var q in u){var K=u[q];if(te=o[q],u.hasOwnProperty(q)&&(K!=null||te!=null))switch(q){case"type":m=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==te&&Je(i,s,q,K,u,te)}}$a(i,_,S,N,H,Z,m,f);return;case"select":K=_=S=q=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":K=N;default:u.hasOwnProperty(m)||Je(i,s,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":q=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==N&&Je(i,s,f,m,u,N)}s=S,o=_,u=K,q!=null?Ur(i,!!o,q,!1):!!u!=!!o&&(s!=null?Ur(i,!!o,s,!0):Ur(i,!!o,o?[]:"",!1));return;case"textarea":K=q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(i,s,S,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Je(i,s,_,f,u,m)}yc(i,q,K);return;case"option":for(var he in o)q=o[he],o.hasOwnProperty(he)&&q!=null&&!u.hasOwnProperty(he)&&(he==="selected"?i.selected=!1:Je(i,s,he,null,u,q));for(N in u)q=u[N],K=o[N],u.hasOwnProperty(N)&&q!==K&&(q!=null||K!=null)&&(N==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(i,s,N,q,u,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)q=o[Te],o.hasOwnProperty(Te)&&q!=null&&!u.hasOwnProperty(Te)&&Je(i,s,Te,null,u,q);for(H in u)if(q=u[H],K=o[H],u.hasOwnProperty(H)&&q!==K&&(q!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:Je(i,s,H,q,u,K)}return;default:if(Wa(s)){for(var et in o)q=o[et],o.hasOwnProperty(et)&&q!==void 0&&!u.hasOwnProperty(et)&&Ym(i,s,et,void 0,u,q);for(Z in u)q=u[Z],K=o[Z],!u.hasOwnProperty(Z)||q===K||q===void 0&&K===void 0||Ym(i,s,Z,q,u,K);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&Je(i,s,U,null,u,q);for(te in u)q=u[te],K=o[te],!u.hasOwnProperty(te)||q===K||q==null&&K==null||Je(i,s,te,q,u,K)}function P0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&P0(_)){for(_=0,S=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],H=N.startTime;if(H>S)break;var Z=N.transferSize,te=N.initiatorType;Z&&P0(te)&&(N=N.responseEnd,_+=Z*(N<S?1:(S-H)/(N-H)))}if(--u,s+=8*(m+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xm=null,Km=null;function Th(i){return i.nodeType===9?i:i.ownerDocument}function x0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Qm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $m=null;function pC(){var i=window.event;return i&&i.type==="popstate"?i===$m?!1:($m=i,!0):($m=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,gC=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,yC=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(i){return V0.resolve(null).then(i).catch(vC)}:k0;function vC(i){setTimeout(function(){throw i})}function ls(i){return i==="head"}function L0(i,s){var o=s,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),xo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,au(o);for(var m=o.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[Ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&au(i.ownerDocument.body);o=f}while(o);xo(s)}function U0(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Wm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),Ka(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function _C(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ri])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function TC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function z0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Yn(i.nextSibling),i===null))return null;return i}function Zm(i){return i.data==="$?"||i.data==="$~"}function Jm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function EC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Yn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ep=null;function B0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Yn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function j0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function F0(i,s,o){switch(s=Th(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ka(i)}var Xn=new Map,H0=new Set;function Eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Er=ae.d;ae.d={f:SC,r:bC,D:wC,C:AC,L:CC,m:RC,X:DC,S:IC,M:OC};function SC(){var i=Er.f(),s=fh();return i||s}function bC(i){var s=Vn(i);s!==null&&s.tag===5&&s.type==="form"?a_(s):Er.r(i)}var Oo=typeof document>"u"?null:document;function q0(i,s,o){var u=Oo;if(u&&typeof s=="string"&&s){var f=gn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),H0.has(f)||(H0.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),tn(s,"link",i),Dt(s),u.head.appendChild(s)))}}function wC(i){Er.D(i),q0("dns-prefetch",i,null)}function AC(i,s){Er.C(i,s),q0("preconnect",i,s)}function CC(i,s,o){Er.L(i,s,o);var u=Oo;if(u&&i&&s){var f='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+gn(o.imageSizes)+'"]')):f+='[href="'+gn(i)+'"]';var m=f;switch(s){case"style":m=No(i);break;case"script":m=Po(i)}Xn.has(m)||(i=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Xn.set(m,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(ou(m))||s==="script"&&u.querySelector(lu(m))||(s=u.createElement("link"),tn(s,"link",i),Dt(s),u.head.appendChild(s)))}}function RC(i,s){Er.m(i,s);var o=Oo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(i)}if(!Xn.has(m)&&(i=E({rel:"modulepreload",href:i},s),Xn.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(m)))return}u=o.createElement("link"),tn(u,"link",i),Dt(u),o.head.appendChild(u)}}}function IC(i,s,o){Er.S(i,s,o);var u=Oo;if(u&&i){var f=Di(u).hoistableStyles,m=No(i);s=s||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(ou(m)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Xn.get(m))&&tp(i,o);var N=_=u.createElement("link");Dt(N),tn(N,"link",i),N._p=new Promise(function(H,Z){N.onload=H,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sh(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function DC(i,s){Er.X(i,s);var o=Oo;if(o&&i){var u=Di(o).hoistableScripts,f=Po(i),m=u.get(f);m||(m=o.querySelector(lu(f)),m||(i=E({src:i,async:!0},s),(s=Xn.get(f))&&np(i,s),m=o.createElement("script"),Dt(m),tn(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function OC(i,s){Er.M(i,s);var o=Oo;if(o&&i){var u=Di(o).hoistableScripts,f=Po(i),m=u.get(f);m||(m=o.querySelector(lu(f)),m||(i=E({src:i,async:!0,type:"module"},s),(s=Xn.get(f))&&np(i,s),m=o.createElement("script"),Dt(m),tn(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function G0(i,s,o,u){var f=(f=_e.current)?Eh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=Di(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var m=Di(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(ou(i)))&&!m._p&&(_.instance=m,_.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),m||NC(f,i,o,_.state))),s&&u===null)throw Error(r(528,""));return _}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Po(o),o=Di(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function No(i){return'href="'+gn(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function Y0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function NC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),tn(s,"link",o),Dt(s),i.head.appendChild(s))}function Po(i){return'[src="'+gn(i)+'"]'}function lu(i){return"script[async]"+i}function X0(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return s.instance=u,Dt(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Dt(u),tn(u,"style",f),Sh(u,o.precedence,i),s.instance=u;case"stylesheet":f=No(o.href);var m=i.querySelector(ou(f));if(m)return s.state.loading|=4,s.instance=m,Dt(m),m;u=Y0(o),(f=Xn.get(f))&&tp(u,f),m=(i.ownerDocument||i).createElement("link"),Dt(m);var _=m;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),tn(m,"link",u),s.state.loading|=4,Sh(m,o.precedence,i),s.instance=m;case"script":return m=Po(o.src),(f=i.querySelector(lu(m)))?(s.instance=f,Dt(f),f):(u=o,(f=Xn.get(m))&&(u=E({},o),np(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Dt(f),tn(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Sh(u,o.precedence,i));return s.instance}function Sh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function tp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function np(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var bh=null;function K0(i,s,o){if(bh===null){var u=new Map,f=bh=new Map;f.set(o,u)}else f=bh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ri]||m[It]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=i+_;var S=u.get(_);S?S.push(m):u.set(_,[m])}}return u}function Q0(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function PC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function xC(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=No(u.href),m=s.querySelector(ou(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=wh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=m,Dt(m);return}m=s.ownerDocument||s,u=Y0(u),(f=Xn.get(f))&&tp(u,f),m=m.createElement("link"),Dt(m);var _=m;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),tn(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=wh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var ip=0;function MC(i,s){return i.stylesheets&&i.count===0&&Ch(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Ch(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+s);0<i.imgBytes&&ip===0&&(ip=62500*mC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ch(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>ip?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ah=null;function Ch(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ah=new Map,s.forEach(kC,i),Ah=null,wh.call(i))}function kC(i,s){if(!(s.state.loading&4)){var o=Ah.get(i);if(o)var u=o.get(null);else{o=new Map,Ah.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=s.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=wh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:J,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function VC(i,s,o,u,f,m,_,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function W0(i,s,o,u,f,m,_,S,N,H,Z,te){return i=new VC(i,s,o,_,N,H,Z,te,S),s=1,m===!0&&(s|=24),m=In(3,null,null,s),i.current=m,m.stateNode=i,s=Vd(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Bd(m),i}function Z0(i){return i?(i=lo,i):lo}function J0(i,s,o,u,f,m){f=Z0(f),u.context===null?u.context=f:u.pendingContext=f,u=Wr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Zr(i,u,s),o!==null&&(Sn(o,i,s),jl(o,i,s))}function eT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function rp(i,s){eT(i,s),(i=i.alternate)&&eT(i,s)}function tT(i){if(i.tag===13||i.tag===31){var s=sa(i,67108864);s!==null&&Sn(s,i,67108864),rp(i,67108864)}}function nT(i){if(i.tag===13||i.tag===31){var s=xn();s=Xs(s);var o=sa(i,s);o!==null&&Sn(o,i,s),rp(i,s)}}var Rh=!0;function LC(i,s,o,u){var f=$.T;$.T=null;var m=ae.p;try{ae.p=2,sp(i,s,o,u)}finally{ae.p=m,$.T=f}}function UC(i,s,o,u){var f=$.T;$.T=null;var m=ae.p;try{ae.p=8,sp(i,s,o,u)}finally{ae.p=m,$.T=f}}function sp(i,s,o,u){if(Rh){var f=ap(u);if(f===null)Gm(i,s,u,Ih,o),rT(i,u);else if(BC(f,i,s,o,u))u.stopPropagation();else if(rT(i,u),s&4&&-1<zC.indexOf(i)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=bi(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-Tt(_);S.entanglements[1]|=N,_&=~N}Fi(m),(Ye&6)===0&&(ch=hn()+500,iu(0))}}break;case 31:case 13:S=sa(m,2),S!==null&&Sn(S,m,2),fh(),rp(m,2)}if(m=ap(u),m===null&&Gm(i,s,u,Ih,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Gm(i,s,u,null,o)}}function ap(i){return i=Ln(i),op(i)}var Ih=null;function op(i){if(Ih=null,i=Ii(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=d(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ih=i,null}function iT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case fl:return 2;case dl:return 8;case Vr:case dd:return 32;case ac:return 268435456;default:return 32}default:return 32}}var lp=!1,us=null,cs=null,hs=null,cu=new Map,hu=new Map,fs=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rT(i,s){switch(i){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function fu(i,s,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&tT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function BC(i,s,o,u,f){switch(s){case"focusin":return us=fu(us,i,s,o,u,f),!0;case"dragenter":return cs=fu(cs,i,s,o,u,f),!0;case"mouseover":return hs=fu(hs,i,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return cu.set(m,fu(cu.get(m)||null,i,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,hu.set(m,fu(hu.get(m)||null,i,s,o,u,f)),!0}return!1}function sT(i){var s=Ii(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,ti(i.priority,function(){nT(o)});return}}else if(s===31){if(s=d(o),s!==null){i.blockedOn=s,ti(i.priority,function(){nT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=ap(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Al=u,o.target.dispatchEvent(u),Al=null}else return s=Vn(o),s!==null&&tT(s),i.blockedOn=o,!1;s.shift()}return!0}function aT(i,s,o){Dh(i)&&o.delete(s)}function jC(){lp=!1,us!==null&&Dh(us)&&(us=null),cs!==null&&Dh(cs)&&(cs=null),hs!==null&&Dh(hs)&&(hs=null),cu.forEach(aT),hu.forEach(aT)}function Oh(i,s){i.blockedOn===s&&(i.blockedOn=null,lp||(lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jC)))}var Nh=null;function oT(i){Nh!==i&&(Nh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nh===i&&(Nh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(op(u||o)===null)continue;break}var m=Vn(o);m!==null&&(i.splice(s,3),s-=3,am(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function xo(i){function s(N){return Oh(N,i)}us!==null&&Oh(us,i),cs!==null&&Oh(cs,i),hs!==null&&Oh(hs,i),cu.forEach(s),hu.forEach(s);for(var o=0;o<fs.length;o++){var u=fs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)sT(o),o.blockedOn===null&&fs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[Ht]||null;if(typeof m=="function")_||oT(o);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Ht]||null)S=_.formAction;else if(op(f)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),oT(o)}}}function lT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function up(i){this._internalRoot=i}Ph.prototype.render=up.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=xn();J0(o,u,i,s,null,null)},Ph.prototype.unmount=up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;J0(i.current,2,null,i,null,null),fh(),s[Ci]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var s=fc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<fs.length&&s!==0&&s<fs[o].priority;o++);fs.splice(o,0,i),o===0&&sT(i)}};var uT=e.version;if(uT!=="19.2.3")throw Error(r(527,uT,"19.2.3"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var FC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Jn=xh.inject(FC),$t=xh}catch{}}return mu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=g_,m=y_,_=v_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=W0(i,1,!1,null,null,o,u,null,f,m,_,lT),i[Ci]=s.current,qm(i),new up(s)},mu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",m=g_,_=y_,S=v_,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=W0(i,1,!0,s,o??null,u,f,N,m,_,S,lT),s.context=Z0(null),o=s.current,u=xn(),u=Xs(u),f=Wr(u),f.callback=null,Zr(o,f,u),o=u,s.current.lanes=o,Gs(s,o),Fi(s),i[Ci]=s.current,qm(i),new Ph(s)},mu.version="19.2.3",mu}var _T;function JC(){if(_T)return fp.exports;_T=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fp.exports=ZC(),fp.exports}var eR=JC();var TT="popstate";function tR(n={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return jp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Pu(a)}return iR(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nR(){return Math.random().toString(36).substring(2,10)}function ET(n,e){return{usr:n.state,key:n.key,idx:e}}function jp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jo(e):e,state:t,key:e&&e.key||r||nR()}}function Pu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function iR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let V=v(),Q=V==null?null:V-g;g=V,p&&p({action:d,location:z.location,delta:Q})}function b(V,Q){d="PUSH";let W=jp(z.location,V,Q);g=v()+1;let J=ET(W,g),le=z.createHref(W);try{c.pushState(J,"",le)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;a.location.assign(le)}l&&p&&p({action:d,location:z.location,delta:1})}function O(V,Q){d="REPLACE";let W=jp(z.location,V,Q);g=v();let J=ET(W,g),le=z.createHref(W);c.replaceState(J,"",le),l&&p&&p({action:d,location:z.location,delta:0})}function L(V){return rR(V)}let z={get action(){return d},get location(){return n(a,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(TT,E),p=V,()=>{a.removeEventListener(TT,E),p=null}},createHref(V){return e(a,V)},createURL:L,encodeLocation(V){let Q=L(V);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:b,replace:O,go(V){return c.go(V)}};return z}function rR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Pu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function PS(n,e,t="/"){return sR(n,e,t,!1)}function sR(n,e,t,r){let a=typeof e=="string"?Jo(e):e,l=Rr(a.pathname||"/",t);if(l==null)return null;let c=xS(n);aR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=yR(l);d=pR(c[p],g,r)}return d}function xS(n,e=[],t=[],r="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;ft(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=Cr([r,v.relativePath]),b=t.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),xS(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:dR(E,c.index),routesMeta:b})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of MS(c.path))l(c,d,!0,p)}),e}function MS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=MS(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function aR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oR=/^:[\w-]+$/,lR=3,uR=2,cR=1,hR=10,fR=-2,ST=n=>n==="*";function dR(n,e){let t=n.split("/"),r=t.length;return t.some(ST)&&(r+=fR),e&&(r+=uR),t.filter(a=>!ST(a)).reduce((a,l)=>a+(oR.test(l)?lR:l===""?cR:hR),r)}function mR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function pR(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!E&&g&&t&&!r[r.length-1].route.index&&(E=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Cr([l,E.pathname]),pathnameBase:ER(Cr([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Cr([l,E.pathnameBase]))}return c}function uf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=gR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:E},b)=>{if(v==="*"){let L=d[b]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const O=d[b];return E&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function gR(n,e=!1,t=!0){yi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function yR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vR=n=>kS.test(n);function _R(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Jo(n):n,l;if(t)if(vR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),yi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=bT(t.substring(1),"/"):l=bT(t,e)}else l=e;return{pathname:l,search:SR(r),hash:bR(a)}}function bT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function gp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VS(n){let e=TR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function LS(n,e,t,r=!1){let a;typeof n=="string"?a=Jo(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),gp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),gp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),gp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=_R(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Cr=n=>n.join("/").replace(/\/\/+/g,"/"),ER=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wR=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function AR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function CR(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zS(n,e){let t=n;if(typeof t!="string"||!kS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(US)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Rr(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{yi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BS=["POST","PUT","PATCH","DELETE"];new Set(BS);var RR=["GET",...BS];new Set(RR);var el=G.createContext(null);el.displayName="DataRouter";var kf=G.createContext(null);kf.displayName="DataRouterState";var IR=G.createContext(!1),jS=G.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var DR=G.createContext(new Map);DR.displayName="Fetchers";var OR=G.createContext(null);OR.displayName="Await";var Zn=G.createContext(null);Zn.displayName="Navigation";var qu=G.createContext(null);qu.displayName="Location";var Pr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Cg=G.createContext(null);Cg.displayName="RouteError";var FS="REACT_ROUTER_ERROR",NR="REDIRECT",PR="ROUTE_ERROR_RESPONSE";function xR(n){if(n.startsWith(`${FS}:${NR}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function MR(n){if(n.startsWith(`${FS}:${PR}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new wR(e.status,e.statusText,e.data)}catch{}}function kR(n,{relative:e}={}){ft(Gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Zn),{hash:a,pathname:l,search:c}=Yu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Cr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Gu(){return G.useContext(qu)!=null}function Ua(){return ft(Gu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(qu).location}var HS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qS(n){G.useContext(Zn).static||G.useLayoutEffect(n)}function VR(){let{isDataRoute:n}=G.useContext(Pr);return n?QR():LR()}function LR(){ft(Gu(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(el),{basename:e,navigator:t}=G.useContext(Zn),{matches:r}=G.useContext(Pr),{pathname:a}=Ua(),l=JSON.stringify(VS(r)),c=G.useRef(!1);return qS(()=>{c.current=!0}),G.useCallback((p,g={})=>{if(yi(c.current,HS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=LS(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Cr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}G.createContext(null);function Yu(n,{relative:e}={}){let{matches:t}=G.useContext(Pr),{pathname:r}=Ua(),a=JSON.stringify(VS(t));return G.useMemo(()=>LS(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function UR(n,e){return GS(n,e)}function GS(n,e,t,r,a){ft(Gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Zn),{matches:c}=G.useContext(Pr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let W=E&&E.path||"";XS(g,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let b=Ua(),O;if(e){let W=typeof e=="string"?Jo(e):e;ft(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=b;let L=O.pathname||"/",z=L;if(v!=="/"){let W=v.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=PS(n,{pathname:z});yi(E||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),yi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=HR(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Cr([v,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Cr([v,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),c,t,r,a);return e&&Q?G.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Q):Q}function zR(){let n=KR(),e=AR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,c)}var BR=G.createElement(zR,null),YS=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=MR(n.digest);t&&(n=t)}let e=n!==void 0?G.createElement(Pr.Provider,{value:this.props.routeContext},G.createElement(Cg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?G.createElement(jR,{error:n},e):e}};YS.contextType=IR;var yp=new WeakMap;function jR({children:n,error:e}){let{basename:t}=G.useContext(Zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=xR(e.digest);if(r){let a=yp.get(e);if(a)throw a;let l=zS(r.location,t);if(US&&!yp.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw yp.set(e,c),c}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function FR({routeContext:n,match:e,children:t}){let r=G.useContext(el);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Pr.Provider,{value:n},t)}function HR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:b,errors:O}=t,L=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!O||O[E.route.id]===void 0);if(E.route.lazy||L){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&r?(v,E)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:CR(t.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,b)=>{let O,L=!1,z=null,V=null;t&&(O=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||BR,d&&(p<0&&b===0?(XS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,V=null):p===b&&(L=!0,V=E.route.hydrateFallbackElement||null)));let Q=e.concat(l.slice(0,b+1)),W=()=>{let J;return O?J=z:L?J=V:E.route.Component?J=G.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=v,G.createElement(FR,{match:E,routeContext:{outlet:v,matches:Q,isDataRoute:t!=null},children:J})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?G.createElement(YS,{location:t.location,revalidation:t.revalidation,component:z,error:O,children:W(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:g}):W()},null)}function Rg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qR(n){let e=G.useContext(el);return ft(e,Rg(n)),e}function GR(n){let e=G.useContext(kf);return ft(e,Rg(n)),e}function YR(n){let e=G.useContext(Pr);return ft(e,Rg(n)),e}function Ig(n){let e=YR(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XR(){return Ig("useRouteId")}function KR(){let n=G.useContext(Cg),e=GR("useRouteError"),t=Ig("useRouteError");return n!==void 0?n:e.errors?.[t]}function QR(){let{router:n}=qR("useNavigate"),e=Ig("useNavigate"),t=G.useRef(!1);return qS(()=>{t.current=!0}),G.useCallback(async(a,l={})=>{yi(t.current,HS),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var wT={};function XS(n,e,t){!e&&!wT[n]&&(wT[n]=!0,yi(!1,t))}G.memo($R);function $R({routes:n,future:e,state:t,onError:r}){return GS(n,void 0,t,r,e)}function Fp(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!Gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Jo(t));let{pathname:g="/",search:v="",hash:E="",state:b=null,key:O="default"}=t,L=G.useMemo(()=>{let z=Rr(g,d);return z==null?null:{location:{pathname:z,search:v,hash:E,state:b,key:O},navigationType:r}},[d,g,v,E,b,O,r]);return yi(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:G.createElement(Zn.Provider,{value:p},G.createElement(qu.Provider,{children:e,value:L}))}function ZR({children:n,location:e}){return UR(Hp(n),e)}function Hp(n,e=[]){let t=[];return G.Children.forEach(n,(r,a)=>{if(!G.isValidElement(r))return;let l=[...e,a];if(r.type===G.Fragment){t.push.apply(t,Hp(r.props.children,l));return}ft(r.type===Fp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hp(r.props.children,l)),t.push(c)}),t}var Qh="get",$h="application/x-www-form-urlencoded";function Vf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function JR(n){return Vf(n)&&n.tagName.toLowerCase()==="button"}function e2(n){return Vf(n)&&n.tagName.toLowerCase()==="form"}function t2(n){return Vf(n)&&n.tagName.toLowerCase()==="input"}function n2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i2(n,e){return n.button===0&&(!e||e==="_self")&&!n2(n)}var Mh=null;function r2(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var s2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vp(n){return n!=null&&!s2.has(n)?(yi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$h}"`),null):n}function a2(n,e){let t,r,a,l,c;if(e2(n)){let d=n.getAttribute("action");r=d?Rr(d,e):null,t=n.getAttribute("method")||Qh,a=vp(n.getAttribute("enctype"))||$h,l=new FormData(n)}else if(JR(n)||t2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?Rr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Qh,a=vp(n.getAttribute("formenctype"))||vp(d.getAttribute("enctype"))||$h,l=new FormData(d,n),!r2()){let{name:g,type:v,value:E}=n;if(v==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(Vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qh,r=null,a=$h,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function o2(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Rr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function l2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function c2(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await l2(l,t);return c.links?c.links():[]}return[]}));return m2(r.flat(1).filter(u2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AT(n,e,t,r,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function h2(n,e,{includeHydrateFallback:t}={}){return f2(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function f2(n){return[...new Set(n)]}function d2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function m2(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(d2(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function KS(){let n=G.useContext(el);return Dg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function p2(){let n=G.useContext(kf);return Dg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Og=G.createContext(void 0);Og.displayName="FrameworkContext";function QS(){let n=G.useContext(Og);return Dg(n,"You must render this element inside a <HydratedRouter> element"),n}function g2(n,e){let t=G.useContext(Og),[r,a]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,b=G.useRef(null);G.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=Q=>{Q.forEach(W=>{c(W.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[n]),G.useEffect(()=>{if(r){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[r]);let O=()=>{a(!0)},L=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:pu(d,O),onBlur:pu(p,L),onMouseEnter:pu(g,O),onMouseLeave:pu(v,L),onTouchStart:pu(E,O)}]:[!1,b,{}]}function pu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function y2({page:n,...e}){let{router:t}=KS(),r=G.useMemo(()=>PS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(_2,{page:n,matches:r,...e}):null}function v2(n){let{manifest:e,routeModules:t}=QS(),[r,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return c2(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function _2({page:n,matches:e,...t}){let r=Ua(),{future:a,manifest:l,routeModules:c}=QS(),{basename:d}=KS(),{loaderData:p,matches:g}=p2(),v=G.useMemo(()=>AT(n,e,g,l,r,"data"),[n,e,g,l,r]),E=G.useMemo(()=>AT(n,e,g,l,r,"assets"),[n,e,g,l,r]),b=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let z=new Set,V=!1;if(e.forEach(W=>{let J=l.routes[W.route.id];!J||!J.hasLoader||(!v.some(le=>le.route.id===W.route.id)&&W.route.id in p&&c[W.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:z.add(W.route.id))}),z.size===0)return[];let Q=o2(n,d,a.unstable_trailingSlashAwareDataRequests,"data");return V&&z.size>0&&Q.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[Q.pathname+Q.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,r,l,v,e,n,c]),O=G.useMemo(()=>h2(E,l),[E,l]),L=v2(E);return G.createElement(G.Fragment,null,b.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),O.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),L.map(({key:z,link:V})=>G.createElement("link",{key:z,nonce:t.nonce,...V})))}function T2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E2&&(window.__reactRouterVersion="7.12.0")}catch{}function S2({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=G.useRef();a.current==null&&(a.current=tR({window:r,v5Compat:!0}));let l=a.current,[c,d]=G.useState({action:l.action,location:l.location}),p=G.useCallback(g=>{t===!1?d(g):G.startTransition(()=>d(g))},[t]);return G.useLayoutEffect(()=>l.listen(p),[l,p]),G.createElement(WR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...O},L){let{basename:z,unstable_useTransitions:V}=G.useContext(Zn),Q=typeof g=="string"&&$S.test(g),W=zS(g,z);g=W.to;let J=kR(g,{relative:a}),[le,me,ge]=g2(r,O),R=C2(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:V});function A(M){e&&e(M),M.defaultPrevented||R(M)}let I=G.createElement("a",{...O,...ge,href:W.absoluteURL||J,onClick:W.isExternal||l?e:A,ref:T2(L,me),target:p,"data-discover":!Q&&t==="render"?"true":void 0});return le&&!Q?G.createElement(G.Fragment,null,I,G.createElement(y2,{page:J})):I});cf.displayName="Link";var b2=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let E=Yu(c,{relative:g.relative}),b=Ua(),O=G.useContext(kf),{navigator:L,basename:z}=G.useContext(Zn),V=O!=null&&N2(E)&&d===!0,Q=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,W=b.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(W=W.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&z&&(J=Rr(J,z)||J);const le=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let me=W===Q||!a&&W.startsWith(Q)&&W.charAt(le)==="/",ge=J!=null&&(J===Q||!a&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),R={isActive:me,isPending:ge,isTransitioning:V},A=me?e:void 0,I;typeof r=="function"?I=r(R):I=[r,me?"active":null,ge?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(R):l;return G.createElement(cf,{...g,"aria-current":A,className:I,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(R):p)});b2.displayName="NavLink";var w2=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Qh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...O},L)=>{let{unstable_useTransitions:z}=G.useContext(Zn),V=D2(),Q=O2(d,{relative:g}),W=c.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&$S.test(d),le=me=>{if(p&&p(me),me.defaultPrevented)return;me.preventDefault();let ge=me.nativeEvent.submitter,R=ge?.getAttribute("formmethod")||c,A=()=>V(ge||me.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b});z&&t!==!1?G.startTransition(()=>A()):A()};return G.createElement("form",{ref:L,method:W,action:Q,onSubmit:r?p:le,...O,"data-discover":!J&&n==="render"?"true":void 0})});w2.displayName="Form";function A2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(n){let e=G.useContext(el);return ft(e,A2(n)),e}function C2(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=VR(),v=Ua(),E=Yu(n,{relative:l});return G.useCallback(b=>{if(i2(b,e)){b.preventDefault();let O=t!==void 0?t:Pu(v)===Pu(E),L=()=>g(n,{replace:O,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?G.startTransition(()=>L()):L()}},[v,g,E,t,r,e,n,a,l,c,d,p])}var R2=0,I2=()=>`__${String(++R2)}__`;function D2(){let{router:n}=WS("useSubmit"),{basename:e}=G.useContext(Zn),t=XR(),r=n.fetch,a=n.navigate;return G.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:E}=a2(l,e);if(c.navigate===!1){let b=c.fetcherKey||I2();await r(b,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function O2(n,{relative:e}={}){let{basename:t}=G.useContext(Zn),r=G.useContext(Pr);ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Yu(n||".",{relative:e})},c=Ua();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Cr([t,l.pathname])),Pu(l)}function N2(n,{relative:e}={}){let t=G.useContext(jS);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WS("useViewTransitionState"),a=Yu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Rr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Rr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,l)!=null}const P2=({children:n})=>X.jsxs("div",{className:"min-h-screen bg-neutral-900 text-white font-sans",children:[X.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-neutral-900/80 backdrop-blur-md border-b border-white/10",children:X.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:X.jsxs("div",{className:"flex items-center justify-between h-16",children:[X.jsx(cf,{to:"/",className:"text-xl font-bold tracking-tight text-white hover:text-blue-400 transition-colors",children:"Happy Archive"}),X.jsx("div",{className:"flex space-x-4",children:X.jsx(cf,{to:"/upload",className:"px-3 py-2 rounded-md text-sm font-medium hover:bg-white/10 transition",children:"Upload"})})]})})}),X.jsx("main",{className:"pt-16 min-h-screen",children:X.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n})})]});var Wn=function(n,e){return Number(n.toFixed(e))},x2=function(n,e){return e},ht=function(n,e,t){t&&typeof t=="function"&&t(n,e)},M2=function(n){return-Math.cos(n*Math.PI)/2+.5},k2=function(n){return n},V2=function(n){return n*n},L2=function(n){return n*(2-n)},U2=function(n){return n<.5?2*n*n:-1+(4-2*n)*n},z2=function(n){return n*n*n},B2=function(n){return--n*n*n+1},j2=function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},F2=function(n){return n*n*n*n},H2=function(n){return 1- --n*n*n*n},q2=function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},G2=function(n){return n*n*n*n*n},Y2=function(n){return 1+--n*n*n*n*n},X2=function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n},ZS={easeOut:M2,linear:k2,easeInQuad:V2,easeOutQuad:L2,easeInOutQuad:U2,easeInCubic:z2,easeOutCubic:B2,easeInOutCubic:j2,easeInQuart:F2,easeOutQuart:H2,easeInOutQuart:q2,easeInQuint:G2,easeOutQuint:Y2,easeInOutQuint:X2},JS=function(n){typeof n=="number"&&cancelAnimationFrame(n)},hi=function(n){n.mounted&&(JS(n.animation),n.animate=!1,n.animation=null,n.velocity=null)};function eb(n,e,t,r){if(n.mounted){var a=new Date().getTime(),l=1;hi(n),n.animation=function(){if(!n.mounted)return JS(n.animation);var c=new Date().getTime()-a,d=c/t,p=ZS[e],g=p(d);c>=t?(r(l),n.animation=null):n.animation&&(r(g),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation)}}function K2(n){var e=n.scale,t=n.positionX,r=n.positionY;return!(Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(r))}function zs(n,e,t,r){var a=K2(e);if(!(!n.mounted||!a)){var l=n.setTransformState,c=n.transformState,d=c.scale,p=c.positionX,g=c.positionY,v=e.scale-d,E=e.positionX-p,b=e.positionY-g;t===0?l(e.scale,e.positionX,e.positionY):eb(n,r,t,function(O){var L=d+v*O,z=p+E*O,V=g+b*O;l(L,z,V)})}}function Q2(n,e,t){var r=n.offsetWidth,a=n.offsetHeight,l=e.offsetWidth,c=e.offsetHeight,d=l*t,p=c*t,g=r-d,v=a-p;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:d,newDiffWidth:g,newContentHeight:p,newDiffHeight:v}}var $2=function(n,e,t,r,a,l,c){var d=n>e?t*(c?1:.5):0,p=r>a?l*(c?1:.5):0,g=n-e-d,v=d,E=r-a-p,b=p;return{minPositionX:g,maxPositionX:v,minPositionY:E,maxPositionY:b}},Ng=function(n,e){var t=n.wrapperComponent,r=n.contentComponent,a=n.setup.centerZoomedOut;if(!t||!r)throw new Error("Components are not mounted");var l=Q2(t,r,e),c=l.wrapperWidth,d=l.wrapperHeight,p=l.newContentWidth,g=l.newDiffWidth,v=l.newContentHeight,E=l.newDiffHeight,b=$2(c,p,g,d,v,E,!!a);return b},qp=function(n,e,t,r){return r?n<e?Wn(e,2):n>t?Wn(t,2):Wn(n,2):Wn(n,2)},wa=function(n,e){var t=Ng(n,e);return n.bounds=t,t};function Xu(n,e,t,r,a,l,c){var d=t.minPositionX,p=t.minPositionY,g=t.maxPositionX,v=t.maxPositionY,E=0,b=0;c&&(E=a,b=l);var O=qp(n,d-E,g+E,r),L=qp(e,p-b,v+b,r);return{x:O,y:L}}function Lf(n,e,t,r,a,l){var c=n.transformState,d=c.scale,p=c.positionX,g=c.positionY,v=r-d;if(typeof e!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:p,y:g};var E=p-e*v,b=g-t*v,O=Xu(E,b,a,l,0,0,null);return O}function Ku(n,e,t,r,a){var l=a?r:0,c=e-l;return!Number.isNaN(t)&&n>=t?t:!Number.isNaN(e)&&n<=c?c:n}var CT=function(n,e){var t=n.setup.panning.excluded,r=n.isInitialized,a=n.wrapperComponent,l=e.target,c="shadowRoot"in l&&"composedPath"in e,d=c?e.composedPath().some(function(v){return v instanceof Element?a?.contains(v):!1}):a?.contains(l),p=r&&l&&d;if(!p)return!1;var g=Uf(l,t);return!g},RT=function(n){var e=n.isInitialized,t=n.isPanning,r=n.setup,a=r.panning.disabled,l=e&&t&&!a;return!!l},W2=function(n,e){var t=n.transformState,r=t.positionX,a=t.positionY;n.isPanning=!0;var l=e.clientX,c=e.clientY;n.startCoords={x:l-r,y:c-a}},Z2=function(n,e){var t=e.touches,r=n.transformState,a=r.positionX,l=r.positionY;n.isPanning=!0;var c=t.length===1;if(c){var d=t[0].clientX,p=t[0].clientY;n.startCoords={x:d-a,y:p-l}}};function J2(n){var e=n.transformState,t=e.positionX,r=e.positionY,a=e.scale,l=n.setup,c=l.disabled,d=l.limitToBounds,p=l.centerZoomedOut,g=n.wrapperComponent;if(!(c||!g||!n.bounds)){var v=n.bounds,E=v.maxPositionX,b=v.minPositionX,O=v.maxPositionY,L=v.minPositionY,z=t>E||t<b,V=r>O||r<L,Q=t>E?g.offsetWidth:n.setup.minPositionX||0,W=r>O?g.offsetHeight:n.setup.minPositionY||0,J=Lf(n,Q,W,a,n.bounds,d||p),le=J.x,me=J.y;return{scale:a,positionX:z?le:t,positionY:V?me:r}}}function tb(n,e,t,r,a){var l=n.setup.limitToBounds,c=n.wrapperComponent,d=n.bounds,p=n.transformState,g=p.scale,v=p.positionX,E=p.positionY;if(!(c===null||d===null||e===v&&t===E)){var b=Xu(e,t,d,l,r,a,c),O=b.x,L=b.y;n.setTransformState(g,O,L)}}var eI=function(n,e,t){var r=n.startCoords,a=n.transformState,l=n.setup.panning,c=l.lockAxisX,d=l.lockAxisY,p=a.positionX,g=a.positionY;if(!r)return{x:p,y:g};var v=e-r.x,E=t-r.y,b=c?p:v,O=d?g:E;return{x:b,y:O}},Ns=function(n,e){var t=n.setup,r=n.transformState,a=r.scale,l=t.minScale,c=t.disablePadding;return e>0&&a>=l&&!c?e:0},tI=function(n){var e=n.mounted,t=n.setup,r=t.disabled,a=t.velocityAnimation,l=n.transformState.scale,c=a.disabled,d=!c||l>1||!r||e;return!!d},nI=function(n){var e=n.mounted,t=n.velocity,r=n.bounds,a=n.setup,l=a.disabled,c=a.velocityAnimation,d=n.transformState.scale,p=c.disabled,g=!p||d>1||!l||e;return!(!g||!t||!r)};function iI(n,e){var t=n.setup.velocityAnimation,r=t.equalToMove,a=t.animationTime,l=t.sensitivity;return r?a*e*l:a}function IT(n,e,t,r,a,l,c,d,p,g){if(a){if(e>c&&t>c){var v=c+(n-c)*g;return v>p?p:v<c?c:v}if(e<l&&t<l){var v=l+(n-l)*g;return v<d?d:v>l?l:v}}return r?e:qp(n,l,c,a)}function rI(n,e){var t=1;return e?Math.min(t,n.offsetWidth/window.innerWidth):t}function sI(n,e){var t=tI(n);if(t){var r=n.lastMousePosition,a=n.velocityTime,l=n.setup,c=n.wrapperComponent,d=l.velocityAnimation.equalToMove,p=Date.now();if(r&&a&&c){var g=rI(c,d),v=e.x-r.x,E=e.y-r.y,b=v/g,O=E/g,L=p-a,z=v*v+E*E,V=Math.sqrt(z)/L;n.velocity={velocityX:b,velocityY:O,total:V}}n.lastMousePosition=e,n.velocityTime=p}}function aI(n){var e=n.velocity,t=n.bounds,r=n.setup,a=n.wrapperComponent,l=nI(n);if(!(!l||!e||!t||!a)){var c=e.velocityX,d=e.velocityY,p=e.total,g=t.maxPositionX,v=t.minPositionX,E=t.maxPositionY,b=t.minPositionY,O=r.limitToBounds,L=r.alignmentAnimation,z=r.zoomAnimation,V=r.panning,Q=V.lockAxisY,W=V.lockAxisX,J=z.animationType,le=L.sizeX,me=L.sizeY,ge=L.velocityAlignmentTime,R=ge,A=iI(n,p),I=Math.max(A,R),M=Ns(n,le),P=Ns(n,me),k=M*a.offsetWidth/100,D=P*a.offsetHeight/100,Fe=g+k,it=v-k,$=E+D,ae=b-D,pe=n.transformState,Oe=new Date().getTime();eb(n,J,I,function(je){var C=n.transformState,B=C.scale,re=C.positionX,oe=C.positionY,fe=new Date().getTime()-Oe,_e=fe/R,xe=ZS[L.animationType],mt=1-xe(Math.min(1,_e)),tt=1-je,Ti=re+c*tt,nr=oe+d*tt,xr=IT(Ti,pe.positionX,re,W,O,v,g,it,Fe,mt),Mr=IT(nr,pe.positionY,oe,Q,O,b,E,ae,$,mt);(re!==Ti||oe!==nr)&&n.setTransformState(B,xr,Mr)})}}function DT(n,e){var t=n.transformState.scale;hi(n),wa(n,t),window.TouchEvent!==void 0&&e instanceof TouchEvent?Z2(n,e):W2(n,e)}function Pg(n,e){var t=n.transformState.scale,r=n.setup,a=r.minScale,l=r.alignmentAnimation,c=l.disabled,d=l.sizeX,p=l.sizeY,g=l.animationTime,v=l.animationType,E=c||t<a||!d&&!p;if(!E){var b=J2(n);b&&zs(n,b,e??g,v)}}function OT(n,e,t){var r=n.startCoords,a=n.setup,l=a.alignmentAnimation,c=l.sizeX,d=l.sizeY;if(r){var p=eI(n,e,t),g=p.x,v=p.y,E=Ns(n,c),b=Ns(n,d);sI(n,{x:g,y:v}),tb(n,g,v,E,b)}}function oI(n){if(n.isPanning){var e=n.setup.panning.velocityDisabled,t=n.velocity,r=n.wrapperComponent,a=n.contentComponent;n.isPanning=!1,n.animate=!1,n.animation=null;var l=r?.getBoundingClientRect(),c=a?.getBoundingClientRect(),d=l?.width||0,p=l?.height||0,g=c?.width||0,v=c?.height||0,E=d<g||p<v,b=!e&&t&&t?.total>.1&&E;b?aI(n):Pg(n)}}function xg(n,e,t,r){var a=n.setup,l=a.minScale,c=a.maxScale,d=a.limitToBounds,p=Ku(Wn(e,2),l,c,0,!1),g=wa(n,p),v=Lf(n,t,r,p,g,d),E=v.x,b=v.y;return{scale:p,positionX:E,positionY:b}}function nb(n,e,t){var r=n.transformState.scale,a=n.wrapperComponent,l=n.setup,c=l.minScale,d=l.limitToBounds,p=l.zoomAnimation,g=p.disabled,v=p.animationTime,E=p.animationType,b=g||r>=c;if((r>=1||d)&&Pg(n),!(b||!a||!n.mounted)){var O=e||a.offsetWidth/2,L=t||a.offsetHeight/2,z=xg(n,c,O,L);z&&zs(n,z,v,E)}}var ws=function(){return ws=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ws.apply(this,arguments)};function NT(n,e,t){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var kh={scale:1,positionX:0,positionY:0},gu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Gp={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},ib=function(n){var e,t,r,a;return{previousScale:(e=n.initialScale)!==null&&e!==void 0?e:kh.scale,scale:(t=n.initialScale)!==null&&t!==void 0?t:kh.scale,positionX:(r=n.initialPositionX)!==null&&r!==void 0?r:kh.positionX,positionY:(a=n.initialPositionY)!==null&&a!==void 0?a:kh.positionY}},PT=function(n){var e=ws({},gu);return Object.keys(n).forEach(function(t){var r=typeof n[t]<"u",a=typeof gu[t]<"u";if(a&&r){var l=Object.prototype.toString.call(gu[t]),c=l==="[object Object]",d=l==="[object Array]";c?e[t]=ws(ws({},gu[t]),n[t]):d?e[t]=NT(NT([],gu[t],!0),n[t]):e[t]=n[t]}}),e},rb=function(n,e,t){var r=n.transformState.scale,a=n.wrapperComponent,l=n.setup,c=l.maxScale,d=l.minScale,p=l.zoomAnimation,g=l.smooth,v=p.size;if(!a)throw new Error("Wrapper is not mounted");var E=g?r*Math.exp(e*t):r+e*t,b=Ku(Wn(E,3),d,c,v,!1);return b};function sb(n,e,t,r,a){var l=n.wrapperComponent,c=n.transformState,d=c.scale,p=c.positionX,g=c.positionY;if(!l)return console.error("No WrapperComponent found");var v=l.offsetWidth,E=l.offsetHeight,b=(v/2-p)/d,O=(E/2-g)/d,L=rb(n,e,t),z=xg(n,L,b,O);if(!z)return console.error("Error during zoom event. New transformation state was not calculated.");zs(n,z,r,a)}function ab(n,e,t,r){var a=n.setup,l=n.wrapperComponent,c=a.limitToBounds,d=ib(n.props),p=n.transformState,g=p.scale,v=p.positionX,E=p.positionY;if(l){var b=Ng(n,d.scale),O=Xu(d.positionX,d.positionY,b,c,0,0,l),L={scale:d.scale,positionX:O.x,positionY:O.y};g===d.scale&&v===d.positionX&&E===d.positionY||(r?.(),zs(n,L,e,t))}}function lI(n,e,t,r){var a=n.getBoundingClientRect(),l=e.getBoundingClientRect(),c=t.getBoundingClientRect(),d=l.x*r.scale,p=l.y*r.scale;return{x:(a.x-c.x+d)/r.scale,y:(a.y-c.y+p)/r.scale}}function uI(n,e,t){var r=n.wrapperComponent,a=n.contentComponent,l=n.transformState,c=n.setup,d=c.limitToBounds,p=c.minScale,g=c.maxScale;if(!r||!a)return l;var v=r.getBoundingClientRect(),E=e.getBoundingClientRect(),b=lI(e,r,a,l),O=b.x,L=b.y,z=E.width/l.scale,V=E.height/l.scale,Q=r.offsetWidth/z,W=r.offsetHeight/V,J=Ku(t||Math.min(Q,W),p,g,0,!1),le=(v.width-z*J)/2,me=(v.height-V*J)/2,ge=(v.left-O)*J+le,R=(v.top-L)*J+me,A=Ng(n,J),I=Xu(ge,R,A,d,0,0,r),M=I.x,P=I.y;return{positionX:M,positionY:P,scale:J}}var cI=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),sb(n,1,e,t,r)}},hI=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),sb(n,-1,e,t,r)}},fI=function(n){return function(e,t,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var c=n.transformState,d=c.positionX,p=c.positionY,g=c.scale,v=n.wrapperComponent,E=n.contentComponent,b=n.setup.disabled;if(!(b||!v||!E)){var O={positionX:Number.isNaN(e)?d:e,positionY:Number.isNaN(t)?p:t,scale:Number.isNaN(r)?g:r};zs(n,O,a,l)}}},dI=function(n){return function(e,t){e===void 0&&(e=200),t===void 0&&(t="easeOut"),ab(n,e,t)}},mI=function(n){return function(e,t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut");var a=n.transformState,l=n.wrapperComponent,c=n.contentComponent;if(l&&c){var d=ob(e||a.scale,l,c);zs(n,d,t,r)}}},pI=function(n){return function(e,t,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),hi(n);var l=n.wrapperComponent,c=typeof e=="string"?document.getElementById(e):e;if(l&&c&&l.contains(c)){var d=uI(n,c,t);zs(n,d,r,a)}}},Yp=function(n){return{instance:n,zoomIn:cI(n),zoomOut:hI(n),setTransform:fI(n),resetTransform:dI(n),centerView:mI(n),zoomToElement:pI(n)}},gI=function(n){return{instance:n,state:n.transformState}},rt=function(n){var e={};return Object.assign(e,gI(n)),Object.assign(e,Yp(n)),e},_p=!1;function Tp(){try{var n={get passive(){return _p=!0,!1}};return n}catch{return _p=!1,_p}}var Vh=".".concat(Gp.wrapperClass),Uf=function(n,e){return e.some(function(t){return n.matches("".concat(Vh," ").concat(t,", ").concat(Vh," .").concat(t,", ").concat(Vh," ").concat(t," *, ").concat(Vh," .").concat(t," *"))})},Xp=function(n){n&&clearTimeout(n)},yI=function(n,e,t){return"translate(".concat(n,"px, ").concat(e,"px) scale(").concat(t,")")},ob=function(n,e,t){var r=t.offsetWidth*n,a=t.offsetHeight*n,l=(e.offsetWidth-r)/2,c=(e.offsetHeight-a)/2;return{scale:n,positionX:l,positionY:c}};function vI(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _I=function(n,e){var t=n.setup.wheel,r=t.disabled,a=t.wheelDisabled,l=t.touchPadDisabled,c=t.excluded,d=n.isInitialized,p=n.isPanning,g=e.target,v=d&&!p&&!r&&g;if(!v||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var E=Uf(g,c);return!E},TI=function(n){return n?n.deltaY<0?1:-1:0};function EI(n,e){var t=TI(n),r=x2(e,t);return r}function lb(n,e,t){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in n)a=(n.clientX-r.left)/t,l=(n.clientY-r.top)/t;else{var c=n.touches[0];a=(c.clientX-r.left)/t,l=(c.clientY-r.top)/t}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var SI=function(n,e,t,r,a){var l=n.transformState.scale,c=n.wrapperComponent,d=n.setup,p=d.maxScale,g=d.minScale,v=d.zoomAnimation,E=d.disablePadding,b=v.size,O=v.disabled;if(!c)throw new Error("Wrapper is not mounted");var L=l+e*t,z=r?!1:!O,V=Ku(Wn(L,3),g,p,b,z&&!E);return V},bI=function(n,e){var t=n.previousWheelEvent,r=n.transformState.scale,a=n.setup,l=a.maxScale,c=a.minScale;return t?r<l||r>c||Math.sign(t.deltaY)!==Math.sign(e.deltaY)||t.deltaY>0&&t.deltaY<e.deltaY||t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY):!1},wI=function(n,e){var t=n.setup.pinch,r=t.disabled,a=t.excluded,l=n.isInitialized,c=e.target,d=l&&!r&&c;if(!d)return!1;var p=Uf(c,a);return!p},AI=function(n){var e=n.setup.pinch.disabled,t=n.isInitialized,r=n.pinchStartDistance,a=t&&!e&&r;return!!a},CI=function(n,e,t){var r=t.getBoundingClientRect(),a=n.touches,l=Wn(a[0].clientX-r.left,5),c=Wn(a[0].clientY-r.top,5),d=Wn(a[1].clientX-r.left,5),p=Wn(a[1].clientY-r.top,5);return{x:(l+d)/2/e,y:(c+p)/2/e}},ub=function(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))},RI=function(n,e){var t=n.pinchStartScale,r=n.pinchStartDistance,a=n.setup,l=a.maxScale,c=a.minScale,d=a.zoomAnimation,p=a.disablePadding,g=d.size,v=d.disabled;if(!t||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return n.transformState.scale;var E=e/r,b=E*t;return Ku(Wn(b,2),c,l,g,!v&&!p)},II=160,DI=100,OI=function(n,e){var t=n.props,r=t.onWheelStart,a=t.onZoomStart;n.wheelStopEventTimer||(hi(n),ht(rt(n),e,r),ht(rt(n),e,a))},NI=function(n,e){var t=n.props,r=t.onWheel,a=t.onZoom,l=n.contentComponent,c=n.setup,d=n.transformState,p=d.scale,g=c.limitToBounds,v=c.centerZoomedOut,E=c.zoomAnimation,b=c.wheel,O=c.disablePadding,L=c.smooth,z=E.size,V=E.disabled,Q=b.step,W=b.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var J=EI(e,null),le=L?W*Math.abs(e.deltaY):Q,me=SI(n,J,le,!e.ctrlKey);if(p!==me){var ge=wa(n,me),R=lb(e,l,p),A=V||z===0||v||O,I=g&&A,M=Lf(n,R.x,R.y,me,ge,I),P=M.x,k=M.y;n.previousWheelEvent=e,n.setTransformState(me,P,k),ht(rt(n),e,r),ht(rt(n),e,a)}},PI=function(n,e){var t=n.props,r=t.onWheelStop,a=t.onZoomStop;Xp(n.wheelAnimationTimer),n.wheelAnimationTimer=setTimeout(function(){n.mounted&&(nb(n,e.x,e.y),n.wheelAnimationTimer=null)},DI);var l=bI(n,e);l&&(Xp(n.wheelStopEventTimer),n.wheelStopEventTimer=setTimeout(function(){n.mounted&&(n.wheelStopEventTimer=null,ht(rt(n),e,r),ht(rt(n),e,a))},II))},cb=function(n){for(var e=0,t=0,r=0;r<2;r+=1)e+=n.touches[r].clientX,t+=n.touches[r].clientY;var a=e/2,l=t/2;return{x:a,y:l}},xI=function(n,e){var t=ub(e);n.pinchStartDistance=t,n.lastDistance=t,n.pinchStartScale=n.transformState.scale,n.isPanning=!1;var r=cb(e);n.pinchLastCenterX=r.x,n.pinchLastCenterY=r.y,hi(n)},MI=function(n,e){var t=n.contentComponent,r=n.pinchStartDistance,a=n.wrapperComponent,l=n.transformState.scale,c=n.setup,d=c.limitToBounds,p=c.centerZoomedOut,g=c.zoomAnimation,v=c.alignmentAnimation,E=g.disabled,b=g.size;if(!(r===null||!t)){var O=CI(e,l,t);if(!(!Number.isFinite(O.x)||!Number.isFinite(O.y))){var L=ub(e),z=RI(n,L),V=cb(e),Q=V.x-(n.pinchLastCenterX||0),W=V.y-(n.pinchLastCenterY||0);if(!(z===l&&Q===0&&W===0)){n.pinchLastCenterX=V.x,n.pinchLastCenterY=V.y;var J=wa(n,z),le=E||b===0||p,me=d&&le,ge=Lf(n,O.x,O.y,z,J,me),R=ge.x,A=ge.y;n.pinchMidpoint=O,n.lastDistance=L;var I=v.sizeX,M=v.sizeY,P=Ns(n,I),k=Ns(n,M),D=R+Q,Fe=A+W,it=Xu(D,Fe,J,d,P,k,a),$=it.x,ae=it.y;n.setTransformState(z,$,ae)}}}},kI=function(n){var e=n.pinchMidpoint;n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,nb(n,e?.x,e?.y)},hb=function(n,e){var t=n.props.onZoomStop,r=n.setup.doubleClick.animationTime;Xp(n.doubleClickStopEventTimer),n.doubleClickStopEventTimer=setTimeout(function(){n.doubleClickStopEventTimer=null,ht(rt(n),e,t)},r)},VI=function(n,e){var t=n.props,r=t.onZoomStart,a=t.onZoom,l=n.setup.doubleClick,c=l.animationTime,d=l.animationType;ht(rt(n),e,r),ab(n,c,d,function(){return ht(rt(n),e,a)}),hb(n,e)};function LI(n,e){return n==="toggle"?e===1?1:-1:n==="zoomOut"?-1:1}function UI(n,e){var t=n.setup,r=n.doubleClickStopEventTimer,a=n.transformState,l=n.contentComponent,c=a.scale,d=n.props,p=d.onZoomStart,g=d.onZoom,v=t.doubleClick,E=v.disabled,b=v.mode,O=v.step,L=v.animationTime,z=v.animationType;if(!E&&!r){if(b==="reset")return VI(n,e);if(!l)return console.error("No ContentComponent found");var V=LI(b,n.transformState.scale),Q=rb(n,V,O);if(c!==Q){ht(rt(n),e,p);var W=lb(e,l,c),J=xg(n,Q,W.x,W.y);if(!J)return console.error("Error during zoom event. New transformation state was not calculated.");ht(rt(n),e,g),zs(n,J,L,z),hb(n,e)}}}var zI=function(n,e){var t=n.isInitialized,r=n.setup,a=n.wrapperComponent,l=r.doubleClick,c=l.disabled,d=l.excluded,p=e.target,g=a?.contains(p),v=t&&p&&g&&!c;if(!v)return!1;var E=Uf(p,d);return!E},BI=(function(){function n(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(r){t.props=r,wa(t,t.transformState.scale),t.setup=PT(r)},this.initializeWindowEvents=function(){var r,a,l=Tp(),c=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,d=c?.defaultView;(a=t.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",t.onWheelPanning,l),d?.addEventListener("mousedown",t.onPanningStart,l),d?.addEventListener("mousemove",t.onPanning,l),d?.addEventListener("mouseup",t.onPanningStop,l),c?.addEventListener("mouseleave",t.clearPanning,l),d?.addEventListener("keyup",t.setKeyUnPressed,l),d?.addEventListener("keydown",t.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=Tp(),c=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,d=c?.defaultView;d?.removeEventListener("mousedown",t.onPanningStart,l),d?.removeEventListener("mousemove",t.onPanning,l),d?.removeEventListener("mouseup",t.onPanningStop,l),c?.removeEventListener("mouseleave",t.clearPanning,l),d?.removeEventListener("keyup",t.setKeyUnPressed,l),d?.removeEventListener("keydown",t.setKeyPressed,l),document.removeEventListener("mouseleave",t.clearPanning,l),hi(t),(a=t.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=Tp();r.addEventListener("wheel",t.onWheelZoom,a),r.addEventListener("dblclick",t.onDoubleClick,a),r.addEventListener("touchstart",t.onTouchPanningStart,a),r.addEventListener("touchmove",t.onTouchPanning,a),r.addEventListener("touchend",t.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,c=t.setup.centerOnInit,d=function(p,g){for(var v=0,E=p;v<E.length;v++){var b=E[v];if(b.target===g)return!0}return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(p){p(rt(t))}),t.observer=new ResizeObserver(function(p){if(d(p,r)||d(p,a))if(c&&!l){var g=a.offsetWidth,v=a.offsetHeight;(g>0||v>0)&&(l=!0,t.setCenter())}else hi(t),wa(t,t.transformState.scale),Pg(t,0)}),t.observer.observe(r),t.observer.observe(a)},this.onWheelZoom=function(r){var a=t.setup.disabled;if(!a){var l=_I(t,r);if(l){var c=t.isPressingKeys(t.setup.wheel.activationKeys);c&&(OI(t,r),NI(t,r),PI(t,r))}}},this.onWheelPanning=function(r){var a=t.setup,l=a.disabled,c=a.wheel,d=a.panning;if(!(!t.wrapperComponent||!t.contentComponent||l||!c.wheelDisabled||d.disabled||!d.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var p=t.transformState,g=p.positionX,v=p.positionY,E=g-r.deltaX,b=v-r.deltaY,O=d.lockAxisX?g:E,L=d.lockAxisY?v:b,z=t.setup.alignmentAnimation,V=z.sizeX,Q=z.sizeY,W=Ns(t,V),J=Ns(t,Q);O===g&&L===v||tb(t,O,L,W,J)}},this.onPanningStart=function(r){var a=t.setup.disabled,l=t.props.onPanningStart;if(!a){var c=CT(t,r);if(c){var d=t.isPressingKeys(t.setup.panning.activationKeys);d&&(r.button===0&&!t.setup.panning.allowLeftClickPan||r.button===1&&!t.setup.panning.allowMiddleClickPan||r.button===2&&!t.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),hi(t),DT(t,r),ht(rt(t),r,l)))}}},this.onPanning=function(r){var a=t.setup.disabled,l=t.props.onPanning;if(!a){var c=RT(t);if(c){var d=t.isPressingKeys(t.setup.panning.activationKeys);d&&(r.preventDefault(),r.stopPropagation(),OT(t,r.clientX,r.clientY),ht(rt(t),r,l))}}},this.onPanningStop=function(r){var a=t.props.onPanningStop;t.isPanning&&(oI(t),ht(rt(t),r,a))},this.onPinchStart=function(r){var a=t.setup.disabled,l=t.props,c=l.onPinchingStart,d=l.onZoomStart;if(!a){var p=wI(t,r);p&&(xI(t,r),hi(t),ht(rt(t),r,c),ht(rt(t),r,d))}},this.onPinch=function(r){var a=t.setup.disabled,l=t.props,c=l.onPinching,d=l.onZoom;if(!a){var p=AI(t);p&&(r.preventDefault(),r.stopPropagation(),MI(t,r),ht(rt(t),r,c),ht(rt(t),r,d))}},this.onPinchStop=function(r){var a=t.props,l=a.onPinchingStop,c=a.onZoomStop;t.pinchStartScale&&(kI(t),ht(rt(t),r,l),ht(rt(t),r,c))},this.onTouchPanningStart=function(r){var a=t.setup.disabled,l=t.props.onPanningStart;if(!a){var c=CT(t,r);if(c){var d=t.lastTouch&&+new Date-t.lastTouch<200&&r.touches.length===1;if(!d){t.lastTouch=+new Date,hi(t);var p=r.touches,g=p.length===1,v=p.length===2;g&&(hi(t),DT(t,r),ht(rt(t),r,l)),v&&t.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=t.setup.disabled,l=t.props.onPanning;if(t.isPanning&&r.touches.length===1){if(a)return;var c=RT(t);if(!c)return;r.preventDefault(),r.stopPropagation();var d=r.touches[0];OT(t,d.clientX,d.clientY),ht(rt(t),r,l)}else r.touches.length>1&&t.onPinch(r)},this.onTouchPanningStop=function(r){t.onPanningStop(r),t.onPinchStop(r)},this.onDoubleClick=function(r){var a=t.setup.disabled;if(!a){var l=zI(t,r);l&&UI(t,r)}},this.clearPanning=function(r){t.isPanning&&t.onPanningStop(r)},this.setKeyPressed=function(r){t.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){t.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return t.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var c=t.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=r),t.transformState.positionX=a,t.transformState.positionY=l,t.applyTransformation();var d=rt(t);t.onChangeCallbacks.forEach(function(p){return p(d)}),ht(d,{scale:r,positionX:a,positionY:l},c)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var r=ob(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return t.props.customTransform?t.props.customTransform(r,a,l):yI(r,a,l)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var r=t.transformState,a=r.scale,l=r.positionX,c=r.positionY,d=t.handleTransformStyles(l,c,a);t.contentComponent.style.transform=d}},this.getContext=function(){return rt(t)},this.onChange=function(r){return t.onChangeCallbacks.has(r)||t.onChangeCallbacks.add(r),function(){t.onChangeCallbacks.delete(r)}},this.onInit=function(r){return t.onInitCallbacks.has(r)||t.onInitCallbacks.add(r),function(){t.onInitCallbacks.delete(r)}},this.init=function(r,a){t.cleanupWindowEvents(),t.wrapperComponent=r,t.contentComponent=a,wa(t,t.transformState.scale),t.handleInitializeWrapperEvents(r),t.handleInitialize(r,a),t.initializeWindowEvents(),t.isInitialized=!0;var l=rt(t);ht(l,void 0,t.props.onInit)},this.props=e,this.setup=PT(this.props),this.transformState=ib(this.props)}return n})(),Mg=Ra.createContext(null),jI=function(n,e){return typeof n=="function"?n(e):n},FI=Ra.forwardRef(function(n,e){var t=G.useRef(new BI(n)).current,r=jI(n.children,Yp(t));return G.useImperativeHandle(e,function(){return Yp(t)},[t]),G.useEffect(function(){t.update(n)},[t,n]),Ra.createElement(Mg.Provider,{value:t},r)});Ra.forwardRef(function(n,e){var t=G.useRef(null),r=G.useContext(Mg);return G.useEffect(function(){return r.onChange(function(a){if(t.current){var l=0,c=0;t.current.style.transform=r.handleTransformStyles(l,c,1/a.instance.transformState.scale)}})},[r]),Ra.createElement("div",ws({},n,{ref:vI([t,e])}))});function HI(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var qI=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,xT={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};HI(qI);var GI=function(n){var e=n.children,t=n.wrapperClass,r=t===void 0?"":t,a=n.contentClass,l=a===void 0?"":a,c=n.wrapperStyle,d=n.contentStyle,p=n.wrapperProps,g=p===void 0?{}:p,v=n.contentProps,E=v===void 0?{}:v,b=G.useContext(Mg),O=b.init,L=b.cleanupWindowEvents,z=G.useRef(null),V=G.useRef(null);return G.useEffect(function(){var Q=z.current,W=V.current;return Q!==null&&W!==null&&O&&O?.(Q,W),function(){L?.()}},[]),Ra.createElement("div",ws({},g,{ref:z,className:"".concat(Gp.wrapperClass," ").concat(xT.wrapper," ").concat(r),style:c}),Ra.createElement("div",ws({},E,{ref:V,className:"".concat(Gp.contentClass," ").concat(xT.content," ").concat(l),style:d}),e))};const YI=()=>{};var MT={};const fb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},XI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,O=g&63;p||(O=64,c||(b=64)),r.push(t[v],t[E],t[b],t[O])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new KI;const b=l<<2|d>>4;if(r.push(b),g!==64){const O=d<<4&240|g>>2;if(r.push(O),E!==64){const L=g<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QI=function(n){const e=fb(n);return db.encodeByteArray(e,!0)},hf=function(n){return QI(n).replace(/\./g,"")},mb=function(n){try{return db.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WI=()=>$I().__FIREBASE_DEFAULTS__,ZI=()=>{if(typeof process>"u"||typeof MT>"u")return;const n=MT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mb(n[1]);return e&&JSON.parse(e)},zf=()=>{try{return YI()||WI()||ZI()||JI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pb=n=>zf()?.emulatorHosts?.[n],gb=n=>{const e=pb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yb=()=>zf()?.config,vb=n=>zf()?.[`_${n}`];class eD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Bs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(n){return(await fetch(n,{credentials:"include"})).ok}function _b(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[hf(JSON.stringify(t)),hf(JSON.stringify(c)),""].join(".")}const wu={};function tD(){const n={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?n.emulator.push(e):n.prod.push(e);return n}function nD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kT=!1;function Vg(n,e){if(typeof window>"u"||typeof document>"u"||!Bs(window.location.host)||wu[n]===e||wu[n]||kT)return;wu[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=tD().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kT=!0,c()},b}function v(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=nD(r),O=t("text"),L=document.getElementById(O)||document.createElement("span"),z=t("learnmore"),V=document.getElementById(z)||document.createElement("a"),Q=t("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const J=b.element;d(J),v(V,z);const le=g();p(W,Q),J.append(W,L,V,le),document.body.appendChild(J)}l?(L.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function rD(){const n=zf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lD(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uD(){return!rD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cD(){try{return typeof indexedDB=="object"}catch{return!1}}function hD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const fD="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fD,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?dD(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new er(a,d,r)}}function dD(n,e){return n.replace(mD,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mD=/\{\$([^}]+)}/g;function pD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(VT(l)&&VT(c)){if(!Ia(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function VT(n){return n!==null&&typeof n=="object"}function $u(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gD(n,e){const t=new yD(n,e);return t.subscribe.bind(t)}class yD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ep),a.error===void 0&&(a.error=Ep),a.complete===void 0&&(a.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ep(){}function Qt(n){return n&&n._delegate?n._delegate:n}class Ps{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const va="[DEFAULT]";class _D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ED(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TD(n){return n===va?void 0:n}function ED(n){return n.instantiationMode==="EAGER"}class SD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const bD={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},wD=Ve.INFO,AD={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},CD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=AD[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=wD,this._logHandler=CD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const RD=(n,e)=>e.some(t=>n instanceof t);let LT,UT;function ID(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,Kp=new WeakMap,Eb=new WeakMap,Sp=new WeakMap,Ug=new WeakMap;function OD(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(As(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Tb.set(t,n)}).catch(()=>{}),Ug.set(e,n),e}function ND(n){if(Kp.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Kp.set(n,e)}let Qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Eb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PD(n){Qp=n(Qp)}function xD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bp(this),e,...t);return Eb.set(r,e.sort?e.sort():[e]),As(r)}:DD().includes(n)?function(...e){return n.apply(bp(this),e),As(Tb.get(this))}:function(...e){return As(n.apply(bp(this),e))}}function MD(n){return typeof n=="function"?xD(n):(n instanceof IDBTransaction&&ND(n),RD(n,ID())?new Proxy(n,Qp):n)}function As(n){if(n instanceof IDBRequest)return OD(n);if(Sp.has(n))return Sp.get(n);const e=MD(n);return e!==n&&(Sp.set(n,e),Ug.set(e,n)),e}const bp=n=>Ug.get(n);function kD(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=As(c);return r&&c.addEventListener("upgradeneeded",p=>{r(As(c.result),p.oldVersion,p.newVersion,As(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const VD=["get","getKey","getAll","getAllKeys","count"],LD=["put","add","delete","clear"],wp=new Map;function zT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=LD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VD.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return wp.set(e,l),l}PD(n=>({...n,get:(e,t,r)=>zT(e,t)||n.get(e,t,r),has:(e,t)=>!!zT(e,t)||n.has(e,t)}));class UD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zD(n){return n.getComponent()?.type==="VERSION"}const $p="@firebase/app",BT="0.14.7";const Ir=new Lg("@firebase/app"),BD="@firebase/app-compat",jD="@firebase/analytics-compat",FD="@firebase/analytics",HD="@firebase/app-check-compat",qD="@firebase/app-check",GD="@firebase/auth",YD="@firebase/auth-compat",XD="@firebase/database",KD="@firebase/data-connect",QD="@firebase/database-compat",$D="@firebase/functions",WD="@firebase/functions-compat",ZD="@firebase/installations",JD="@firebase/installations-compat",eO="@firebase/messaging",tO="@firebase/messaging-compat",nO="@firebase/performance",iO="@firebase/performance-compat",rO="@firebase/remote-config",sO="@firebase/remote-config-compat",aO="@firebase/storage",oO="@firebase/storage-compat",lO="@firebase/firestore",uO="@firebase/ai",cO="@firebase/firestore-compat",hO="firebase",fO="12.8.0";const Wp="[DEFAULT]",dO={[$p]:"fire-core",[BD]:"fire-core-compat",[FD]:"fire-analytics",[jD]:"fire-analytics-compat",[qD]:"fire-app-check",[HD]:"fire-app-check-compat",[GD]:"fire-auth",[YD]:"fire-auth-compat",[XD]:"fire-rtdb",[KD]:"fire-data-connect",[QD]:"fire-rtdb-compat",[$D]:"fire-fn",[WD]:"fire-fn-compat",[ZD]:"fire-iid",[JD]:"fire-iid-compat",[eO]:"fire-fcm",[tO]:"fire-fcm-compat",[nO]:"fire-perf",[iO]:"fire-perf-compat",[rO]:"fire-rc",[sO]:"fire-rc-compat",[aO]:"fire-gcs",[oO]:"fire-gcs-compat",[lO]:"fire-fst",[cO]:"fire-fst-compat",[uO]:"fire-vertex","fire-js":"fire-js",[hO]:"fire-js-all"};const ff=new Map,mO=new Map,Zp=new Map;function jT(n,e){try{n.container.addComponent(e)}catch(t){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(Zp.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,n);for(const t of ff.values())jT(t,n);for(const t of mO.values())jT(t,n);return!0}function Bf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}const pO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Qu("app","Firebase",pO);class gO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const za=fO;function Sb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Wp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(t||(t=yb()),!t)throw Cs.create("no-options");const l=ff.get(a);if(l){if(Ia(t,l.options)&&Ia(r,l.config))return l;throw Cs.create("duplicate-app",{appName:a})}const c=new SD(a);for(const p of Zp.values())c.addComponent(p);const d=new gO(t,r,c);return ff.set(a,d),d}function zg(n=Wp){const e=ff.get(n);if(!e&&n===Wp&&yb())return Sb();if(!e)throw Cs.create("no-app",{appName:n});return e}function Gi(n,e,t){let r=dO[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(c.join(" "));return}Da(new Ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yO="firebase-heartbeat-database",vO=1,xu="firebase-heartbeat-store";let Ap=null;function bb(){return Ap||(Ap=kD(yO,vO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cs.create("idb-open",{originalErrorMessage:n.message})})),Ap}async function _O(n){try{const t=(await bb()).transaction(xu),r=await t.objectStore(xu).get(wb(n));return await t.done,r}catch(e){if(e instanceof er)Ir.warn(e.message);else{const t=Cs.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(t.message)}}}async function FT(n,e){try{const r=(await bb()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,wb(n)),await r.done}catch(t){if(t instanceof er)Ir.warn(t.message);else{const r=Cs.create("idb-set",{originalErrorMessage:t?.message});Ir.warn(r.message)}}}function wb(n){return`${n.name}!${n.options.appId}`}const TO=1024,EO=30;class SO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>EO){const a=AO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HT(),{heartbeatsToSend:t,unsentEntries:r}=bO(this._heartbeatsCache.heartbeats),a=hf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ir.warn(e),""}}}function HT(){return new Date().toISOString().substring(0,10)}function bO(n,e=TO){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),qT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),qT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cD()?hD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _O(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qT(n){return hf(JSON.stringify({version:2,heartbeats:n})).length}function AO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CO(n){Da(new Ps("platform-logger",e=>new UD(e),"PRIVATE")),Da(new Ps("heartbeat",e=>new SO(e),"PRIVATE")),Gi($p,BT,n),Gi($p,BT,"esm2020"),Gi("fire-js","")}CO("");var RO="firebase",IO="12.8.0";Gi(RO,IO,"app");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DO=Ab,Cb=new Qu("auth","Firebase",Ab());const df=new Lg("@firebase/auth");function OO(n,...e){df.logLevel<=Ve.WARN&&df.warn(`Auth (${za}): ${n}`,...e)}function Wh(n,...e){df.logLevel<=Ve.ERROR&&df.error(`Auth (${za}): ${n}`,...e)}function Wi(n,...e){throw jg(n,...e)}function pi(n,...e){return jg(n,...e)}function Bg(n,e,t){const r={...DO(),[e]:t};return new Qu("auth","Firebase",r).create(e,{appName:n.name})}function Aa(n){return Bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wi(n,"argument-error"),Bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Cb.create(n,...e)}function be(n,e,...t){if(!n)throw jg(e,...t)}function wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wh(e),new Error(e)}function Dr(n,e){n||wr(e)}function Jp(){return typeof self<"u"&&self.location?.href||""}function PO(){return GT()==="http:"||GT()==="https:"}function GT(){return typeof self<"u"&&self.location?.protocol||null}function xO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PO()||aD()||"connection"in navigator)?navigator.onLine:!0}function MO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dr(t>e,"Short delay should be less than long delay!"),this.isMobile=iD()||oD()}get(){return xO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fg(n,e){Dr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Rb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LO=new Wu(3e4,6e4);function Hg(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tl(n,e,t,r,a={}){return Ib(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=$u({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return sD()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(g.credentials="include"),Rb.fetch()(await Db(n,n.config.apiHost,t,d),g)})}async function Ib(n,e,t){n._canInitEmulator=!1;const r={...kO,...e};try{const a=new zO(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Lh(n,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bg(n,v,g);Wi(n,v)}}catch(a){if(a instanceof er)throw a;Wi(n,"network-request-failed",{message:String(a)})}}async function UO(n,e,t,r,a={}){const l=await tl(n,e,t,r,a);return"mfaPendingCredential"in l&&Wi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Db(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?Fg(n.config,a):`${n.config.apiScheme}://${a}`;return VO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class zO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),LO.get())})}}function Lh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=pi(n,e,r);return a.customData._tokenResponse=t,a}async function BO(n,e){return tl(n,"POST","/v1/accounts:delete",e)}async function mf(n,e){return tl(n,"POST","/v1/accounts:lookup",e)}function Au(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jO(n,e=!1){const t=Qt(n),r=await t.getIdToken(e),a=qg(r);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Au(Cp(a.auth_time)),issuedAtTime:Au(Cp(a.iat)),expirationTime:Au(Cp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cp(n){return Number(n)*1e3}function qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=mb(t);return a?JSON.parse(a):(Wh("Failed to decode base64 JWT payload"),null)}catch(a){return Wh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function YT(n){const e=qg(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&FO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class HO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pf(n){const e=n.auth,t=await n.getIdToken(),r=await Mu(n,mf(e,{idToken:t}));be(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Ob(a.providerUserInfo):[],c=GO(n.providerData,l),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new eg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function qO(n){const e=Qt(n);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GO(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Ob(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YO(n,e){const t=await Ib(n,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Db(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(p.credentials="include"),Rb.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XO(n,e){return tl(n,"POST","/v2/accounts:revokeToken",Hg(n,e))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=YT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await YO(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Uo;return r&&(be(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return wr("not implemented")}}function ms(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new HO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new eg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jO(this,e)}reload(){return qO(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Mu(this,BO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:O,providerData:L,stsTokenManager:z}=t;be(E&&z,e,"internal-error");const V=Uo.fromJSON(this.name,z);be(typeof E=="string",e,"internal-error"),ms(r,e.name),ms(a,e.name),be(typeof b=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),ms(l,e.name),ms(c,e.name),ms(d,e.name),ms(p,e.name),ms(g,e.name),ms(v,e.name);const Q=new fi({uid:E,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:V,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(Q.providerData=L.map(W=>({...W}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,t,r=!1){const a=new Uo;a.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await pf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Ob(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Uo;d.updateFromIdToken(r);const p=new fi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new eg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const XT=new Map;function Ar(n){Dr(n instanceof Function,"Expected a class definition");let e=XT.get(n);return e?(Dr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XT.set(n,e),e)}class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nb.type="NONE";const KT=Nb;function Zh(n,e,t){return`firebase:${n}:${e}:${t}`}class zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mf(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zo(Ar(KT),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ar(KT);const c=Zh(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const b=await mf(e,{idToken:v}).catch(()=>{});if(!b)break;E=await fi._fromGetAccountInfoResponse(e,b,v)}else E=fi._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zo(l,e,r))}}function QT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Ub(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Pb(n=cn()){return/firefox\//i.test(n)}function xb(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(n=cn()){return/crios\//i.test(n)}function kb(n=cn()){return/iemobile/i.test(n)}function Vb(n=cn()){return/android/i.test(n)}function Lb(n=cn()){return/blackberry/i.test(n)}function Ub(n=cn()){return/webos/i.test(n)}function Gg(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KO(n=cn()){return Gg(n)&&!!window.navigator?.standalone}function QO(){return lD()&&document.documentMode===10}function zb(n=cn()){return Gg(n)||Vb(n)||Ub(n)||Lb(n)||/windows phone/i.test(n)||kb(n)}function Bb(n,e=[]){let t;switch(n){case"Browser":t=QT(cn());break;case"Worker":t=`${QT(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${r}`}class $O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function WO(n,e={}){return tl(n,"GET","/v2/passwordPolicy",Hg(n,e))}const ZO=6;class JO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ZO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class e4{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new $O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mf(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Aa(this));const t=e?Qt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WO(this),t=new JO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jf(n){return Qt(n)}class $T{constructor(e){this.auth=e,this.observer=null,this.addObserver=gD(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t4(n){Yg=n}function n4(n){return Yg.loadJS(n)}function i4(){return Yg.gapiScript}function r4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function s4(n,e){const t=Bf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ia(l,e??{}))return a;Wi(a,"already-initialized")}return t.initialize({options:e})}function a4(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function o4(n,e,t){const r=jf(n);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=jb(e),{host:c,port:d}=l4(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Ia(g,r.config.emulator)&&Ia(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Bs(c)?(kg(`${l}//${c}${p}`),Vg("Auth",!0)):u4()}function jb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l4(n){const e=jb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:WT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:WT(c)}}}function WT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Fb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function Bo(n,e){return UO(n,"POST","/v1/accounts:signInWithIdp",Hg(n,e))}const c4="http://localhost";class Oa extends Fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Oa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:c4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$u(t)}return e}}class Xg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zu extends Xg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps extends Zu{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";class br extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return br.credential(t,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";class gs extends Zu{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";class ys extends Zu{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ys.credential(t,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await fi._fromIdTokenResponse(e,r,a),c=ZT(r);return new Yo({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=ZT(r);return new Yo({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function ZT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class gf extends er{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new gf(e,t,r,a)}}function Hb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(n,l,e,r):l})}async function h4(n,e,t=!1){const r=await Mu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yo._forOperation(n,"link",r)}async function f4(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(Aa(r));const a="reauthenticate";try{const l=await Mu(n,Hb(r,a,e,n),t);be(l.idToken,r,"internal-error");const c=qg(l.idToken);be(c,r,"internal-error");const{sub:d}=c;return be(n.uid===d,r,"user-mismatch"),Yo._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),l}}async function d4(n,e,t=!1){if(Kn(n.app))return Promise.reject(Aa(n));const r="signIn",a=await Hb(n,r,e),l=await Yo._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}function m4(n,e,t,r){return Qt(n).onIdTokenChanged(e,t,r)}function p4(n,e,t){return Qt(n).beforeAuthStateChanged(e,t)}function g4(n,e,t,r){return Qt(n).onAuthStateChanged(e,t,r)}const yf="__sak";class qb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y4=1e3,v4=10;class Gb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);QO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,v4):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const _4=Gb;class Yb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yb.type="SESSION";const Xb=Yb;function T4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await T4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];function Kg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class E4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Kg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function S4(n){Yi().location.href=n}function Kb(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function b4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w4(){return navigator?.serviceWorker?.controller||null}function A4(){return Kb()?self:null}const Qb="firebaseLocalStorageDb",C4=1,vf="firebaseLocalStorage",$b="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hf(n,e){return n.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function R4(){const n=indexedDB.deleteDatabase(Qb);return new Ju(n).toPromise()}function tg(){const n=indexedDB.open(Qb,C4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vf,{keyPath:$b})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vf)?e(r):(r.close(),await R4(),e(await tg()))})})}async function JT(n,e,t){const r=Hf(n,!0).put({[$b]:e,value:t});return new Ju(r).toPromise()}async function I4(n,e){const t=Hf(n,!1).get(e),r=await new Ju(t).toPromise();return r===void 0?null:r.value}function eE(n,e){const t=Hf(n,!0).delete(e);return new Ju(t).toPromise()}const D4=800,O4=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>O4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(A4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b4(),!this.activeServiceWorker)return;this.sender=new E4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await JT(e,yf,"1"),await eE(e,yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>I4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hf(a,!1).getAll();return new Ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const N4=Wb;new Wu(3e4,6e4);function Zb(n,e){return e?Ar(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Qg extends Fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function P4(n){return d4(n.auth,new Qg(n),n.bypassAuthState)}function x4(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),f4(t,new Qg(n),n.bypassAuthState)}async function M4(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),h4(t,new Qg(n),n.bypassAuthState)}class Jb{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:Wi(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k4=new Wu(2e3,1e4);async function V4(n,e,t){if(Kn(n.app))return Promise.reject(pi(n,"operation-not-supported-in-this-environment"));const r=jf(n);NO(n,e,Xg);const a=Zb(r,t);return new _a(r,"signInViaPopup",e,a).executeNotNull()}class _a extends Jb{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k4.get())};e()}}_a.currentPopupAction=null;const L4="pendingRedirect",Jh=new Map;class U4 extends Jb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z4(n,e){const t=F4(e),r=j4(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function B4(n,e){Jh.set(n._key(),e)}function j4(n){return Ar(n._redirectPersistence)}function F4(n){return Zh(L4,n.config.apiKey,n.name)}async function H4(n,e,t=!1){if(Kn(n.app))return Promise.reject(Aa(n));const r=jf(n),a=Zb(r,e),c=await new U4(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const q4=600*1e3;class G4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!e1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(n);default:return!1}}async function X4(n,e={}){return tl(n,"GET","/v1/projects",e)}const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function $4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await X4(n);for(const t of e)try{if(W4(t))return}catch{}Wi(n,"unauthorized-domain")}function W4(n){const e=Jp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Q4.test(t))return!1;if(K4.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Z4=new Wu(3e4,6e4);function nE(){const n=Yi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function J4(n){return new Promise((e,t)=>{function r(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),t(pi(n,"network-request-failed"))},timeout:Z4.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const a=r4("iframefcb");return Yi()[a]=()=>{gapi.load?r():t(pi(n,"network-request-failed"))},n4(`${i4()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ef=null,e})}let ef=null;function eN(n){return ef=ef||J4(n),ef}const tN=new Wu(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fg(e,iN):`https://${n.config.authDomain}/${nN}`,r={apiKey:e.apiKey,appName:n.name,v:za},a=sN.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${$u(r).slice(1)}`}async function oN(n){const e=await eN(n),t=Yi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:aN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=pi(n,"network-request-failed"),d=Yi().setTimeout(()=>{l(c)},tN.get());function p(){Yi().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(n,e,t,r=uN,a=cN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...lN,width:r.toString(),height:a.toString(),top:l,left:c},g=cn().toLowerCase();t&&(d=Mb(g)?hN:t),Pb(g)&&(e=e||fN,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[O,L])=>`${b}${O}=${L},`,"");if(KO(g)&&d!=="_self")return mN(e||"",d),new iE(null);const E=window.open(e||"",d,v);be(E,n,"popup-blocked");try{E.focus()}catch{}return new iE(E)}function mN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const pN="__/auth/handler",gN="emulator/auth/handler",yN=encodeURIComponent("fac");async function rE(n,e,t,r,a,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:za,eventId:a};if(e instanceof Xg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Zu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${yN}=${encodeURIComponent(p)}`:"";return`${vN(n)}?${$u(d).slice(1)}${g}`}function vN({config:n}){return n.emulator?Fg(n,gN):`https://${n.authDomain}/${pN}`}const Rp="webStorageSupport";class _N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=H4,this._overrideRedirectResult=B4}async _openPopup(e,t,r,a){Dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await rE(e,t,r,Jp(),a);return dN(e,l,Kg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await rE(e,t,r,Jp(),a);return S4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Dr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await oN(e),r=new G4(e);return t.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rp,{type:Rp},a=>{const l=a?.[0]?.[Rp];l!==void 0&&t(!!l),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zb()||xb()||Gg()}}const TN=_N;var sE="@firebase/auth",aE="1.12.0";class EN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bN(n){Da(new Ps("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bb(n)},g=new e4(r,a,l,p);return a4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Da(new Ps("auth-internal",e=>{const t=jf(e.getProvider("auth").getImmediate());return(r=>new EN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(sE,aE,SN(n)),Gi(sE,aE,"esm2020")}const wN=300,AN=vb("authIdTokenMaxAge")||wN;let oE=null;const CN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AN)return;const a=t?.token;oE!==a&&(oE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function RN(n=zg()){const e=Bf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=s4(n,{popupRedirectResolver:TN,persistence:[N4,_4,Xb]}),r=vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=CN(l.toString());p4(t,c,()=>c(t.currentUser)),m4(t,d=>c(d))}}const a=pb("auth");return a&&o4(t,`http://${a}`),t}function IN(){return document.getElementsByTagName("head")?.[0]??document}t4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=pi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",IN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bN("Browser");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rs,t1;(function(){var n;function e(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,P,k){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return A.prototype[P].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)M[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)M[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],P=R.g[2];let k=R.g[3],D;D=A+(k^I&(P^k))+M[0]+3614090360&4294967295,A=I+(D<<7&4294967295|D>>>25),D=k+(P^A&(I^P))+M[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=P+(I^k&(A^I))+M[2]+606105819&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(A^P&(k^A))+M[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(k^I&(P^k))+M[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=k+(P^A&(I^P))+M[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=P+(I^k&(A^I))+M[6]+2821735955&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(A^P&(k^A))+M[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(k^I&(P^k))+M[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=k+(P^A&(I^P))+M[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=P+(I^k&(A^I))+M[10]+4294925233&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(A^P&(k^A))+M[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(k^I&(P^k))+M[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=k+(P^A&(I^P))+M[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=P+(I^k&(A^I))+M[14]+2792965006&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(A^P&(k^A))+M[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(P^k&(I^P))+M[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(A^I))+M[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(k^A))+M[11]+643717713&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^A&(P^k))+M[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^k&(I^P))+M[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(A^I))+M[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(k^A))+M[15]+3634488961&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^A&(P^k))+M[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^k&(I^P))+M[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(A^I))+M[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(k^A))+M[3]+4107603335&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^A&(P^k))+M[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^k&(I^P))+M[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(A^I))+M[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(k^A))+M[7]+1735328473&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^A&(P^k))+M[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(I^P^k)+M[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=k+(A^I^P)+M[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=P+(k^A^I)+M[11]+1839030562&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^A)+M[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^k)+M[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=k+(A^I^P)+M[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=P+(k^A^I)+M[7]+4139469664&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^A)+M[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^k)+M[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=k+(A^I^P)+M[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=P+(k^A^I)+M[3]+3572445317&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^A)+M[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^k)+M[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=k+(A^I^P)+M[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=P+(k^A^I)+M[15]+530742520&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^A)+M[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(P^(I|~k))+M[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=k+(I^(A|~P))+M[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=P+(A^(k|~I))+M[14]+2878612391&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~A))+M[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~k))+M[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=k+(I^(A|~P))+M[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=P+(A^(k|~I))+M[10]+4293915773&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~A))+M[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~k))+M[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=k+(I^(A|~P))+M[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=P+(A^(k|~I))+M[6]+2734768916&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~A))+M[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~k))+M[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=k+(I^(A|~P))+M[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=P+(A^(k|~I))+M[2]+718787259&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,M=this.C;let P=this.h,k=0;for(;k<A;){if(P==0)for(;k<=I;)a(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(M[P++]=R.charCodeAt(k++),P==this.blockSize){a(this,M),P=0;break}}else for(;k<A;)if(M[P++]=R[k++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[A++]=this.g[I]>>>M&255;return R};function l(R,A){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;const I=[];let M=!0;for(let P=R.length-1;P>=0;P--){const k=R[P]|0;M&&k==A||(I[P]=k,M=!1)}this.g=I}var d={};function p(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return V(g(-R));const A=[];let I=1;for(let M=0;R>=I;M++)A[M]=R/I|0,I*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return V(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let M=E;for(let k=0;k<R.length;k+=8){var P=Math.min(8,R.length-k);const D=parseInt(R.substring(k,k+P),A);P<8?(P=g(Math.pow(A,P)),M=M.j(P).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var E=p(0),b=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-V(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(z(this))return"-"+V(this).toString(R);const A=g(Math.pow(R,6));var I=this;let M="";for(;;){const P=le(I,A).g;I=Q(I,P.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=P,L(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function z(R){return R.h==-1}n.l=function(R){return R=Q(this,R),z(R)?-1:L(R)?0:1};function V(R){const A=R.g.length,I=[];for(let M=0;M<A;M++)I[M]=~R.g[M];return new c(I,~R.h).add(b)}n.abs=function(){return z(this)?V(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let P=0;P<=A;P++){let k=M+(this.i(P)&65535)+(R.i(P)&65535),D=(k>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);M=D>>>16,k&=65535,D&=65535,I[P]=D<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Q(R,A){return R.add(V(A))}n.j=function(R){if(L(this)||L(R))return E;if(z(this))return z(R)?V(this).j(V(R)):V(V(this).j(R));if(z(R))return V(this.j(V(R)));if(this.l(O)<0&&R.l(O)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<R.g.length;P++){const k=this.i(M)>>>16,D=this.i(M)&65535,Fe=R.i(P)>>>16,it=R.i(P)&65535;I[2*M+2*P]+=D*it,W(I,2*M+2*P),I[2*M+2*P+1]+=k*it,W(I,2*M+2*P+1),I[2*M+2*P+1]+=D*Fe,W(I,2*M+2*P+1),I[2*M+2*P+2]+=k*Fe,W(I,2*M+2*P+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new c(I,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function J(R,A){this.g=R,this.h=A}function le(R,A){if(L(A))throw Error("division by zero");if(L(R))return new J(E,E);if(z(R))return A=le(V(R),A),new J(V(A.g),V(A.h));if(z(A))return A=le(R,V(A)),new J(V(A.g),A.h);if(R.g.length>30){if(z(R)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=A;M.l(R)<=0;)I=me(I),M=me(M);var P=ge(I,1),k=ge(M,1);for(M=ge(M,2),I=ge(I,2);!L(M);){var D=k.add(M);D.l(R)<=0&&(P=P.add(I),k=D),M=ge(M,1),I=ge(I,1)}return A=Q(R,P.j(A)),new J(P,A)}for(P=E;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(I),D=k.j(A);z(D)||D.l(R)>0;)I-=M,k=g(I),D=k.j(A);L(k)&&(k=b),P=P.add(k),R=Q(R,D)}return new J(P,R)}n.B=function(R){return le(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&R.i(M);return new c(I,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|R.i(M);return new c(I,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^R.i(M);return new c(I,this.h^R.h)};function me(R){const A=R.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(I,R.h)}function ge(R,A){const I=A>>5;A%=32;const M=R.g.length-I,P=[];for(let k=0;k<M;k++)P[k]=A>0?R.i(k+I)>>>A|R.i(k+I+1)<<32-A:R.i(k+I);return new c(P,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Rs=c}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n1,Eu,i1,tf,ng,r1,s1,a1;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var j=h[w];if(!(j in T))break e;T=T[j]}h=h[h.length-1],w=T[h],y=y(w),y!=w&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var T=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([w,y[w]]);return T}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,j,Y){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[j].apply(w,se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const y=h.length;if(y>0){const T=Array(y);for(let w=0;w<y;w++)T[w]=h[w];return T}return[]}function L(h,y){for(let w=1;w<arguments.length;w++){const j=arguments[w];var T=typeof j;if(T=T!="object"?T:j?Array.isArray(j)?"array":T:"null",T=="array"||T=="object"&&typeof j.length=="number"){T=h.length||0;const Y=j.length||0;h.length=T+Y;for(let se=0;se<Y;se++)h[T+se]=j[se]}else h.push(j)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,T){const w=J.get();w.set(y,T),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new z(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ge=!1,R=new W,A=()=>{const h=Promise.resolve(void 0);me=()=>{h.then(I)}};function I(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){V(T)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Fe(h,y){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Fe,P),Fe.prototype.init=function(h,y){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(h,y,T,w,j){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!w,this.ha=j,this.key=++$,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oe(h,y,T){for(const w in h)y.call(T,h[w],w,h)}function je(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function C(h){const y={};for(const T in h)y[T]=h[T];return y}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,y){let T,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(T in w)h[T]=w[T];for(let Y=0;Y<B.length;Y++)T=B[Y],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,y,T,w,j){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const se=_e(h,y,w,j);return se>-1?(y=h[se],T||(y.fa=!1)):(y=new ae(y,this.src,Y,!!w,j),y.fa=T,h.push(y)),y};function fe(h,y){const T=y.type;if(T in h.g){var w=h.g[T],j=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=j>=0)&&Array.prototype.splice.call(w,j,1),Y&&(pe(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function _e(h,y,T,w){for(let j=0;j<h.length;++j){const Y=h[j];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==w)return j}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),mt={};function tt(h,y,T,w,j){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)tt(h,y[Y],T,w,j);return null}return T=hl(T),h&&h[it]?h.J(y,T,d(w)?!!w.capture:!1,j):Ti(h,y,T,!1,w,j)}function Ti(h,y,T,w,j,Y){if(!y)throw Error("Invalid event type");const se=d(j)?!!j.capture:!!j;let Re=Fs(h);if(Re||(h[xe]=Re=new oe(h)),T=Re.add(y,T,w,se,Y),T.proxy)return T;if(w=nr(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)k||(j=se),j===void 0&&(j=!1),h.addEventListener(y.toString(),w,j);else if(h.attachEvent)h.attachEvent(Ei(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function nr(){function h(T){return y.call(h.src,h.listener,T)}const y=ul;return h}function xr(h,y,T,w,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)xr(h,y[Y],T,w,j);else w=d(w)?!!w.capture:!!w,T=hl(T),h&&h[it]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],T=_e(y,T,w,j),T>-1&&(pe(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Fs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_e(y,T,w,j)),(T=h>-1?y[h]:null)&&Mr(T))}function Mr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])fe(y.i,h);else{var T=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(T,w,h.capture):y.detachEvent?y.detachEvent(Ei(T),w):y.addListener&&y.removeListener&&y.removeListener(w),(T=Fs(y))?(fe(T,h),T.h==0&&(T.src=null,y[xe]=null)):pe(h)}}}function Ei(h){return h in mt?mt[h]:mt[h]="on"+h}function ul(h,y){if(h.da)h=!0;else{y=new Fe(y,this);const T=h.listener,w=h.ha||h.src;h.fa&&Mr(h),h=T.call(w,y)}return h}function Fs(h){return h=h[xe],h instanceof oe?h:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(h){return typeof h=="function"?h:(h[cl]||(h[cl]=function(y){return h.handleEvent(y)}),h[cl])}function Ct(){M.call(this),this.i=new oe(this),this.M=this,this.G=null}E(Ct,M),Ct.prototype[it]=!0,Ct.prototype.removeEventListener=function(h,y,T,w){xr(this,h,y,T,w)};function Bt(h,y){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new P(y,h);else if(y instanceof P)y.target=y.target||h;else{var j=y;y=new P(w,h),re(y,j)}j=!0;let Y,se;if(T)for(se=T.length-1;se>=0;se--)Y=y.g=T[se],j=kr(Y,w,!0,y)&&j;if(Y=y.g=h,j=kr(Y,w,!0,y)&&j,j=kr(Y,w,!1,y)&&j,T)for(se=0;se<T.length;se++)Y=y.g=T[se],j=kr(Y,w,!1,y)&&j}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let w=0;w<T.length;w++)pe(T[w]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,T,w){return this.i.add(String(h),y,!1,T,w)},Ct.prototype.K=function(h,y,T,w){return this.i.add(String(h),y,!0,T,w)};function kr(h,y,T,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let Y=0;Y<y.length;++Y){const se=y[Y];if(se&&!se.da&&se.capture==T){const Re=se.listener,Et=se.ha||se.src;se.fa&&fe(h.i,se),j=Re.call(Et,w)!==!1&&j}}return j&&!w.defaultPrevented}function fd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function sc(h){h.g=fd(()=>{h.g=null,h.i&&(h.i=!1,sc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class hn extends M{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:sc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(h){M.call(this),this.h=h,this.g={}}E(Hs,M);var fl=[];function dl(h){Oe(h.g,function(y,T){this.g.hasOwnProperty(T)&&Mr(y)},h),h.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),dl(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=c.JSON.stringify,dd=c.JSON.parse,ac=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function oc(){}function lc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){P.call(this,"d")}E($t,P);function kn(){P.call(this,"c")}E(kn,P);var Tt={},uc=null;function Ya(){return uc=uc||new Ct}Tt.Ia="serverreachability";function cc(h){P.call(this,Tt.Ia,h)}E(cc,P);function Si(h){const y=Ya();Bt(y,new cc(y))}Tt.STAT_EVENT="statevent";function qs(h,y){P.call(this,Tt.STAT_EVENT,h),this.stat=y}E(qs,P);function Rt(h){const y=Ya();Bt(y,new qs(y,h))}Tt.Ja="timingevent";function bi(h,y){P.call(this,Tt.Ja,h),this.size=y}E(bi,P);function wi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function md(h,y,T,w,j,Y){h.info(function(){if(h.g)if(Y){var se="",Re=Y.split("&");for(let Ge=0;Ge<Re.length;Ge++){var Et=Re[Ge].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const zn=ut.split("_");se=zn.length>=2&&zn[1]=="type"?se+(ut+"="+Et+"&"):se+(ut+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+T+`
`+se})}function hc(h,y,T,w,j,Y,se){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+T+`
`+Y+" "+se})}function Ai(h,y,T,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+pd(h,T)+(w?" "+w:"")})}function Gs(h,y){h.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function pd(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var T=Y[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return Vr(Y)}catch{return y}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function Xs(){}E(Xs,oc),Xs.prototype.g=function(){return new XMLHttpRequest},pl=new Xs;function ir(h){return encodeURIComponent(String(h))}function fc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ti(h,y,T,w){this.j=h,this.i=y,this.l=T,this.S=w||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Ci(h,y,T){h.M=1,h.A=Ks(Ot(y)),h.u=T,h.R=!0,Xa(h,null)}function Xa(h,y){h.F=Date.now(),Ri(h),h.B=Ot(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Wa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new ni,h.g=Rc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new hn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,w=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(fl[0]=j.toString()),j=fl);for(let Y=0;Y<j.length;Y++){const se=tt(T,j[Y],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?C(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Si(),md(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const y=this.O;y&&si(h)==3?y.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const Re=si(this.g),Et=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ge<=0?Si(3):Si(2)),Ii(this);var y=this.g.ca();this.X=y;var T=gd(this);if(this.o=y==200,hc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Y=w;break t}}Y=null}if(h=Y)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,Rt(12),An(this),Vn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=mc(this,T),ut==Ht){Re==4&&(this.m=4,Rt(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==It){this.m=4,Rt(15),Ai(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,ut,null),Di(this,ut);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),Vn(this);else if(T.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ol(se),se.P=!0,Rt(11))}}else Ai(this.i,this.l,T,null),Di(this,T);Re==4&&An(this),this.o&&!this.K&&(Re==4?bc(this.j,this):(this.o=!1,Ri(this)))}else sr(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),An(this),Vn(this)}}}catch{}};function gd(h){if(!dc(h))return h.g.la();const y=Wt(h.g);if(y==="")return"";let T="";const w=y.length,j=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<w;Y++)h.h.h=!0,T+=h.h.i.decode(y[Y],{stream:!(j&&Y==w-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function dc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function mc(h,y){var T=h.C,w=y.indexOf(`
`,T);return w==-1?Ht:(T=Number(y.substring(T,w)),isNaN(T)?It:(w+=1,w+T>y.length?Ht:(y=y.slice(w,w+T),h.C=w+T,y)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ri(h){h.T=Date.now()+h.H,Ka(h,h.H)}function Ka(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(g(h.aa,h),y)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gs(this.i,this.B),this.M!=2&&(Si(),Rt(17)),An(this),this.m=2,Vn(this)):Ka(this,this.T-h)};function Vn(h){h.j.I==0||h.K||bc(h.j,h)}function An(h){Ii(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,dl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Di(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Ni(T.h,h))){if(!h.L&&Ni(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)no(T),qr(T);else break e;ta(T),Rt(18)}}else T.xa=j[1],0<T.xa-T.K&&j[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(g(T.Va,T),6e3));Oi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Li(T,11)}else if((h.L||T.g==h)&&no(T),!D(y))for(j=T.Ba.g.parse(y),y=0;y<j.length;y++){let Ge=j[y];const ut=Ge[0];if(!(ut<=T.K))if(T.K=ut,Ge=Ge[1],T.I==2)if(Ge[0]=="c"){T.M=Ge[1],T.ba=Ge[2];const zn=Ge[3];zn!=null&&(T.ka=zn,T.j.info("VER="+T.ka));const Ui=Ge[4];Ui!=null&&(T.za=Ui,T.j.info("SVER="+T.za));const ai=Ge[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const oi=h.g;if(oi){const na=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Y=w.h;Y.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(vl(Y,Y.h),Y.h=null))}if(w.G){const io=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(w.wa=io,Ke(w.J,w.G,io))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var se=h;if(w.na=Cc(w,w.L?w.ba:null,w.W),se.L){_l(w.h,se);var Re=se,Et=w.O;Et&&(Re.H=Et),Re.D&&(Ii(Re),Ri(Re)),w.g=se}else Ec(w);T.i.length>0&&Vi(T)}else Ge[0]!="stop"&&Ge[0]!="close"||Li(T,7);else T.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Li(T,7):Il(T):Ge[0]!="noop"&&T.l&&T.l.qa(Ge),T.A=0)}}Si(4)}catch{}}var Dt=class{constructor(h,y){this.g=h,this.map=y}};function gl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function Ni(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function vl(h,y){h.g?h.g.add(y):h.h=y}function _l(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}gl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return O(h.i)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let j,Y=null;w>=0?(j=h[T].substring(0,w),Y=h[T].substring(w+1)):j=h[T],y(j,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Cn?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Lr(this,h.u),this.h=h.h,El(this,_c(h.i)),this.m=h.m):h&&(y=String(h).match(pc))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Pi(y[2]||""),this.g=Pi(y[3]||"",!0),Lr(this,y[4]),this.h=Pi(y[5]||"",!0),El(this,y[6]||"",!0),this.m=Pi(y[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Cn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Qs(y,$a,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Qs(y,$a,!0),"@"),h.push(ir(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Qs(T,T.charAt(0)=="/"?Sl:gc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Qs(T,yc)),h.join("")},Cn.prototype.resolve=function(h){const y=Ot(this);let T=!!h.j;T?qt(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var w=h.h;if(T)Lr(y,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=y.h.lastIndexOf("/");j!=-1&&(w=y.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const Y=[];for(let se=0;se<j.length;){const Re=j[se++];Re=="."?w&&se==j.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&se==j.length&&Y.push("")):(Y.push(Re),w=!0)}w=Y.join("/")}else w=j}return T?y.h=w:T=h.i.toString()!=="",T?El(y,_c(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ot(h){return new Cn(h)}function qt(h,y,T){h.j=T?Pi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Lr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function El(h,y,T){y instanceof zr?(h.i=y,Za(h.i,h.l)):(T||(y=Qs(y,Ur)),h.i=new zr(y,h.l))}function Ke(h,y,T){h.i.set(y,T)}function Ks(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Pi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qs(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $a=/[#\/\?@]/g,gc=/[#\?:]/g,Sl=/[#\?]/g,Ur=/[#\?@]/g,yc=/#/g;function zr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qa(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=zr.prototype,n.add=function(h,y){yn(this),this.i=null,h=Br(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function vc(h,y){yn(h),y=Br(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function bl(h,y){return yn(h),y=Br(h,y),h.g.has(y)}n.forEach=function(h,y){yn(this),this.g.forEach(function(T,w){T.forEach(function(j){h.call(y,j,w,this)},this)},this)};function wl(h,y){yn(h);let T=[];if(typeof y=="string")bl(h,y)&&(T=T.concat(h.g.get(Br(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return yn(this),this.i=null,h=Br(this,h),bl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=wl(this,h),h.length>0?String(h[0]):y):y};function Wa(h,y,T){vc(h,y),T.length>0&&(h.i=null,h.g.set(Br(h,y),O(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var T=y[w];const j=ir(T);T=wl(this,T);for(let Y=0;Y<T.length;Y++){let se=j;T[Y]!==""&&(se+="="+ir(T[Y])),h.push(se)}}return this.i=h.join("&")};function _c(h){const y=new zr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Br(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Za(h,y){y&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(T,w){const j=w.toLowerCase();w!=j&&(vc(this,w),Wa(this,j,T))},h)),h.j=y}function ii(h,y){const T=new ei;if(c.Image){const w=new Image;w.onload=v(Ln,T,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Ln,T,"TestLoadImage: error",!1,y,w),w.onabort=v(Ln,T,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Ln,T,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Al(h,y){const T=new ei,w=new AbortController,j=setTimeout(()=>{w.abort(),Ln(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Y=>{clearTimeout(j),Y.ok?Ln(T,"TestPingServer: ok",!0,y):Ln(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ln(T,"TestPingServer: error",!1,y)})}function Ln(h,y,T,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(T)}catch{}}function jr(){this.g=new ac}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(xi,oc),xi.prototype.g=function(){return new $s(this.i,this.h)};function $s(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E($s,Ct),n=$s.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ri(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Fr(this):ri(this),this.readyState==3&&Ja(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Fr(this))},n.Na=function(h){this.g&&(this.response=h,Fr(this))},n.ga=function(){this.g&&Fr(this)};function Fr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ri(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return Oe(h,function(T,w){y+=w,y+=":",y+=T,y+=`\r
`}),y}function Ws(h,y,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=Un(T),typeof h=="string"?T!=null&&ir(T):Ke(h,y,T))}function We(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,Ct);var Mi=/^https?$/i,Cl=["POST","PUT"];n=We.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Zs(this,Y);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)T.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())T.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,y,void 0)>=0)||w||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of T)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Zs(this,Y)}};function Zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Rl(h),rr(h)}function Rl(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),We.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(h){if(h.h&&typeof l<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),si(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var w;if(w=Y===0){let se=String(h.D).match(pc)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),w=!Mi.test(se?se.toLowerCase():"")}T=w}if(T)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var j=si(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",Rl(h)}}finally{rr(h)}}}}function rr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Bt(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}n.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),dd(y)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sr(h){const y={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var T=fc(h[w]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[j]||[];y[j]=Y,Y.push(T)}je(y,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Hr(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(h&&h.concurrentRequestLimit),this.Ba=new jr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hr.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,w){Rt(0),this.W=h,this.H=y||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Cc(this,null,this.W),Vi(this)};function Il(h){if(eo(h),h.I==3){var y=h.V++,T=Ot(h.J);if(Ke(T,"SID",h.M),Ke(T,"RID",y),Ke(T,"TYPE","terminate"),ea(h,T),y=new ti(h,h.j,y),y.M=2,y.A=Ks(Ot(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Rc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}Ac(h)}function qr(h){h.g&&(Ol(h),h.g.cancel(),h.g=null)}function eo(h){qr(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!yl(h.h)&&!h.m){h.m=!0;var y=h.Ea;me||A(),ge||(me(),ge=!0),R.add(y,h),h.D=0}}function to(h,y){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(g(h.Ea,h,y),wc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new ti(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=C(Y),re(Y,this.U)):Y=this.U),this.u!==null||this.R||(j.J=Y,Y=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Tc(this,j,y),T=Ot(this.J),Ke(T,"RID",h),Ke(T,"CVER",22),this.G&&Ke(T,"X-HTTP-Session-Id",this.G),ea(this,T),Y&&(this.R?y="headers="+ir(Un(Y))+"&"+y:this.u&&Ws(T,this.u,Y)),vl(this.h,j),this.Ra&&Ke(T,"TYPE","init"),this.S?(Ke(T,"$req",y),Ke(T,"SID","null"),j.U=!0,Ci(j,T,null)):Ci(j,T,y),this.I=2}}else this.I==3&&(h?Dl(this,h):this.i.length==0||yl(this.h)||Dl(this))};function Dl(h,y){var T;y?T=y.l:T=h.V++;const w=Ot(h.J);Ke(w,"SID",h.M),Ke(w,"RID",T),Ke(w,"AID",h.K),ea(h,w),h.u&&h.o&&Ws(w,h.u,h.o),T=new ti(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Tc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),vl(h.h,T),Ci(T,w,y)}function ea(h,y){h.H&&Oe(h.H,function(T,w){Ke(y,w,T)}),h.l&&Oe({},function(T,w){Ke(y,w,T)})}function Tc(h,y,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var j=h.i;let Re=-1;for(;;){const Et=["count="+T];Re==-1?T>0?(Re=j[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ge=!0;for(let ut=0;ut<T;ut++){var Y=j[ut].g;const zn=j[ut].map;if(Y-=Re,Y<0)Re=Math.max(0,j[ut].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var se=zn instanceof Map?zn:Object.entries(zn);for(const[Ui,ai]of se){let oi=ai;d(ai)&&(oi=Vr(ai)),Et.push(Y+Ui+"="+encodeURIComponent(oi))}}catch(Ui){throw Et.push(Y+"type="+encodeURIComponent("_badmap")),Ui}}catch{w&&w(zn)}}if(Ge){se=Et.join("&");break e}}se=void 0}return h=h.i.splice(0,T),y.G=h,se}function Ec(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;me||A(),ge||(me(),ge=!0),R.add(y,h),h.A=0}}function ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(g(h.Da,h),wc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),qr(this),Sc(this))};function Ol(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Sc(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ot(h.na);Ke(y,"RID","rpc"),Ke(y,"SID",h.M),Ke(y,"AID",h.K),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(y,"TO",h.ia),Ke(y,"TYPE","xmlhttp"),ea(h,y),h.u&&h.o&&Ws(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ks(Ot(y)),T.u=null,T.R=!0,Xa(T,h)}n.Va=function(){this.C!=null&&(this.C=null,qr(this),ta(this),Rt(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function bc(h,y){var T=null;if(h.g==y){no(h),Ol(h),h.g=null;var w=2}else if(Ni(h.h,y))T=y.G,_l(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var j=h.D;w=Ya(),Bt(w,new bi(w,T)),Vi(h)}else Ec(h);else if(j=y.m,j==3||j==0&&y.X>0||!(w==1&&to(h,y)||w==2&&ta(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),j){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function wc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Li(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),w=h.Ua;const j=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(w,"https"),Ks(w),j?ii(w.toString(),T):Al(w.toString(),T)}else Rt(2);h.I=0,h.l&&h.l.pa(y),Ac(h),eo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ac(h){if(h.I=0,h.ja=[],h.l){const y=Tl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function Cc(h,y,T){var w=T instanceof Cn?Ot(T):new Cn(T);if(w.g!="")y&&(w.g=y+"."+w.g),Lr(w,w.u);else{var j=c.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const Y=new Cn(null);w&&qt(Y,w),y&&(Y.g=y),j&&Lr(Y,j),T&&(Y.h=T),w=Y}return T=h.G,y=h.wa,T&&y&&Ke(w,T,y),Ke(w,"VER",h.ka),ea(h,w),w}function Rc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new We(new xi({ab:T})):new We(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ic(){}n=Ic.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Gr(){}Gr.prototype.g=function(h,y){return new fn(h,y)};function fn(h,y){Ct.call(this),this.g=new Hr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ar(this)}E(fn,Ct),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Il(this.g)},fn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Vr(h),h=T);y.i.push(new Dt(y.Ya++,h)),y.I==3&&Vi(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,fn.Z.N.call(this)};function Dc(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Dc,$t);function Oc(){kn.call(this),this.status=1}E(Oc,kn);function ar(h){this.g=h}E(ar,Ic),ar.prototype.ra=function(){Bt(this.g,"a")},ar.prototype.qa=function(h){Bt(this.g,new Dc(h))},ar.prototype.pa=function(h){Bt(this.g,new Oc)},ar.prototype.oa=function(){Bt(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,a1=function(){return new Gr},s1=function(){return Ya()},r1=Tt,ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,tf=Ys,ml.COMPLETE="complete",i1=ml,lc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Eu=lc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,n1=We}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let nl="12.8.0";function DN(n){nl=n}const Na=new Lg("@firebase/firestore");function Mo(){return Na.logLevel}function ce(n,...e){if(Na.logLevel<=Ve.DEBUG){const t=e.map($g);Na.debug(`Firestore (${nl}): ${n}`,...t)}}function Or(n,...e){if(Na.logLevel<=Ve.ERROR){const t=e.map($g);Na.error(`Firestore (${nl}): ${n}`,...t)}}function Xo(n,...e){if(Na.logLevel<=Ve.WARN){const t=e.map($g);Na.warn(`Firestore (${nl}): ${n}`,...t)}}function $g(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,o1(n,r,t)}function o1(n,e,t){let r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Or(r),new Error(r)}function Xe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||o1(e,a,r)}function Ce(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class l1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class PN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Is,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Is)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new l1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class xN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=VN(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function ig(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Ip(a)===Ip(l)?Le(a,l):Ip(a)?1:-1}return Le(n.length,e.length)}const LN=55296,UN=57343;function Ip(n){const e=n.charCodeAt(0);return e>=LN&&e<=UN}function Ko(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const cE="__name__";class Hi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Hi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const r=Hi.isNumericId(e),a=Hi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Hi.extractNumericId(e).compare(Hi.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class st extends Hi{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const zN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Hi{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return zN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new rn([cE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function u1(n,e,t){if(!t)throw new ue(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BN(n,e,t,r){if(e===!0&&r===!0)throw new ue(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hE(n){if(!ve.isDocumentKey(n))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fE(n){if(ve.isDocumentKey(n))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function ku(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qf(n);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ut(n,e){const t={typeString:n};return e&&(t.value=e),t}function ec(n,e){if(!c1(n))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ue(ne.INVALID_ARGUMENT,t);return!0}const dE=-62135596800,mE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mE);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dE)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ut("string",lt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vu=-1;function jN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new xs(a,ve.empty(),e)}function FN(n){return new xs(n.readTime,n.key,Vu)}class xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xs(we.min(),ve.empty(),Vu)}static max(){return new xs(we.max(),ve.empty(),Vu)}}function HN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}const qN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function il(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==qN)throw n;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>r(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((a=>a?ie.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ie(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function YN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(n){return n.name==="IndexedDbTransactionError"}class Gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;const Zg=-1;function Yf(n){return n==null}function _f(n){return n===0&&1/n==-1/0}function XN(n){return typeof n=="number"&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const h1="";function KN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pE(e)),e=QN(n.get(t),e);return pE(e)}function QN(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case h1:t+="";break;default:t+=l}}return t}function pE(n){return n+h1+""}function gE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new nn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new di([])}unionWith(e){let t=new Ft(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new d1("Invalid base64 string: "+l):l}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=$N.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}const m1="server_timestamp",p1="__type__",g1="__previous_value__",y1="__local_write_time__";function Jg(n){return(n?.mapValue?.fields||{})[p1]?.stringValue===m1}function Xf(n){const e=n.mapValue.fields[g1];return Jg(e)?Xf(e):e}function Lu(n){const e=Ms(n.mapValue.fields[y1].timestampValue);return new lt(e.seconds,e.nanos)}class WN{constructor(e,t,r,a,l,c,d,p,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=E}}const Tf="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||Tf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}function ZN(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(n.options.projectId,e)}const v1="__type__",JN="__max__",Bh={mapValue:{}},_1="__vector__",Ef="value";function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:t3(n)?9007199254740991:e3(n)?10:11:Ee(28295,{value:n})}function Zi(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lu(n).isEqual(Lu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ms(a.timestampValue),d=Ms(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ks(a.bytesValue).isEqual(ks(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?_f(c)===_f(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(gE(c)!==gE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Zi(c[p],d[p])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function zu(n,e){return(n.values||[]).find((t=>Zi(t,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),p=wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return vE(n.timestampValue,e.timestampValue);case 4:return vE(Lu(n),Lu(e));case 5:return ig(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=ks(l),p=ks(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Le(d[g],p[g]);if(v!==0)return v}return Le(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Le(wt(l.latitude),wt(c.latitude));return d!==0?d:Le(wt(l.longitude),wt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _E(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Ef]?.arrayValue,v=p[Ef]?.arrayValue,E=Le(g?.values?.length||0,v?.values?.length||0);return E!==0?E:_E(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Bh.mapValue&&c===Bh.mapValue)return 0;if(l===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const b=ig(p[E],v[E]);if(b!==0)return b;const O=Qo(d[p[E]],g[v[E]]);if(O!==0)return O}return Le(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function vE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Ms(n),r=Ms(e),a=Le(t.seconds,r.seconds);return a!==0?a:Le(t.nanos,r.nanos)}function _E(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Qo(t[a],r[a]);if(l)return l}return Le(t.length,r.length)}function $o(n){return rg(n)}function rg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ms(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ks(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=rg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${rg(t.fields[c])}`;return a+"}"})(n.mapValue):Ee(61005,{value:n})}function nf(n){switch(Vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(n);return e?16+nf(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+nf(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Ba(r.fields,((l,c)=>{a+=l.length+nf(c)})),a})(n.mapValue);default:throw Ee(13486,{value:n})}}function TE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sg(n){return!!n&&"integerValue"in n}function ey(n){return!!n&&"arrayValue"in n}function EE(n){return!!n&&"nullValue"in n}function SE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rf(n){return!!n&&"mapValue"in n}function e3(n){return(n?.mapValue?.fields||{})[v1]?.stringValue===_1}function Cu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cu(n.arrayValue.values[t]);return e}return{...n}}function t3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=rn.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Cu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ba(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Qn(Cu(this.value))}}function T1(n){const e=[];return Ba(n.fields,((t,r)=>{const a=new rn([t]);if(rf(r)){const l=T1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new di(e)}class un{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,a){return new un(e,1,t,we.min(),r,a,0)}static newNoDocument(e,t){return new un(e,2,t,we.min(),we.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,we.min(),we.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(e,t){this.position=e,this.inclusive=t}}function bE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=ve.comparator(ve.fromName(c.referenceValue),t.key):r=Qo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zi(n.position[t],e.position[t]))return!1;return!0}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function n3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class E1{}class Lt extends E1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new r3(e,t,r):t==="array-contains"?new o3(e,r):t==="in"?new l3(e,r):t==="not-in"?new u3(e,r):t==="array-contains-any"?new c3(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new s3(e,r):new a3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends E1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vi(e,t)}matches(e){return S1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S1(n){return n.op==="and"}function b1(n){return i3(n)&&S1(n)}function i3(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function ag(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(b1(n))return n.filters.map((e=>ag(e))).join(",");{const e=n.filters.map((t=>ag(t))).join(",");return`${n.op}(${e})`}}function w1(n,e){return n instanceof Lt?(function(r,a){return a instanceof Lt&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)})(n,e):n instanceof vi?(function(r,a){return a instanceof vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&w1(c,a.filters[d])),!0):!1})(n,e):void Ee(19439)}function A1(n){return n instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof vi?(function(t){return t.op.toString()+" {"+t.getFilters().map(A1).join(" ,")+"}"})(n):"Filter"}class r3 extends Lt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class s3 extends Lt{constructor(e,t){super(e,"in",t),this.keys=C1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class a3 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=C1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function C1(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class o3 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ey(t)&&zu(t.arrayValue,this.value)}}class l3 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class u3 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}}class c3 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zu(this.value.arrayValue,r)))}}class h3{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function AE(n,e=null,t=[],r=[],a=null,l=null,c=null){return new h3(n,e,t,r,a,l,c)}function ty(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ag(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>$o(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>$o(r))).join(",")),e.Te=t}return e.Te}function ny(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wE(n.startAt,e.startAt)&&wE(n.endAt,e.endAt)}function og(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class sl{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function f3(n,e,t,r,a,l,c,d){return new sl(n,e,t,r,a,l,c,d)}function R1(n){return new sl(n)}function CE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d3(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function I1(n){return n.collectionGroup!==null}function Ru(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ft(rn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Bu(l,r))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new Bu(rn.keyField(),r))}return e.Ie}function Xi(n){const e=Ce(n);return e.Ee||(e.Ee=m3(e,Ru(n))),e.Ee}function m3(n,e){if(n.limitType==="F")return AE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Bu(a.field,l)}));const t=n.endAt?new Sf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sf(n.startAt.position,n.startAt.inclusive):null;return AE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lg(n,e){const t=n.filters.concat([e]);return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function p3(n,e){const t=n.explicitOrderBy.concat([e]);return new sl(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function ug(n,e,t){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kf(n,e){return ny(Xi(n),Xi(e))&&n.limitType===e.limitType}function D1(n){return`${ty(Xi(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>A1(a))).join(", ")}]`),Yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>$o(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>$o(a))).join(",")),`Target(${r})`})(Xi(n))}; limitType=${n.limitType})`}function Qf(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ve.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Ru(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,p){const g=bE(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,Ru(r),a)||r.endAt&&!(function(c,d,p){const g=bE(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,Ru(r),a))})(n,e)}function g3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O1(n){return(e,t)=>{let r=!1;for(const a of Ru(n)){const l=y3(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function y3(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Qo(p,g):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}const v3=new dt(ve.comparator);function Nr(){return v3}const N1=new dt(ve.comparator);function Su(...n){let e=N1;for(const t of n)e=e.insert(t.key,t);return e}function P1(n){let e=N1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ta(){return Iu()}function x1(){return Iu()}function Iu(){return new ja((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _3=new dt(ve.comparator),T3=new Ft(ve.comparator);function Ue(...n){let e=T3;for(const t of n)e=e.add(t);return e}const E3=new Ft(Le);function S3(){return E3}function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function M1(n){return{integerValue:""+n}}function b3(n,e){return XN(e)?M1(e):iy(n,e)}class $f{constructor(){this._=void 0}}function w3(n,e,t){return n instanceof bf?(function(a,l){const c={fields:{[p1]:{stringValue:m1},[y1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jg(l)&&(l=Xf(l)),l&&(c.fields[g1]=l),{mapValue:c}})(t,e):n instanceof ju?V1(n,e):n instanceof Fu?L1(n,e):(function(a,l){const c=k1(a,l),d=RE(c)+RE(a.Ae);return sg(c)&&sg(a.Ae)?M1(d):iy(a.serializer,d)})(n,e)}function A3(n,e,t){return n instanceof ju?V1(n,e):n instanceof Fu?L1(n,e):t}function k1(n,e){return n instanceof wf?(function(r){return sg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class bf extends $f{}class ju extends $f{constructor(e){super(),this.elements=e}}function V1(n,e){const t=U1(e);for(const r of n.elements)t.some((a=>Zi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Fu extends $f{constructor(e){super(),this.elements=e}}function L1(n,e){let t=U1(e);for(const r of n.elements)t=t.filter((a=>!Zi(a,r)));return{arrayValue:{values:t}}}class wf extends $f{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function RE(n){return wt(n.integerValue||n.doubleValue)}function U1(n){return ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function C3(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof ju&&a instanceof ju||r instanceof Fu&&a instanceof Fu?Ko(r.elements,a.elements,Zi):r instanceof wf&&a instanceof wf?Zi(r.Ae,a.Ae):r instanceof bf&&a instanceof bf})(n.transform,e.transform)}class R3{constructor(e,t){this.version=e,this.transformResults=t}}class Ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wf{}function z1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ry(n.key,Ki.none()):new tc(n.key,n.data,Ki.none());{const t=n.data,r=Qn.empty();let a=new Ft(rn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Fa(n.key,r,new di(a.toArray()),Ki.none())}}function I3(n,e,t){n instanceof tc?(function(a,l,c){const d=a.value.clone(),p=DE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Fa?(function(a,l,c){if(!sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=DE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(B1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Du(n,e,t,r){return n instanceof tc?(function(l,c,d,p){if(!sf(l.precondition,c))return d;const g=l.value.clone(),v=OE(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Fa?(function(l,c,d,p){if(!sf(l.precondition,c))return d;const g=OE(l.fieldTransforms,p,c),v=c.data;return v.setAll(B1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(l,c,d){return sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function D3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=k1(r.transform,a||null);l!=null&&(t===null&&(t=Qn.empty()),t.set(r.field,l))}return t||null}function IE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ko(r,a,((l,c)=>C3(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends Wf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fa extends Wf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function DE(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,A3(c,d,t[a]))}return r}function OE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,w3(l,c,e))}return r}class ry extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O3 extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&I3(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=x1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=z1(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,r)=>IE(t,r)))&&Ko(this.baseMutations,e.baseMutations,((t,r)=>IE(t,r)))}}class sy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return _3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new sy(e,t,r,a)}}class P3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class x3{constructor(e,t){this.count=e,this.unchangedNames=t}}var kt,Be;function M3(n){switch(n){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function j1(n){if(n===void 0)return Or("GRPC error has no .code"),ne.UNKNOWN;switch(n){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:n})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function k3(){return new TextEncoder}const V3=new Rs([4294967295,4294967295],0);function NE(n){const e=k3().encode(n),t=new t1;return t.update(e),new Uint8Array(t.digest())}function PE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([a,l],0)]}class ay{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bu(`Invalid padding: ${t}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Rs.fromNumber(r)));return a.compare(V3)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=NE(e),[r,a]=PE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ay(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=NE(e),[r,a]=PE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zf(we.min(),a,new dt(Le),Nr(),Ue())}}class nc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nc(r,t,Ue(),Ue(),Ue())}}class af{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class F1{constructor(e,t){this.targetId=e,this.Ce=t}}class H1{constructor(e,t,r=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class xE{constructor(){this.ve=0,this.Fe=ME(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),r=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ee(38017,{changeType:l})}})),new nc(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=ME()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class L3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.He=jh(),this.Je=jh(),this.Ze=new dt(Le)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(og(l))if(r===0){const c=new ve(l.path);this.et(t,c,un.newNoDocument(c,we.min()))}else Xe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ks(r).toUint8Array()}catch(p){if(p instanceof d1)return Xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ay(c,a,l)}catch(p){return Xo(p instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&og(d.target)){const p=new ve(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,un.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let r=Ue();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Zf(e,t,this.Ze,this.je,r);return this.je=Nr(),this.He=jh(),this.Je=jh(),this.Ze=new dt(Le),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new xE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ft(Le),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ft(Le),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function jh(){return new dt(ve.comparator)}function ME(){return new dt(ve.comparator)}const U3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B3={and:"AND",or:"OR"};class j3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(n,e){return n.useProto3Json||Yf(e)?e:{value:e}}function Af(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function F3(n,e){return Af(n,e.toTimestamp())}function Qi(n){return Xe(!!n,49232),we.fromTimestamp((function(t){const r=Ms(t);return new lt(r.seconds,r.nanos)})(n))}function oy(n,e){return hg(n,e).canonicalString()}function hg(n,e){const t=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function G1(n){const e=st.fromString(n);return Xe($1(e),10190,{key:e.toString()}),e}function fg(n,e){return oy(n.databaseId,e.path)}function Dp(n,e){const t=G1(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(X1(t))}function Y1(n,e){return oy(n.databaseId,e)}function H3(n){const e=G1(n);return e.length===4?st.emptyPath():X1(e)}function dg(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function X1(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kE(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function q3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ne.UNKNOWN:j1(g.code);return new ue(v,g.message||"")})(c);t=new H1(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Dp(n,r.document.name),l=Qi(r.document.updateTime),c=r.document.createTime?Qi(r.document.createTime):we.min(),d=new Qn({mapValue:{fields:r.document.fields}}),p=un.newFoundDocument(a,l,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];t=new af(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Dp(n,r.document),l=r.readTime?Qi(r.readTime):we.min(),c=un.newNoDocument(a,l),d=r.removedTargetIds||[];t=new af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Dp(n,r.document),l=r.removedTargetIds||[];t=new af([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new x3(a,l),d=r.targetId;t=new F1(d,c)}}return t}function G3(n,e){let t;if(e instanceof tc)t={update:kE(n,e.key,e.value)};else if(e instanceof ry)t={delete:fg(n,e.key)};else if(e instanceof Fa)t={update:kE(n,e.key,e.data),updateMask:eP(e.fieldMask)};else{if(!(e instanceof O3))return Ee(16599,{dt:e.type});t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof bf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:F3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(n,e.precondition)),t}function Y3(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(we.min())&&(c=Qi(l)),new R3(c,a.transformResults||[])})(t,e)))):[]}function X3(n,e){return{documents:[Y1(n,e.path)]}}function K3(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Y1(n,a);const l=(function(g){if(g.length!==0)return Q1(vi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:Vo(b.field),direction:W3(b.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=cg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function Q3(n){let e=H3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const b=K1(E);return b instanceof vi&&b1(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((b=>(function(L){return new Bu(Lo(L.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,Yf(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(E){const b=!!E.before,O=E.values||[];return new Sf(O,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const b=!E.before,O=E.values||[];return new Sf(O,b)})(t.endAt)),f3(e,a,c,l,d,"F",p,g)}function $3(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lo(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Lt.create(Lo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vi.create(t.compositeFilter.filters.map((r=>K1(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function W3(n){return U3[n]}function Z3(n){return z3[n]}function J3(n){return B3[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return rn.fromServerFormat(n.fieldPath)}function Q1(n){return n instanceof Lt?(function(t){if(t.op==="=="){if(SE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(EE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(EE(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:Z3(t.op),value:t.value}}})(n):n instanceof vi?(function(t){const r=t.getFilters().map((a=>Q1(a)));return r.length===1?r[0]:{compositeFilter:{op:J3(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function eP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function W1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class _s{constructor(e,t,r,a,l=we.min(),c=we.min(),d=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tP{constructor(e){this.yt=e}}function nP(n){const e=Q3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ug(e,e.limit,"L"):e}class iP{constructor(){this.Sn=new rP}addToCollectionParentIndex(e,t){return this.Sn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(xs.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class rP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(st.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(st.comparator)).toArray()}}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Z1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wo(0)}static ar(){return new Wo(-1)}}const LE="LruGarbageCollector",sP=1048576;function UE([n,e],[t,r]){const a=Le(n,t);return a===0?Le(e,r):a}class aP{constructor(e){this.Pr=e,this.buffer=new Ft(UE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?ce(LE,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Ar(3e5)}))}}class lP{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Gf.ce);const r=new aP(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(VE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(r=E,d=Date.now(),this.removeTargets(e,r,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),Mo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function uP(n,e){return new lP(n,e)}class cP{constructor(){this.changes=new ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fP{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Du(r.mutation,a,di.empty(),lt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const a=Ta();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Su();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=Nr();const c=Iu(),d=(function(){return Iu()})();return t.forEach(((p,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Fa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Du(v.mutation,g,v.mutation.getFieldMask(),lt.now())):c.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new hP(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Iu();let a=new dt(((c,d)=>c-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=r.get(p)||di.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(a.get(d.batchId)||Ue()).add(p);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=x1();v.forEach((b=>{if(!l.has(b)){const O=z1(t.get(b),r.get(b));O!==null&&E.set(b,O),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return d3(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ie.resolve(Ta());let d=Vu,p=l;return c.next((g=>ie.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ue()))).next((v=>({batchId:d,changes:P1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let a=Su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(p=>{const g=(function(E,b){return new sl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,un.newInvalidDocument(v)))}));let d=Su();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Du(v.mutation,g,di.empty(),lt.now()),Qf(t,g)&&(d=d.insert(p,g))})),d}))}}class dP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ie.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:nP(a.bundledQuery),readTime:Qi(a.readTime)}})(t)),ie.resolve()}}class mP{constructor(){this.overlays=new dt(ve.comparator),this.Lr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return ie.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const a=Ta(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new dt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=Ta(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ie.resolve(d)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new P3(t,r));let l=this.Lr.get(t);l===void 0&&(l=Ue(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}class pP{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class ly{constructor(){this.kr=new Ft(Yt.Kr),this.qr=new Ft(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Yt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ve(new st([])),r=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ve(new st([])),r=new Yt(t,e),a=new Yt(t,e+1);let l=Ue();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Yt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ve.comparator(e.key,t.key)||Le(e.Hr,t.Hr)}static Ur(e,t){return Le(e.Hr,t.Hr)||ve.comparator(e.key,t.key)}}class gP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Yt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new N3(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Zg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Le);return t.forEach((a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{r=r.add(d.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ve.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new ve(l),0);let d=new Ft(Le);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),ie.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Xe(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(t.mutations,(a=>{const l=new Yt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Yt(t,0),a=this.Jr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yP{constructor(e){this.ti=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Nr();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Nr();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||HN(FN(v),r)<=0||(a.has(v.key)||Qf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ee(9500)}ni(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new vP(this)}getSize(e){return ie.resolve(this.size)}}class vP extends cP{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class _P{constructor(e){this.persistence=e,this.ri=new ja((t=>ty(t)),ny),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new ly,this.targetCount=0,this.oi=Wo._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ie.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.lr(t),ie.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.si.containsKey(t))}}class J1{constructor(e,t){this._i={},this.overlays={},this.ai=new Gf(0),this.ui=!1,this.ui=!0,this.ci=new pP,this.referenceDelegate=e(this),this.li=new _P(this),this.indexManager=new iP,this.remoteDocumentCache=(function(a){return new yP(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new tP(t),this.Pi=new dP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new gP(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const a=new TP(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class TP extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Ri=new ly,this.Ai=null}static Vi(e){return new uy(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const a=ve.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cf{constructor(e,t){this.persistence=e,this.fi=new ja((r=>KN(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=uP(this,t)}static Vi(e,t){return new Cf(e,t)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ie.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?ie.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(r++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ie.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nf(e.data.value)),t}wr(e,t,r){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Ue(),a=Ue();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new cy(e,t.fromCache,r,a)}}class EP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uD()?8:YN(cn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new EP;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Mo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Mo()<=Ve.DEBUG&&ce("QueryEngine","Query:",ko(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Mo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(t))):ie.resolve())}gs(e,t){if(CE(t))return ie.resolve(null);let r=Xi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ug(t,null,"F"),r=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ue(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,ug(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,r,a){return CE(t)||a.isEqual(we.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,r,a)?ie.resolve(null):(Mo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.Ds(e,c,t,jN(a,Vu)).next((d=>d)))}))}bs(e,t){let r=new Ft(O1(e));return t.forEach(((a,l)=>{Qf(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Mo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ko(t)),this.fs.getDocumentsMatchingQuery(e,t,xs.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const hy="LocalStore",bP=3e8;class wP{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new dt(Le),this.Fs=new ja((l=>ty(l)),ny),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function AP(n,e,t,r){return new wP(n,e,t,r)}async function ew(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let p=Ue();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function CP(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,b=E.keys();let O=ie.resolve();return b.forEach((L=>{O=O.next((()=>v.getEntry(p,L))).next((z=>{const V=g.docVersions.get(L);Xe(V!==null,48541),z.version.compareTo(V)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),O.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function tw(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function RP(n,e){const t=Ce(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,E)=>{const b=a.get(E);if(!b)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,E))));let O=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(sn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),a=a.insert(E,O),(function(z,V,Q){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=bP?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(b,O,v)&&d.push(t.li.updateTargetData(l,O))}));let p=Nr(),g=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(IP(l,c,e.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(we.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(v)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=a,l)))}function IP(n,e,t){let r=Ue(),a=Ue();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Nr();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce(hy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function DP(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OP(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new _s(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function mg(n,e,t){const r=Ce(n),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!rl(c))throw c;ce(hy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function zE(n,e,t){const r=Ce(n);let a=we.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Ce(p),b=E.Fs.get(v);return b!==void 0?ie.resolve(E.vs.get(b)):E.li.getTargetData(g,v)})(r,c,Xi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:Ue()))).next((d=>(NP(r,g3(e),d),{documents:d,ks:l})))))}function NP(n,e,t){let r=n.Ms.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}class BE{constructor(){this.activeTargetIds=S3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PP{constructor(){this.vo=new BE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new BE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xP{Mo(e){}shutdown(){}}const jE="ConnectivityMonitor";class FE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(jE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fh=null;function pg(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}const Op="RestConnection",MP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Tf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const c=pg(),d=this.Qo(e,t.toUriEncodedString());ce(Op,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(d),v=Bs(g);return this.zo(e,d,p,r,v).then((E=>(ce(Op,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Xo(Op,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",r),E}))}jo(e,t,r,a,l,c){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=MP[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class VP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",yu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class jo extends kP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!jo.c_){const e=s1();yu(e,r1.STAT_EVENT,(t=>{t.stat===ng.PROXY?ce(on,"STAT_EVENT: detected buffering proxy"):t.stat===ng.NOPROXY&&ce(on,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(e,t,r,a,l){const c=pg();return new Promise(((d,p)=>{const g=new n1;g.setWithCredentials(!0),g.listenOnce(i1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case tf.NO_ERROR:const E=g.getResponseJson();ce(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case tf.TIMEOUT:ce(on,`RPC '${e}' ${c} timed out`),p(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const b=g.getStatus();if(ce(on,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O?.error;if(L&&L.status&&L.message){const z=(function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(L.status);p(new ue(z,L.message))}else p(new ue(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(on,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ce(on,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=pg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=l.join("");ce(on,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let E=!1,b=!1;const O=new VP({Ho:L=>{b?ce(on,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(E||(ce(on,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),ce(on,`RPC '${e}' stream ${a} sending:`,L),v.send(L))},Jo:()=>v.close()});return yu(v,Eu.EventType.OPEN,(()=>{b||(ce(on,`RPC '${e}' stream ${a} transport opened.`),O.i_())})),yu(v,Eu.EventType.CLOSE,(()=>{b||(b=!0,ce(on,`RPC '${e}' stream ${a} transport closed`),O.o_(),this.E_(v))})),yu(v,Eu.EventType.ERROR,(L=>{b||(b=!0,Xo(on,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),O.o_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),yu(v,Eu.EventType.MESSAGE,(L=>{if(!b){const z=L.data[0];Xe(!!z,16349);const V=z,Q=V?.error||V[0]?.error;if(Q){ce(on,`RPC '${e}' stream ${a} received error:`,Q);const W=Q.status;let J=(function(ge){const R=kt[ge];if(R!==void 0)return j1(R)})(W),le=Q.message;J===void 0&&(J=ne.INTERNAL,le="Unknown error status: "+W+" with message "+Q.message),b=!0,O.o_(new ue(J,le)),v.close()}else ce(on,`RPC '${e}' stream ${a} received:`,z),O.__(z)}})),jo.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return a1()}}function LP(n){return new jo(n)}function Np(){return typeof document<"u"?document:null}function Jf(n){return new j3(n,!0)}jo.c_=!1;class nw{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const HE="PersistentStream";class iw{constructor(e,t,r,a,l,c,d,p){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ue(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UP extends iw{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=q3(this.serializer,e),r=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Qi(c.readTime):we.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=dg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=og(p)?{documents:X3(l,p)}:{query:K3(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=q1(l,c.resumeToken);const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=$3(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=dg(this.serializer),t.removeTarget=e,this.K_(t)}}class zP extends iw{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Y3(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>G3(this.serializer,r)))};this.K_(t)}}class BP{}class jP extends BP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,hg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ne.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,hg(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FP(n,e,t,r){return new jP(n,e,t,r)}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class qP{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ha(this)&&(ce(Pa,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await ic(g),g.Va.set("Unknown"),g.Ea.delete(4),await ed(g)})(this))}))})),this.Va=new HP(r,a)}}async function ed(n){if(Ha(n))for(const e of n.Ra)await e(!0)}async function ic(n){for(const e of n.Ra)await e(!1)}function rw(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),py(t)?my(t):al(t).O_()&&dy(t,e))}function fy(n,e){const t=Ce(n),r=al(t);t.Ia.delete(e),r.O_()&&sw(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ha(t)&&t.Va.set("Unknown"))}function dy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(n).Z_(e)}function sw(n,e){n.da.$e(e),al(n).X_(e)}function my(n){n.da=new L3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Va.ua()}function py(n){return Ha(n)&&!al(n).x_()&&n.Ia.size>0}function Ha(n){return Ce(n).Ea.size===0}function aw(n){n.da=void 0}async function GP(n){n.Va.set("Online")}async function YP(n){n.Ia.forEach(((e,t)=>{dy(n,e)}))}async function XP(n,e){aw(n),py(n)?(n.Va.ha(e),my(n)):n.Va.set("Unknown")}async function KP(n,e,t){if(n.Va.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(n,e)}catch(r){ce(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(n,r)}else if(e instanceof af?n.da.Xe(e):e instanceof F1?n.da.st(e):n.da.tt(e),!t.isEqual(we.min()))try{const r=await tw(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),sw(l,p);const E=new _s(v.target,p,g,v.sequenceNumber);dy(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ce(Pa,"Failed to raise snapshot:",r),await Rf(n,r)}}async function Rf(n,e,t){if(!rl(e))throw e;n.Ea.add(1),await ic(n),n.Va.set("Offline"),t||(t=()=>tw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Pa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ed(n)}))}function ow(n,e){return e().catch((t=>Rf(n,t,e)))}async function td(n){const e=Ce(n),t=Ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zg;for(;QP(e);)try{const a=await DP(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,$P(e,a)}catch(a){await Rf(e,a)}lw(e)&&uw(e)}function QP(n){return Ha(n)&&n.Ta.length<10}function $P(n,e){n.Ta.push(e);const t=Ls(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function lw(n){return Ha(n)&&!Ls(n).x_()&&n.Ta.length>0}function uw(n){Ls(n).start()}async function WP(n){Ls(n).ra()}async function ZP(n){const e=Ls(n);for(const t of n.Ta)e.ea(t.mutations)}async function JP(n,e,t){const r=n.Ta.shift(),a=sy.from(r,e,t);await ow(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await td(n)}async function ex(n,e){e&&Ls(n).Y_&&await(async function(r,a){if((function(c){return M3(c)&&c!==ne.ABORTED})(a.code)){const l=r.Ta.shift();Ls(r).B_(),await ow(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await td(r)}})(n,e),lw(n)&&uw(n)}async function qE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Pa,"RemoteStore received new credentials");const r=Ha(t);t.Ea.add(3),await ic(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ed(t)}async function tx(n,e){const t=Ce(n);e?(t.Ea.delete(2),await ed(t)):e||(t.Ea.add(2),await ic(t),t.Va.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(t,r,a){const l=Ce(t);return l.sa(),new UP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:GP.bind(null,n),Yo:YP.bind(null,n),t_:XP.bind(null,n),J_:KP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),py(n)?my(n):n.Va.set("Unknown")):(await n.ma.stop(),aw(n))}))),n.ma}function Ls(n){return n.fa||(n.fa=(function(t,r,a){const l=Ce(t);return l.sa(),new zP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WP.bind(null,n),t_:ex.bind(null,n),ta:ZP.bind(null,n),na:JP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await td(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Pa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class gy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new gy(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(n,e){if(Or("AsyncQueue",`${e}: ${n}`),rl(n))return new ue(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Su(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class GE{constructor(){this.ga=new dt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Zo{constructor(e,t,r,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Zo(e,t,Fo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class nx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ix{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ce(t),l=a.queries;a.queries=YE(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(r)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function YE(){return new ja((n=>D1(n)),Kf)}async function rx(n,e){const t=Ce(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new nx,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=yy(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&vy(t)}async function sx(n,e){const t=Ce(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ax(n,e){const t=Ce(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(r=!0);c.wa=a}}r&&vy(t)}function ox(n,e,t){const r=Ce(n),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function vy(n){n.Ca.forEach((e=>{e.next()}))}var gg,XE;(XE=gg||(gg={})).Ma="default",XE.Cache="cache";class lx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}class cw{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class ux{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=O1(e),this.tu=new Fo(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new GE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const b=a.get(v),O=Qf(this.query,E)?E:null,L=!!b&&this.mutatedKeys.has(b.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;b&&O?b.data.isEqual(O.data)?L!==z&&(r.track({type:3,doc:O}),V=!0):this.su(b,O)||(r.track({type:2,doc:O}),V=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(d=!0)):!b&&O?(r.track({type:0,doc:O}),V=!0):b&&!O&&(r.track({type:1,doc:b}),V=!0,(p||g)&&(d=!0)),V&&(O?(c=c.add(O),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(O,L){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:V})}};return z(O)-z(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Zo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new hw(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new cw(r))})),t}cu(e){this.Za=e.ks,this.Ya=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _y="SyncEngine";class cx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hx{constructor(e){this.key=e,this.hu=!1}}class fx{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ja((d=>D1(d)),Kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(ve.comparator),this.Au=new Map,this.Vu=new ly,this.du={},this.mu=new Map,this.fu=Wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dx(n,e,t=!0){const r=yw(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await fw(r,e,t,!0),a}async function mx(n,e){const t=yw(n);await fw(t,e,!0,!1)}async function fw(n,e,t,r){const a=await OP(n.localStore,Xi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await px(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&rw(n.remoteStore,a),d}async function px(n,e,t,r,a){n.pu=(E,b,O)=>(async function(z,V,Q,W){let J=V.view.ru(Q);J.Ss&&(J=await zE(z.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,J))));const le=W&&W.targetChanges.get(V.targetId),me=W&&W.targetMismatches.get(V.targetId)!=null,ge=V.view.applyChanges(J,z.isPrimaryClient,le,me);return QE(z,V.targetId,ge.au),ge.snapshot})(n,E,b,O);const l=await zE(n.localStore,e,!0),c=new ux(e,l.ks),d=c.ru(l.documents),p=nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);QE(n,t,g.au);const v=new cx(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function gx(n,e,t){const r=Ce(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Kf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await mg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&fy(r.remoteStore,a.targetId),yg(r,a.targetId)})).catch(il)):(yg(r,a.targetId),await mg(r.localStore,a.targetId,!0))}async function yx(n,e){const t=Ce(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fy(t.remoteStore,r.targetId))}async function vx(n,e,t){const r=Ax(n);try{const a=await(function(c,d){const p=Ce(c),g=lt.now(),v=d.reduce(((O,L)=>O.add(L.key)),Ue());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let L=Nr(),z=Ue();return p.xs.getEntries(O,v).next((V=>{L=V,L.forEach(((Q,W)=>{W.isValidDocument()||(z=z.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,L))).next((V=>{E=V;const Q=[];for(const W of d){const J=D3(W,E.get(W.key).overlayedDocument);J!=null&&Q.push(new Fa(W.key,J,T1(J.value.mapValue),Ki.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Q,d)})).next((V=>{b=V;const Q=V.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(O,V.batchId,Q)}))})).then((()=>({batchId:b.batchId,changes:P1(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new dt(Le)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(r,a.batchId,t),await rc(r,a.changes),await td(r.remoteStore)}catch(a){const l=yy(a,"Failed to persist write");t.reject(l)}}async function dw(n,e){const t=Ce(n);try{const r=await RP(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xe(c.hu,14607):a.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await rc(t,r,e)}catch(r){await il(r)}}function KE(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Ce(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const b of E.ba)b.va(d)&&(g=!0)})),g&&vy(p)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _x(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new dt(ve.comparator);c=c.insert(l,un.newNoDocument(l,we.min()));const d=Ue().add(l),p=new Zf(we.min(),new Map,new dt(Le),c,d);await dw(r,p),r.Ru=r.Ru.remove(l),r.Au.delete(e),Ty(r)}else await mg(r.localStore,e,!1).then((()=>yg(r,e,t))).catch(il)}async function Tx(n,e){const t=Ce(n),r=e.batch.batchId;try{const a=await CP(t.localStore,e);pw(t,r,null),mw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rc(t,a)}catch(a){await il(a)}}async function Ex(n,e,t){const r=Ce(n);try{const a=await(function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Xe(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);pw(r,e,t),mw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rc(r,a)}catch(a){await il(a)}}function mw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function pw(n,e,t){const r=Ce(n);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function yg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||gw(n,r)}))}function gw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(fy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Ty(n))}function QE(n,e,t){for(const r of t)r instanceof cw?(n.Vu.addReference(r.key,e),Sx(n,r)):r instanceof hw?(ce(_y,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||gw(n,r.key)):Ee(19791,{wu:r})}function Sx(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ce(_y,"New document in limbo: "+t),n.Eu.add(r),Ty(n))}function Ty(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(st.fromString(e)),r=n.fu.next();n.Au.set(r,new hx(t)),n.Ru=n.Ru.insert(t,r),rw(n.remoteStore,new _s(Xi(R1(t.path)),r,"TargetPurposeLimboResolution",Gf.ce))}}async function rc(n,e,t){const r=Ce(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=cy.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(g,(b=>ie.forEach(b.Ts,(O=>v.persistence.referenceDelegate.addReference(E,b.targetId,O))).next((()=>ie.forEach(b.Is,(O=>v.persistence.referenceDelegate.removeReference(E,b.targetId,O)))))))))}catch(E){if(!rl(E))throw E;ce(hy,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const O=v.vs.get(b),L=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(L);v.vs=v.vs.insert(b,z)}}})(r.localStore,l))}async function bx(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(_y,"User change. New user:",e.toKey());const r=await ew(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ue(ne.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rc(t,r.Ns)}}function wx(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let a=Ue();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function yw(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.Pu.J_=ax.bind(null,e.eventManager),e.Pu.yu=ox.bind(null,e.eventManager),e}function Ax(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ex.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return AP(this.persistence,new SP,e.initialUser,this.serializer)}Cu(e){return new J1(uy.Vi,this.serializer)}Du(e){return new PP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class Cx extends If{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new J1((r=>Cf.Vi(r,t)),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ix})()}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),r=LP(e.databaseInfo);return FP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new qP(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>KE(this.syncEngine,t,0)),(function(){return FE.v()?new FE:new xP})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const E=new fx(a,l,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ce(t);ce(Pa,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vg.provider={build:()=>new vg};class Rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Us="FirestoreClient";class Ix{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ce(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ce(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ew(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function $E(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Dx(n);ce(Us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>qE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>qE(e.remoteStore,a))),n._onlineComponents=e}async function Dx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Us,"Using user provided OfflineComponentProvider");try{await Pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Pp(n,new If)}}else ce(Us,"Using default OfflineComponentProvider"),await Pp(n,new Cx(void 0));return n._offlineComponents}async function vw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Us,"Using user provided OnlineComponentProvider"),await $E(n,n._uninitializedComponentsProvider._online)):(ce(Us,"Using default OnlineComponentProvider"),await $E(n,new vg))),n._onlineComponents}function Ox(n){return vw(n).then((e=>e.syncEngine))}async function Nx(n){const e=await vw(n),t=e.eventManager;return t.onListen=dx.bind(null,e.syncEngine),t.onUnlisten=gx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yx.bind(null,e.syncEngine),t}function Px(n,e,t={}){const r=new Is;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new Rx({next:b=>{v.Nu(),c.enqueueAndForget((()=>sx(l,E))),b.fromCache&&p.source==="server"?g.reject(new ue(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new lx(d,v,{includeMetadataChanges:!0,Ka:!0});return rx(l,E)})(await Nx(n),n.asyncQueue,e,t,r))),r.promise}function xx(n,e){const t=new Is;return n.asyncQueue.enqueueAndForget((async()=>vx(await Ox(n),e,t))),t.promise}function _w(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Mx="ComponentProvider",WE=new Map;function kx(n,e,t,r,a){return new WN(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_w(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const Tw="firestore.googleapis.com",ZE=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sP)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ON;switch(r.type){case"firstParty":return new MN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=WE.get(t);r&&(ce(Mx,"Removing Datastore"),WE.delete(t),r.terminate())})(this),Promise.resolve()}}function Vx(n,e,t,r={}){n=ku(n,nd);const a=Bs(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(kg(`https://${d}`),Vg("Firestore",!0)),l.host!==Tw&&l.host!==d&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:r};if(!Ia(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=ln.MOCK_USER;else{g=_b(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(E)}n._authCredentials=new NN(new l1(g,v))}}class qa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class Xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ec(t,Xt._jsonSchema))return new Xt(e,r||null,new ve(st.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Ut("string",Xt._jsonSchemaVersion),referencePath:Ut("string")};class Ds extends qa{constructor(e,t,r){super(e,t,R1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ve(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Ew(n,e,...t){if(n=Qt(n),u1("collection","path",e),n instanceof nd){const r=st.fromString(e,...t);return fE(r),new Ds(n,null,r)}{if(!(n instanceof Xt||n instanceof Ds))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return fE(r),new Ds(n.firestore,null,r)}}function Sw(n,e,...t){if(n=Qt(n),arguments.length===1&&(e=Wg.newId()),u1("doc","path",e),n instanceof nd){const r=st.fromString(e,...t);return hE(r),new Xt(n,null,new ve(r))}{if(!(n instanceof Xt||n instanceof Ds))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return hE(r),new Xt(n.firestore,n instanceof Ds?n.converter:null,new ve(r))}}const eS="AsyncQueue";class tS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nw(this,"async_queue_retry"),this._c=()=>{const r=Np();r&&ce(eS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!rl(e))throw e;ce(eS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",nS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=gy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:nS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class id extends nd{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new tS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tS(e),this._firestoreClient=void 0,await e}}}function Lx(n,e){const t=typeof n=="object"?n:zg(),r=typeof n=="string"?n:Tf,a=Bf(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=gb("firestore");l&&Vx(a,...l)}return a}function bw(n){if(n._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ux(n),n._firestoreClient}function Ux(n){const e=n._freezeSettings(),t=kx(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Ix(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(sn.fromBase64String(e))}catch(t){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ut("string",$n._jsonSchemaVersion),bytes:Ut("string")};class ww{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Aw{constructor(e){this._methodName=e}}class $i{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(ec(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Ut("string",$i._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class gi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new gi(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Ut("string",gi._jsonSchemaVersion),vectorValues:Ut("object")};const zx=/^__.*__$/;class Bx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}function Cw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:n})}}class Ey{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ey({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Cw(this.dataSource)&&zx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class jx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jf(e)}createContext(e,t,r,a=!1){return new Ey({dataSource:e,methodName:t,targetDoc:r,path:rn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(n){const e=n._freezeSettings(),t=Jf(n._databaseId);return new jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fx(n,e,t,r,a,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);Ow("Data must be an object, but it was:",c,r);const d=Iw(r,c);let p,g;if(l.merge)p=new di(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const b=rd(e,E,t);if(!c.contains(b))throw new ue(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Yx(v,b)||v.push(b)}p=new di(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new Bx(new Qn(d),p,g)}function Hx(n,e,t,r=!1){return Sy(t,n.createContext(r?4:3,e))}function Sy(n,e){if(Dw(n=Qt(n)))return Ow("Unsupported field value:",e,n),Iw(n,e);if(n instanceof Aw)return(function(r,a){if(!Cw(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let p=Sy(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:Af(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(a.serializer,l)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:q1(a.serializer,r._byteString)};if(r instanceof Xt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:oy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof gi)return(function(c,d){const p=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[v1]:{stringValue:_1},[Ef]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return iy(d.serializer,v)}))}}}}}})(r,a);if(W1(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${qf(r)}`)})(n,e)}function Iw(n,e){const t={};return f1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,((r,a)=>{const l=Sy(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function Dw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof $i||n instanceof $n||n instanceof Xt||n instanceof Aw||n instanceof gi||W1(n))}function Ow(n,e,t){if(!Dw(t)||!c1(t)){const r=qf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function rd(n,e,t){if((e=Qt(e))instanceof ww)return e._internalPath;if(typeof e=="string")return Gx(n,e);throw Df("Field path arguments must be of type string or ",n,!1,void 0,t)}const qx=new RegExp("[~\\*/\\[\\]]");function Gx(n,e,t){if(e.search(qx)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ww(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Df(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new ue(ne.INVALID_ARGUMENT,d+n+p)}function Yx(n,e){return n.some((t=>t.isEqual(e)))}class Xx{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ba(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Ef].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new gi(t)}convertGeoPoint(e){return new $i(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Xe($1(r),9688,{name:e});const a=new Uu(r.get(1),r.get(3)),l=new ve(r.popFirst(5));return a.isEqual(t)||Or(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Kx extends Xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}const iS="@firebase/firestore",rS="4.10.0";class Nw{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(rd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Qx extends Nw{data(){return super.data()}}function $x(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class Pw extends by{}function Wx(n,e,...t){let r=[];e instanceof by&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((p=>p instanceof Ay)).length,d=l.filter((p=>p instanceof wy)).length;if(c>1||c>0&&d>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class wy extends Pw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wy(e,t,r)}_apply(e){const t=this._parse(e);return xw(e._query,t),new qa(e.firestore,e.converter,lg(e._query,t))}_parse(e){const t=Rw(e.firestore);return(function(l,c,d,p,g,v,E){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){aS(E,v);const L=[];for(const z of E)L.push(sS(p,l,z));b={arrayValue:{values:L}}}else b=sS(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||aS(E,v),b=Hx(d,c,E,v==="in"||v==="not-in");return Lt.create(g,v,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ay extends by{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ay(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)xw(c,p),c=lg(c,p)})(e._query,t),new qa(e.firestore,e.converter,lg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends Pw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(l,c)})(e._query,this._field,this._direction);return new qa(e.firestore,e.converter,p3(e._query,t))}}function Zx(n,e="asc"){const t=e,r=rd("orderBy",n);return Cy._create(r,t)}function sS(n,e,t){if(typeof(t=Qt(t))=="string"){if(t==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(e)&&t.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!ve.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TE(n,new ve(r))}if(t instanceof Xt)return TE(n,t._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function aS(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xw(n,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Jx(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ho extends Nw{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ho._jsonSchema={type:Ut("string",Ho._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class of extends Ho{data(e={}){return super.data(e)}}class qo{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new of(this._firestore,this._userDataWriter,r.key,r,new Hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new of(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new of(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:eM(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Ut("string",qo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function tM(n){n=ku(n,qa);const e=ku(n.firestore,id),t=bw(e),r=new Kx(e);return $x(n._query),Px(t,n._query).then((a=>new qo(e,r,n,a)))}function nM(n){return Mw(ku(n.firestore,id),[new ry(n._key,Ki.none())])}function iM(n,e){const t=ku(n.firestore,id),r=Sw(n),a=Jx(n.converter,e),l=Rw(n.firestore);return Mw(t,[Fx(l,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ki.exists(!1))]).then((()=>r))}function Mw(n,e){const t=bw(n);return xx(t,e)}(function(e,t=!0){DN(za),Da(new Ps("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new id(new PN(r.getProvider("auth-internal")),new kN(c,r.getProvider("app-check-internal")),ZN(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Gi(iS,rS,e),Gi(iS,rS,"esm2020")})();const kw="firebasestorage.googleapis.com",Vw="storageBucket",rM=120*1e3,sM=600*1e3;class _t extends er{constructor(e,t,r=0){super(xp(e),`Firebase Storage: ${t} (${xp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function xp(n){return"storage/"+n}function Ry(){const n="An unknown error occurred, please check the error payload for server response.";return new _t(vt.UNKNOWN,n)}function aM(n){return new _t(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function oM(n){return new _t(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(vt.UNAUTHENTICATED,n)}function uM(){return new _t(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cM(n){return new _t(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function hM(){return new _t(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fM(){return new _t(vt.CANCELED,"User canceled the upload/download.")}function dM(n){return new _t(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function mM(n){return new _t(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function pM(){return new _t(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vw+"' property when initializing the app?")}function gM(){return new _t(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yM(){return new _t(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vM(n){return new _t(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _g(n){return new _t(vt.INVALID_ARGUMENT,n)}function Lw(){return new _t(vt.APP_DELETED,"The Firebase app was deleted.")}function _M(n){return new _t(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ou(n,e){return new _t(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vu(n){throw new _t(vt.INTERNAL_ERROR,"Internal error: "+n)}class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(r.path==="")return r;throw mM(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",O=new RegExp(`^https?://${E}/${v}/b/${a}/o${b}`,"i"),L={bucket:1,path:3},z=t===kw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",Q=new RegExp(`^https?://${z}/${a}/${V}`,"i"),J=[{regex:d,indices:p,postModify:l},{regex:O,indices:L,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<J.length;le++){const me=J[le],ge=me.regex.exec(e);if(ge){const R=ge[me.indices.bucket];let A=ge[me.indices.path];A||(A=""),r=new Mn(R,A),me.postModify(r);break}}if(r==null)throw dM(e);return r}}class TM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EM(n,e,t){let r=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function v(...V){g||(g=!0,e.apply(null,V))}function E(V){a=setTimeout(()=>{a=null,n(O,p())},V)}function b(){l&&clearTimeout(l)}function O(V,...Q){if(g){b();return}if(V){b(),v.call(null,V,...Q);return}if(p()||c){b(),v.call(null,V,...Q);return}r<64&&(r*=2);let J;d===1?(d=2,J=0):J=(r+Math.random())*1e3,E(J)}let L=!1;function z(V){L||(L=!0,b(),!g&&(a!==null?(V||(d=2),clearTimeout(a),E(0)):V||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,z(!0)},t),z}function SM(n){n(!1)}function bM(n){return n!==void 0}function wM(n){return typeof n=="object"&&!Array.isArray(n)}function Iy(n){return typeof n=="string"||n instanceof String}function oS(n){return Dy()&&n instanceof Blob}function Dy(){return typeof Blob<"u"}function lS(n,e,t,r){if(r<e)throw _g(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _g(`Invalid value for '${n}'. Expected ${t} or less.`)}function sd(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Uw(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ca;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ca||(Ca={}));function AM(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class CM{constructor(e,t,r,a,l,c,d,p,g,v,E,b=!0,O=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,z)=>{this.resolve_=L,this.reject_=z,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new qh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ca.NO_ERROR,p=l.getStatus();if(!d||AM(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ca.ABORT;r(!1,new qh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new qh(g,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());bM(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Ry();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Lw():fM();c(p)}else{const p=hM();c(p)}};this.canceled_?t(!1,new qh(!1,null,!0)):this.backoffId_=EM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function RM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function IM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function OM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function NM(n,e,t,r,a,l,c=!0,d=!1){const p=Uw(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return DM(v,e),RM(v,t),IM(v,l),OM(v,r),new CM(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}function PM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xM(...n){const e=PM();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Dy())return new Blob(n);throw new _t(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MM(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function kM(n){if(typeof atob>"u")throw vM("base-64");return atob(n)}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mp{constructor(e,t){this.data=e,this.contentType=t||null}}function VM(n,e){switch(n){case qi.RAW:return new Mp(zw(e));case qi.BASE64:case qi.BASE64URL:return new Mp(Bw(n,e));case qi.DATA_URL:return new Mp(UM(e),zM(e))}throw Ry()}function zw(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LM(n){let e;try{e=decodeURIComponent(n)}catch{throw Ou(qi.DATA_URL,"Malformed data URL.")}return zw(e)}function Bw(n,e){switch(n){case qi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ou(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=kM(e)}catch(a){throw a.message.includes("polyfill")?a:Ou(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class jw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ou(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=BM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UM(n){const e=new jw(n);return e.base64?Bw(qi.BASE64,e.rest):LM(e.rest)}function zM(n){return new jw(n).contentType}function BM(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class vs{constructor(e,t){let r=0,a="";oS(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(oS(this.data_)){const r=this.data_,a=MM(r,e,t);return a===null?null:new vs(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new vs(r,!0)}}static getBlob(...e){if(Dy()){const t=e.map(r=>r instanceof vs?r.data_:r);return new vs(xM.apply(null,t))}else{const t=e.map(c=>Iy(c)?VM(qi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new vs(a,!0)}}uploadData(){return this.data_}}function Fw(n){let e;try{e=JSON.parse(n)}catch{return null}return wM(e)?e:null}function jM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function FM(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Hw(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function HM(n,e){return e}class mn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||HM}}let Gh=null;function qM(n){return!Iy(n)||n.length<2?n:Hw(n)}function qw(){if(Gh)return Gh;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(l,c){return qM(c)}const t=new mn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new mn("size");return a.xform=r,n.push(a),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),Gh=n,Gh}function GM(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new Mn(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function YM(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return GM(r,n),r}function Gw(n,e,t){const r=Fw(e);return r===null?null:YM(n,r,t)}function XM(n,e,t,r){const a=Fw(e);if(a===null||!Iy(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,E=n.fullPath,b="/b/"+c(v)+"/o/"+c(E),O=sd(b,t,r),L=Uw({alt:"media",token:g});return O+L})[0]}function KM(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Oy{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yw(n){if(!n)throw Ry()}function QM(n,e){function t(r,a){const l=Gw(n,a,e);return Yw(l!==null),l}return t}function $M(n,e){function t(r,a){const l=Gw(n,a,e);return Yw(l!==null),XM(l,a,n.host,n._protocol)}return t}function Xw(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=uM():a=lM():t.getStatus()===402?a=oM(n.bucket):t.getStatus()===403?a=cM(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function Kw(n){const e=Xw(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=aM(n.path)),l.serverResponse=a.serverResponse,l}return t}function WM(n,e,t){const r=e.fullServerUrl(),a=sd(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Oy(a,l,$M(n,t),c);return d.errorHandler=Kw(e),d}function ZM(n,e){const t=e.fullServerUrl(),r=sd(t,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function c(p,g){}const d=new Oy(r,a,c,l);return d.successCodes=[200,204],d.errorHandler=Kw(e),d}function JM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function ek(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=JM(null,e)),r}function tk(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let J="";for(let le=0;le<2;le++)J=J+Math.random().toString().slice(2);return J}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=ek(e,r,a),v=KM(g,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",O=vs.getBlob(E,r,b);if(O===null)throw gM();const L={name:g.fullPath},z=sd(l,n.host,n._protocol),V="POST",Q=n.maxUploadRetryTime,W=new Oy(z,V,QM(n,t),Q);return W.urlParams=L,W.headers=c,W.body=O.uploadData(),W.errorHandler=Xw(e),W}class nk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw vu("cannot .send() more than once");if(Bs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ik extends nk{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new ik}class xa{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xa(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hw(this._location.path)}get storage(){return this._service}get parent(){const e=jM(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new xa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw _M(e)}}function rk(n,e,t){n._throwIfRoot("uploadBytes");const r=tk(n.storage,n._location,qw(),new vs(e,!0),t);return n.storage.makeRequestWithTokens(r,Ny).then(a=>({metadata:a,ref:n}))}function sk(n){n._throwIfRoot("getDownloadURL");const e=WM(n.storage,n._location,qw());return n.storage.makeRequestWithTokens(e,Ny).then(t=>{if(t===null)throw yM();return t})}function ak(n){n._throwIfRoot("deleteObject");const e=ZM(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ny)}function ok(n,e){const t=FM(n._location.path,e),r=new Mn(n._location.bucket,t);return new xa(n.storage,r)}function lk(n){return/^[A-Za-z]+:\/\//.test(n)}function uk(n,e){return new xa(n,e)}function Qw(n,e){if(n instanceof Py){const t=n;if(t._bucket==null)throw pM();const r=new xa(t,t._bucket);return e!=null?Qw(r,e):r}else return e!==void 0?ok(n,e):n}function ck(n,e){if(e&&lk(e)){if(n instanceof Py)return uk(n,e);throw _g("To use ref(service, url), the first argument must be a Storage instance.")}else return Qw(n,e)}function uS(n,e){const t=e?.[Vw];return t==null?null:Mn.makeFromBucketSpec(t,n)}function hk(n,e,t,r={}){n.host=`${e}:${t}`;const a=Bs(e);a&&(kg(`https://${n.host}/b`),Vg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:_b(l,n.app.options.projectId))}class Py{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=kw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rM,this._maxUploadRetryTime=sM,this._requests=new Set,a!=null?this._bucket=Mn.makeFromBucketSpec(a,this._host):this._bucket=uS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=uS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xa(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new TM(Lw());{const c=NM(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const cS="@firebase/storage",hS="0.14.0";const $w="storage";function fk(n,e,t){return n=Qt(n),rk(n,e,t)}function dk(n){return n=Qt(n),sk(n)}function mk(n){return n=Qt(n),ak(n)}function Ww(n,e){return n=Qt(n),ck(n,e)}function pk(n=zg(),e){n=Qt(n);const r=Bf(n,$w).getImmediate({identifier:e}),a=gb("storage");return a&&gk(r,...a),r}function gk(n,e,t,r={}){hk(n,e,t,r)}function yk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Py(t,r,a,e,za)}function vk(){Da(new Ps($w,yk,"PUBLIC").setMultipleInstances(!0)),Gi(cS,hS,""),Gi(cS,hS,"esm2020")}vk();const _k={apiKey:"AIzaSyC5ryMxdEPpQdVxTzF_l36mNxqwXcyn4M4",authDomain:"happy-archive-8de0f.firebaseapp.com",projectId:"happy-archive-8de0f",storageBucket:"happy-archive-8de0f.firebasestorage.app",messagingSenderId:"383075227177",appId:"1:383075227177:web:53f465cce7e3ae0b866e38",measurementId:"G-WNEVB27KZ1"},xy=Sb(_k),Zw=RN(xy),My=Lx(xy),Jw=pk(xy),ky="photos",fS=async n=>{try{await nM(Sw(My,ky,n))}catch(e){throw console.error("Error removing document: ",e),e}},Tk=async n=>{try{return(await iM(Ew(My,ky),{...n,createdAt:new Date})).id}catch(e){throw console.error("Error adding document: ",e),e}},Ek=async()=>{const n=Wx(Ew(My,ky),Zx("createdAt","desc"));return(await tM(n)).docs.map(t=>({id:t.id,...t.data()}))},dS=async n=>{try{const e=Ww(Jw,n);await mk(e)}catch(e){throw console.error("Error deleting file from storage:",e),e}},Sk=async n=>{console.log("Starting upload for:",n.name);try{const e=Ww(Jw,`images/${Date.now()}_${n.name}`);console.log("Created file ref:",e.fullPath),console.log("Calling uploadBytes...");const t=await fk(e,n);console.log("UploadBytes finished. Snapshot:",t),console.log("Getting download URL...");const r=await dk(e);return console.log("Got URL:",r),{url:r,path:e.fullPath}}catch(e){throw console.error("Error in uploadImage:",e),e}},bk=new br,wk=async()=>{try{return(await V4(Zw,bk)).user}catch(n){throw console.error("Login failed",n),n}},eA=n=>g4(Zw,n),Ak=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState("captured"),[c,d]=G.useState("compact"),[p,g]=G.useState(null),[v,E]=G.useState(!1),[b,O]=G.useState(null),[L,z]=G.useState(!1),[V,Q]=G.useState(new Set),[W,J]=G.useState({isOpen:!1,message:"",onConfirm:null}),[le,me]=G.useState(null),[ge,R]=G.useState(null),[A,I]=G.useState(!1);G.useEffect(()=>{const C=eA(B=>O(B));return()=>C()},[]),G.useEffect(()=>{(async()=>{try{const B=await Ek();e(B)}catch(B){console.error("Failed to load photos",B)}finally{r(!1)}})()},[]),G.useEffect(()=>{if(n.length===0)return;if(!le){me(n[Math.floor(Math.random()*n.length)]);return}const C=setInterval(()=>{if(n.length>0&&!A){let B;do B=n[Math.floor(Math.random()*n.length)];while(B.id===le.id&&n.length>1);R(B),I(!0),setTimeout(()=>{me(B),R(null),I(!1)},1e3)}},5e3);return()=>clearInterval(C)},[n,le,A]);const P=(()=>{let C=[...n];a==="uploaded"?C.sort((re,oe)=>{const fe=_e=>_e.createdAt?.seconds||0;return fe(oe)-fe(re)}):C.sort((re,oe)=>{const fe=_e=>_e.capturedAt?.seconds||_e.createdAt?.seconds||0;return fe(oe)-fe(re)});const B={};return C.forEach(re=>{const oe=a==="uploaded"?re.createdAt?.seconds:re.capturedAt?.seconds||re.createdAt?.seconds,_e=(oe?new Date(oe*1e3):new Date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});B[_e]||(B[_e]=[]),B[_e].push(re)}),B})(),k=Object.keys(P),D=G.useCallback(()=>{if(!p)return;const C=Object.values(P).flat(),B=C.findIndex(re=>re.id===p.id);B<C.length-1&&g(C[B+1])},[p,P]),Fe=G.useCallback(()=>{if(!p)return;const C=Object.values(P).flat(),B=C.findIndex(re=>re.id===p.id);B>0&&g(C[B-1])},[p,P]);G.useEffect(()=>{const C=B=>{p&&(B.key==="ArrowRight"&&D(),B.key==="ArrowLeft"&&Fe(),B.key==="Escape"&&g(null))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[p,D,Fe]);const it=async C=>{try{const re=await(await fetch(C.url)).blob(),oe=window.URL.createObjectURL(re),fe=document.createElement("a");fe.href=oe,fe.download=C.filename||`photo-${Date.now()}.jpg`,document.body.appendChild(fe),fe.click(),window.URL.revokeObjectURL(oe),document.body.removeChild(fe)}catch(B){console.error("Download failed",B),window.open(C.url,"_blank")}},$=async C=>{J({isOpen:!0,message:"   ?     .",onConfirm:async()=>{try{await fS(C.id),C.storagePath&&await dS(C.storagePath),e(B=>B.filter(re=>re.id!==C.id)),g(null),J({isOpen:!1,message:"",onConfirm:null})}catch(B){console.error("Delete failed",B),alert(" .  .")}}})},ae=C=>{Q(B=>{const re=new Set(B);return re.has(C)?re.delete(C):re.add(C),re})},pe=async()=>{V.size!==0&&J({isOpen:!0,message:` ${V.size}   ?     .`,onConfirm:async()=>{try{const C=n.filter(B=>V.has(B.id));for(const B of C)await fS(B.id),B.storagePath&&await dS(B.storagePath);e(B=>B.filter(re=>!V.has(re.id))),Q(new Set),z(!1),J({isOpen:!1,message:"",onConfirm:null})}catch(C){console.error("Batch delete failed",C),alert("   .  .")}}})},Oe=()=>{const C=new Set(n.map(B=>B.id));Q(C)},je=()=>{Q(new Set),z(!1)};return t?X.jsx("div",{className:"text-center py-20 text-gray-400 animate-pulse",children:"Loading memories..."}):X.jsxs("div",{className:"bg-neutral-900 min-h-screen",children:[le&&X.jsxs("div",{className:"relative h-[40vh] md:h-[60vh] overflow-hidden group",children:[X.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-neutral-900 z-30"}),X.jsx("div",{className:"absolute inset-0 z-10 flex w-full h-full",children:X.jsxs("div",{className:"flex w-full h-full transition-transform duration-1000 ease-in-out",style:{transform:A?"translateX(-100%)":"translateX(0)",width:"200%"},children:[X.jsx("div",{className:"w-1/2 h-full relative",children:X.jsx("img",{src:le.url,alt:"Featured",className:"w-full h-full object-cover",style:{filter:"brightness(0.7)"}})}),X.jsx("div",{className:"w-1/2 h-full relative",children:ge&&X.jsx("img",{src:ge.url,alt:"Next",className:"w-full h-full object-cover",style:{filter:"brightness(0.7)"}})})]})}),X.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-40 px-4 text-center",children:[X.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tighter text-white mb-4 drop-shadow-2xl",children:"Happy Archive"}),X.jsx("p",{className:"text-lg md:text-xl text-white/80 font-medium max-w-lg drop-shadow-lg",children:"Keep your precious memories safe and organized."})]})]}),X.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[X.jsx("div",{className:"flex justify-between items-center mb-8 px-2",children:L?X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("button",{onClick:je,className:"text-gray-300 hover:text-white transition",children:""}),X.jsxs("h2",{className:"text-lg font-semibold text-white",children:[V.size," Selected"]})]}),X.jsxs("div",{className:"flex gap-2",children:[V.size<n.length&&X.jsx("button",{onClick:Oe,className:"px-4 py-1.5 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm font-medium transition",children:"Select All"}),X.jsx("button",{onClick:pe,disabled:V.size===0,className:"px-4 py-1.5 bg-red-500 hover:bg-red-600 disabled:bg-red-500/30 disabled:cursor-not-allowed text-white rounded-lg text-sm font-semibold transition flex items-center gap-2",children:" Delete"})]})]}):X.jsxs(X.Fragment,{children:[X.jsxs("h2",{className:"text-lg font-semibold text-gray-300",children:[n.length," Photos"]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsxs("button",{onClick:()=>z(!0),className:"px-3 md:px-4 py-1.5 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm font-medium transition flex items-center gap-2",title:" ",children:[X.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),X.jsx("span",{className:"hidden sm:inline",children:"Select"})]}),X.jsxs("div",{className:"bg-white/10 rounded-lg p-1 flex space-x-1",children:[X.jsx("button",{onClick:()=>d("large"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${c==="large"?"bg-white text-black":"text-gray-300 hover:text-white"}`,title:" ",children:""}),X.jsx("button",{onClick:()=>d("compact"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${c==="compact"?"bg-white text-black":"text-gray-300 hover:text-white"}`,title:" ",children:""})]}),X.jsxs("div",{className:"bg-white/10 rounded-lg p-1 flex space-x-1",children:[X.jsxs("button",{onClick:()=>l("captured"),className:`px-3 md:px-4 py-1.5 rounded-md text-sm font-medium transition flex items-center gap-2 ${a==="captured"?"bg-white text-black":"text-gray-300 hover:text-white"}`,title:"",children:[X.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),X.jsx("span",{className:"hidden sm:inline",children:""})]}),X.jsxs("button",{onClick:()=>l("uploaded"),className:`px-3 md:px-4 py-1.5 rounded-md text-sm font-medium transition flex items-center gap-2 ${a==="uploaded"?"bg-white text-black":"text-gray-300 hover:text-white"}`,title:"",children:[X.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),X.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})]})}),X.jsx("div",{className:"space-y-12",children:k.map(C=>X.jsxs("div",{children:[X.jsx("h3",{className:"text-gray-400 text-sm font-medium uppercase tracking-wider mb-4 ml-1 sticky top-0 bg-[#111111]/90 backdrop-blur-sm py-2 z-10",children:C}),X.jsx("div",{className:`grid ${c==="compact"?"grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"}`,children:P[C].map(B=>{const re=V.has(B.id);return X.jsxs("div",{className:`aspect-square relative group overflow-hidden rounded-xl bg-gray-800 cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-300 ${L?"hover:scale-100":"hover:scale-[1.02]"} ${re?"ring-4 ring-blue-500":""}`,onClick:()=>L?ae(B.id):g(B),children:[X.jsx("img",{src:B.url,alt:"Gallery item",className:"object-cover w-full h-full",loading:"lazy"}),X.jsx("div",{className:`absolute inset-0 transition duration-300 ${re?"bg-blue-500/30":"bg-black/0 group-hover:bg-black/20"}`}),L&&X.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-white/90 flex items-center justify-center shadow-lg z-10",children:re&&X.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:X.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},B.id)})})]},C))}),n.length===0&&X.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-500",children:[X.jsx("div",{className:"text-4xl mb-4",children:""}),X.jsx("p",{children:'No photos yet. Click "Upload" to start.'})]}),p&&X.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/98 backdrop-blur-md",onClick:()=>g(null),children:[X.jsx("button",{className:"fixed left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white z-[70] hidden md:block transition",onClick:C=>{C.stopPropagation(),Fe()},children:""}),X.jsx("button",{className:"fixed right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white z-[70] hidden md:block transition",onClick:C=>{C.stopPropagation(),D()},children:""}),X.jsxs("div",{className:"flex flex-col md:flex-row w-full h-full max-w-screen-2xl mx-auto overflow-hidden shadow-2xl relative",onClick:C=>C.stopPropagation(),children:[X.jsxs("div",{className:"absolute top-4 right-4 z-[80] flex gap-2",children:[X.jsx("button",{onClick:()=>g(null),className:"p-2.5 rounded-full backdrop-blur-md bg-black/50 text-white/80 hover:bg-black/70 transition-all shadow-lg",title:"Close Photo",children:X.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),X.jsx("button",{onClick:()=>E(!v),className:`p-2.5 rounded-full backdrop-blur-md transition-all shadow-lg ${v?"bg-blue-600 text-white":"bg-black/50 text-white/80 hover:bg-black/70"}`,title:"Photo Info",children:X.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),X.jsx("div",{className:"flex-1 relative bg-black flex items-center justify-center overflow-hidden",children:X.jsx(FI,{initialScale:1,minScale:.5,maxScale:4,centerOnInit:!0,children:X.jsx(GI,{wrapperClass:"!w-full !h-full",contentClass:"!w-full !h-full flex items-center justify-center",children:X.jsx("img",{src:p.url,alt:"Full size",className:"max-h-full max-w-full object-contain"})})})}),X.jsx("div",{className:`
                            w-full md:w-80 bg-[#1a1a1a]/95 md:bg-[#1a1a1a] backdrop-blur-xl md:backdrop-blur-none
                            border-t md:border-t-0 md:border-l border-white/10 flex flex-col z-70 shadow-2xl
                            transition-all duration-300 ease-in-out
                            fixed inset-x-0 bottom-0 max-h-[70vh] md:relative md:max-h-full
                            ${v?"translate-y-0 md:translate-x-0":"translate-y-full md:hidden"}
                        `,children:X.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[X.jsxs("div",{className:"flex justify-between items-start mb-6",children:[X.jsx("div",{children:X.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-wider text-sm opacity-60",children:"Photo Info"})}),X.jsx("button",{className:"p-2 text-gray-400 hover:text-white bg-white/5 rounded-full transition",onClick:()=>E(!1),title:"Close Info",children:X.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),X.jsxs("dl",{className:"space-y-6",children:[X.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[X.jsx("dt",{className:"text-xs font-bold text-gray-500 uppercase",children:"Captured"}),X.jsx("dd",{className:"text-base text-gray-100",children:p.capturedAt?.seconds?new Date(p.capturedAt.seconds*1e3).toLocaleString(void 0,{dateStyle:"full",timeStyle:"short"}):"Unknown"})]}),p.model&&X.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[X.jsx("dt",{className:"text-xs font-bold text-gray-500 uppercase",children:"Camera"}),X.jsxs("dd",{className:"text-sm text-gray-200 flex items-center gap-2",children:[" ",p.make," ",p.model]}),p.iso&&X.jsxs("dd",{className:"text-xs text-gray-400 mt-1",children:["ISO ",p.iso,"  f/",p.fStop,"  ",p.shutterSpeed>=1?p.shutterSpeed:`1/${Math.round(1/p.shutterSpeed)}`,"s"]})]}),p.latitude&&X.jsxs("div",{className:"pt-2",children:[X.jsx("dt",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Location"}),X.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${p.latitude},${p.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"block rounded-xl overflow-hidden border border-white/10 hover:border-white/30 transition h-32 relative group",children:[X.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0,pointerEvents:"none"},src:`https://www.google.com/maps/embed/v1/place?key=${encodeURIComponent("")}&q=${p.latitude},${p.longitude}&zoom=14`,allowFullScreen:!0,tabIndex:"-1"}),X.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]})]}),p.createdAt&&X.jsxs("div",{className:"pt-4 border-t border-white/10",children:[X.jsx("dt",{className:"text-xs font-bold text-gray-500 uppercase",children:"Uploaded"}),X.jsx("dd",{className:"mt-1 text-sm text-gray-300",children:new Date(p.createdAt.seconds*1e3).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})})]}),X.jsxs("div",{className:"pt-4 flex gap-2",children:[X.jsxs("button",{onClick:()=>it(p),className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition text-sm font-semibold flex items-center justify-center gap-2",children:[X.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),b&&b.uid===p.uploaderUid&&X.jsx("button",{onClick:()=>$(p),className:"flex-1 py-2 px-4 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition text-sm font-semibold flex items-center justify-center gap-2",children:"Delete"})]}),X.jsxs("div",{className:"pt-2",children:[X.jsx("dt",{className:"text-xs font-bold text-gray-500 uppercase",children:"Details"}),X.jsxs("dd",{className:"text-xs text-gray-400 mt-1 break-all",children:[p.filename,X.jsx("br",{}),"By ",p.uploaderName]})]})]})]})})]})]}),W.isOpen&&X.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:X.jsxs("div",{className:"bg-[#1a1a1a] border border-white/20 rounded-2xl p-8 max-w-md mx-4 shadow-2xl",children:[X.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" "}),X.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:W.message}),X.jsxs("div",{className:"flex gap-3 justify-end",children:[X.jsx("button",{onClick:()=>J({isOpen:!1,message:"",onConfirm:null}),className:"px-6 py-2.5 bg-white/10 hover:bg-white/20 text-white rounded-lg font-medium transition",children:""}),X.jsx("button",{onClick:W.onConfirm,className:"px-6 py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition",children:""})]})]})})]})]})};var ad=typeof self<"u"?self:global;const Hu=typeof navigator<"u",Ck=Hu&&typeof HTMLImageElement>"u",Of=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),od=ad.Buffer,Yh=ad.BigInt,ld=!!od,Rk=n=>n;function Nf(n,e=Rk){if(Of)try{return typeof require=="function"?Promise.resolve(e(require(n))):import(n).then(e)}catch{console.warn(`Couldn't load ${n}`)}}let Vy=ad.fetch;const Ik=n=>Vy=n;if(!ad.fetch){const n=Nf("http",(r=>r)),e=Nf("https",(r=>r)),t=(r,{headers:a}={})=>new Promise((async(l,c)=>{let{port:d,hostname:p,pathname:g,protocol:v,search:E}=new URL(r);const b={method:"GET",hostname:p,path:encodeURI(g)+E,headers:a};d!==""&&(b.port=Number(d));const O=(v==="https:"?await e:await n).request(b,(L=>{if(L.statusCode===301||L.statusCode===302){let z=new URL(L.headers.location,r).toString();return t(z,{headers:a}).then(l).catch(c)}l({status:L.statusCode,arrayBuffer:()=>new Promise((z=>{let V=[];L.on("data",(Q=>V.push(Q))),L.on("end",(()=>z(Buffer.concat(V))))}))})}));O.on("error",c),O.end()}));Ik(t)}function Se(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Pf=n=>tA(n)?void 0:n,Dk=n=>n!==void 0;function tA(n){return n===void 0||(n instanceof Map?n.size===0:Object.values(n).filter(Dk).length===0)}function zt(n){let e=new Error(n);throw delete e.stack,e}function Ea(n){return(n=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(n).trim())===""?void 0:n}function Tg(n){let e=(function(t){let r=0;return t.ifd0.enabled&&(r+=1024),t.exif.enabled&&(r+=2048),t.makerNote&&(r+=2048),t.userComment&&(r+=1024),t.gps.enabled&&(r+=512),t.interop.enabled&&(r+=100),t.ifd1.enabled&&(r+=1024),r+2048})(n);return n.jfif.enabled&&(e+=50),n.xmp.enabled&&(e+=2e4),n.iptc.enabled&&(e+=14e3),n.icc.enabled&&(e+=6e3),e}const Eg=n=>String.fromCharCode.apply(null,n),mS=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function nA(n){return mS?mS.decode(n):ld?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(Eg(n)))}class wn{static from(e,t){return e instanceof this&&e.le===t?e:new wn(e,void 0,void 0,t)}constructor(e,t=0,r,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-t);let l=new DataView(e,t,r);this._swapDataView(l)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof wn){r===void 0&&(r=e.byteLength-t),(t+=e.byteOffset)+r>e.byteOffset+e.byteLength&&zt("Creating view outside of available memory in ArrayBuffer");let l=new DataView(e.buffer,t,r);this._swapDataView(l)}else if(typeof e=="number"){let l=new DataView(new ArrayBuffer(e));this._swapDataView(l)}else zt("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,r=wn){return e instanceof DataView||e instanceof wn?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||zt("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new r(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new wn(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return nA(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let r=this.getUint8Array(e,t);return Eg(r)}getUnicodeString(e=0,t=this.byteLength){const r=[];for(let a=0;a<t&&e+a<this.byteLength;a+=2)r.push(this.getUint16(e+a));return Eg(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Sg(n,e){zt(`${n} '${e}' was not loaded, try using full build of exifr.`)}class Ly extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Sg(this.kind,e),t&&(e in t||(function(r,a){zt(`Unknown ${r} '${a}'.`)})(this.kind,e),t[e].enabled||Sg(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Ji=new Ly("file parser"),Vt=new Ly("segment parser"),tr=new Ly("file reader");function Ok(n,e){return typeof n=="string"?pS(n,e):Hu&&!Ck&&n instanceof HTMLImageElement?pS(n.src,e):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new wn(n):Hu&&n instanceof Blob?bg(n,e,"blob",ka):void zt("Invalid input argument")}function pS(n,e){return(t=n).startsWith("data:")||t.length>1e4?wg(n,e,"base64"):Of&&n.includes("://")?bg(n,e,"url",Ma):Of?wg(n,e,"fs"):Hu?bg(n,e,"url",Ma):void zt("Invalid input argument");var t}async function bg(n,e,t,r){return tr.has(t)?wg(n,e,t):r?(async function(a,l){let c=await l(a);return new wn(c)})(n,r):void zt(`Parser ${t} is not loaded`)}async function wg(n,e,t){let r=new(tr.get(t))(n,e);return await r.read(),r}const Ma=n=>Vy(n).then((e=>e.arrayBuffer())),ka=n=>new Promise(((e,t)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=t,r.readAsArrayBuffer(n)}));class Nk extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function At(n,e,t){let r=new Nk;for(let[a,l]of t)r.set(a,l);if(Array.isArray(e))for(let a of e)n.set(a,r);else n.set(e,r);return r}function Va(n,e,t){let r,a=n.get(e);for(r of t)a.set(r[0],r[1])}const Kt=new Map,_i=new Map,Os=new Map,Ts=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ol=["jfif","xmp","icc","iptc","ihdr"],La=["tiff",...ol],yt=["ifd0","ifd1","exif","gps","interop"],Es=[...La,...yt],Ss=["makerNote","userComment"],ll=["translateKeys","translateValues","reviveValues","multiSegment"],bs=[...ll,"sanitize","mergeOutput","silentErrors"];class iA{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class _u extends iA{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,r,a){if(super(),Se(this,"enabled",!1),Se(this,"skip",new Set),Se(this,"pick",new Set),Se(this,"deps",new Set),Se(this,"translateKeys",!1),Se(this,"translateValues",!1),Se(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=yt.includes(e),this.canBeFiltered&&(this.dict=Kt.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:l,skip:c}=r;l&&l.length>0&&this.translateTagSet(l,this.pick),c&&c.length>0&&this.translateTagSet(c,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:zt(`Invalid options argument: ${r}`)}applyInheritables(e){let t,r;for(t of ll)r=e[t],r!==void 0&&(this[t]=r)}translateTagSet(e,t){if(this.dict){let r,a,{tagKeys:l,tagValues:c}=this.dict;for(r of e)typeof r=="string"?(a=c.indexOf(r),a===-1&&(a=l.indexOf(Number(r))),a!==-1&&t.add(Number(l[a]))):t.add(r)}else for(let r of e)t.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,xf(this.pick,this.deps)):this.enabled&&this.pick.size>0&&xf(this.pick,this.deps)}}var pn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},gS=new Map;class Ga extends iA{static useCached(e){let t=gS.get(e);return t!==void 0||(t=new this(e),gS.set(e,t)),t}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):zt(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Hu?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Ts)this[e]=pn[e];for(e of bs)this[e]=pn[e];for(e of Ss)this[e]=pn[e];for(e of Es)this[e]=new _u(e,pn[e],void 0,this)}setupFromTrue(){let e;for(e of Ts)this[e]=pn[e];for(e of bs)this[e]=pn[e];for(e of Ss)this[e]=!0;for(e of Es)this[e]=new _u(e,!0,void 0,this)}setupFromArray(e){let t;for(t of Ts)this[t]=pn[t];for(t of bs)this[t]=pn[t];for(t of Ss)this[t]=pn[t];for(t of Es)this[t]=new _u(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,yt)}setupFromObject(e){let t;for(t of(yt.ifd0=yt.ifd0||yt.image,yt.ifd1=yt.ifd1||yt.thumbnail,Object.assign(this,e),Ts))this[t]=kp(e[t],pn[t]);for(t of bs)this[t]=kp(e[t],pn[t]);for(t of Ss)this[t]=kp(e[t],pn[t]);for(t of La)this[t]=new _u(t,pn[t],e[t],this);for(t of yt)this[t]=new _u(t,pn[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,yt,Es),e.tiff===!0?this.batchEnableWithBool(yt,!0):e.tiff===!1?this.batchEnableWithUserValue(yt,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,yt):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,yt)}batchEnableWithBool(e,t){for(let r of e)this[r].enabled=t}batchEnableWithUserValue(e,t){for(let r of e){let a=t[r];this[r].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(e,t,r,a=r){if(e&&e.length){for(let c of a)this[c].enabled=!1;let l=yS(e,r);for(let[c,d]of l)xf(this[c].pick,d),this[c].enabled=!0}else if(t&&t.length){let l=yS(t,r);for(let[c,d]of l)xf(this[c].skip,d)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:r,iptc:a,icc:l}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),r.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),l.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:r,interop:a}=this;a.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=yt.some((l=>this[l].enabled===!0))||this.makerNote||this.userComment;for(let l of yt)this[l].finalizeFilters()}get onlyTiff(){return!ol.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of La)this[e].enabled&&!Vt.has(e)&&Sg("segment parser",e)}}function yS(n,e){let t,r,a,l,c=[];for(a of e){for(l of(t=Kt.get(a),r=[],t))(n.includes(l[0])||n.includes(l[1]))&&r.push(l[0]);r.length&&c.push([a,r])}return c}function kp(n,e){return n!==void 0?n:e!==void 0?e:void 0}function xf(n,e){for(let t of e)n.add(t)}Se(Ga,"default",pn);class js{constructor(e){Se(this,"parsers",{}),Se(this,"output",{}),Se(this,"errors",[]),Se(this,"pushToErrors",(t=>this.errors.push(t))),this.options=Ga.useCached(e)}async read(e){this.file=await Ok(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[r,a]of Ji)if(a.canHandle(e,t))return this.fileParser=new a(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),zt("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Pf(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async r=>{let a=await r.parse();r.assignToOutput(e,a)}));this.options.silentErrors&&(t=t.map((r=>r.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,r=Vt.get("tiff",e);var a;if(t.tiff?a={start:0,type:"tiff"}:t.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let l=await this.fileParser.ensureSegmentChunk(a),c=this.parsers.tiff=new r(l,e,t),d=await c.extractThumbnail();return t.close&&t.close(),d}}async function ud(n,e){let t=new js(e);return await t.read(n),t.parse()}var Pk=Object.freeze({__proto__:null,parse:ud,Exifr:js,fileParsers:Ji,segmentParsers:Vt,fileReaders:tr,tagKeys:Kt,tagValues:_i,tagRevivers:Os,createDictionary:At,extendDictionary:Va,fetchUrlAsArrayBuffer:Ma,readBlobAsArrayBuffer:ka,chunkedProps:Ts,otherSegments:ol,segments:La,tiffBlocks:yt,segmentsAndBlocks:Es,tiffExtractables:Ss,inheritables:ll,allFormatters:bs,Options:Ga});class cd{constructor(e,t,r){Se(this,"errors",[]),Se(this,"ensureSegmentChunk",(async a=>{let l=a.start,c=a.size||65536;if(this.file.chunked)if(this.file.available(l,c))a.chunk=this.file.subarray(l,c);else try{a.chunk=await this.file.readChunk(l,c)}catch(d){zt(`Couldn't read segment: ${JSON.stringify(a)}. ${d.message}`)}else this.file.byteLength>l+c?a.chunk=this.file.subarray(l,c):a.size===void 0?a.chunk=this.file.subarray(l):zt("Segment unreachable: "+JSON.stringify(a));return a.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let r=new(Vt.get(e))(t,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let t of e){let{type:r,chunk:a}=t,l=this.options[r];if(l&&l.enabled){let c=this.parsers[r];c&&c.append||c||this.createParser(r,a)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}class mi{static findPosition(e,t){let r=e.getUint16(t+2)+2,a=typeof this.headerLength=="function"?this.headerLength(e,t,r):this.headerLength,l=t+a,c=r-a;return{offset:t,length:r,headerLength:a,start:l,size:c,end:l+c}}static parse(e,t={}){return new this(e,new Ga({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof wn?e:new wn(e)}constructor(e,t={},r){Se(this,"errors",[]),Se(this,"raw",new Map),Se(this,"handleError",(a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)})),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let r=Os.get(t),a=_i.get(t),l=Kt.get(t),c=this.options[t],d=c.reviveValues&&!!r,p=c.translateValues&&!!a,g=c.translateKeys&&!!l,v={};for(let[E,b]of e)d&&r.has(E)?b=r.get(E)(b):p&&a.has(E)&&(b=this.translateValue(b,a.get(E))),g&&l.has(E)&&(E=l.get(E)||E),v[E]=b;return v}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[t]?Object.assign(e[t],r):e[t]=r}}Se(mi,"headerLength",4),Se(mi,"type",void 0),Se(mi,"multiSegment",!1),Se(mi,"canHandle",(()=>!1));function xk(n){return n===192||n===194||n===196||n===219||n===221||n===218||n===254}function Mk(n){return n>=224&&n<=239}function kk(n,e,t){for(let[r,a]of Vt)if(a.canHandle(n,e,t))return r}class vS extends cd{constructor(...e){super(...e),Se(this,"appSegments",[]),Se(this,"jpegSegments",[]),Se(this,"unknownSegments",[])}static canHandle(e,t){return t===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Vt.keyList())):(e=e===void 0?Vt.keyList().filter((t=>this.options[t].enabled)):e.filter((t=>this.options[t].enabled&&Vt.has(t))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:r,findAll:a,wanted:l,remaining:c}=this;if(!a&&this.file.chunked&&(a=Array.from(l).some((d=>{let p=Vt.get(d),g=this.options[d];return p.multiSegment&&g.multiSegment})),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let d=!1;for(;c.size>0&&!d&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:p}=r,g=this.appSegments.some((v=>!this.file.available(v.offset||v.start,v.length||v.size)));if(d=e>p&&!g?!await r.readNextChunk(e):!await r.readNextChunk(p),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,t){t-=2;let r,a,l,c,d,p,{file:g,findAll:v,wanted:E,remaining:b,options:O}=this;for(;e<t;e++)if(g.getUint8(e)===255){if(r=g.getUint8(e+1),Mk(r)){if(a=g.getUint16(e+2),l=kk(g,e,a),l&&E.has(l)&&(c=Vt.get(l),d=c.findPosition(g,e),p=O[l],d.type=l,this.appSegments.push(d),!v&&(c.multiSegment&&p.multiSegment?(this.unfinishedMultiSegment=d.chunkNumber<d.chunkCount,this.unfinishedMultiSegment||b.delete(l)):b.delete(l),b.size===0)))break;O.recordUnknownSegments&&(d=mi.findPosition(g,e),d.marker=r,this.unknownSegments.push(d)),e+=a+1}else if(xk(r)){if(a=g.getUint16(e+2),r===218&&O.stopAfterSos!==!1)return;O.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:r}),e+=a+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((t=>t.multiSegment)))return;let e=(function(t,r){let a,l,c,d=new Map;for(let p=0;p<t.length;p++)a=t[p],l=a[r],d.has(l)?c=d.get(l):d.set(l,c=[]),c.push(a);return Array.from(d)})(this.appSegments,"type");this.mergedAppSegments=e.map((([t,r])=>{let a=Vt.get(t,this.options);return a.handleMultiSegments?{type:t,chunk:a.handleMultiSegments(r)}:r[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return t===void 0&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}Se(vS,"type","jpeg"),Ji.set("jpeg",vS);const Vk=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Lk extends mi{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,r=new Map){let{pick:a,skip:l}=this.options[t];a=new Set(a);let c=a.size>0,d=l.size===0,p=this.chunk.getUint16(e);e+=2;for(let g=0;g<p;g++){let v=this.chunk.getUint16(e);if(c){if(a.has(v)&&(r.set(v,this.parseTag(e,v,t)),a.delete(v),a.size===0))break}else!d&&l.has(v)||r.set(v,this.parseTag(e,v,t));e+=12}return r}parseTag(e,t,r){let{chunk:a}=this,l=a.getUint16(e+2),c=a.getUint32(e+4),d=Vk[l];if(d*c<=4?e+=8:e=a.getUint32(e+8),(l<1||l>13)&&zt(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${l}, offset ${e}`),e>a.byteLength&&zt(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${l}, offset ${e} is outside of chunk size ${a.byteLength}`),l===1)return a.getUint8Array(e,c);if(l===2)return Ea(a.getString(e,c));if(l===7)return a.getUint8Array(e,c);if(c===1)return this.parseTagValue(l,e);{let p=new((function(v){switch(v){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(l))(c),g=d;for(let v=0;v<c;v++)p[v]=this.parseTagValue(l,e),e+=g;return p}}parseTagValue(e,t){let{chunk:r}=this;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);case 13:return r.getUint32(t);default:zt(`Invalid tiff type ${e}`)}}}class Vp extends Lk{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let r=new Map;return this[t]=r,this.parseTags(e,t,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&zt("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&zt(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Tg(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Tg(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let r=e.get(t);r&&r.length===1&&e.set(t,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",_S(...e.get(2),e.get(1))),e.set("longitude",_S(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,r,a={};for(t of yt)if(e=this[t],!tA(e))if(r=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(a,r)}else a[t]=r;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[r,a]of Object.entries(t))this.assignObjectToOutput(e,r,a)}}function _S(n,e,t,r){var a=n+e/60+t/3600;return r!=="S"&&r!=="W"||(a*=-1),a}Se(Vp,"type","tiff"),Se(Vp,"headerLength",10),Vt.set("tiff",Vp);var Uk=Object.freeze({__proto__:null,default:Pk,Exifr:js,fileParsers:Ji,segmentParsers:Vt,fileReaders:tr,tagKeys:Kt,tagValues:_i,tagRevivers:Os,createDictionary:At,extendDictionary:Va,fetchUrlAsArrayBuffer:Ma,readBlobAsArrayBuffer:ka,chunkedProps:Ts,otherSegments:ol,segments:La,tiffBlocks:yt,segmentsAndBlocks:Es,tiffExtractables:Ss,inheritables:ll,allFormatters:bs,Options:Ga,parse:ud});const Uy={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},zy=Object.assign({},Uy,{firstChunkSize:4e4,gps:[1,2,3,4]});async function rA(n){let e=new js(zy);await e.read(n);let t=await e.parse();if(t&&t.gps){let{latitude:r,longitude:a}=t.gps;return{latitude:r,longitude:a}}}const By=Object.assign({},Uy,{tiff:!1,ifd1:!0,mergeOutput:!1});async function sA(n){let e=new js(By);await e.read(n);let t=await e.extractThumbnail();return t&&ld?od.from(t):t}async function aA(n){let e=await this.thumbnail(n);if(e!==void 0){let t=new Blob([e]);return URL.createObjectURL(t)}}const jy=Object.assign({},Uy,{firstChunkSize:4e4,ifd0:[274]});async function Fy(n){let e=new js(jy);await e.read(n);let t=await e.parse();if(t&&t.ifd0)return t.ifd0[274]}const Hy=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Sa=!0,ba=!0;if(typeof navigator=="object"){let n=navigator.userAgent;if(n.includes("iPad")||n.includes("iPhone")){let e=n.match(/OS (\d+)_(\d+)/);if(e){let[,t,r]=e;Sa=Number(t)+.1*Number(r)<13.4,ba=!1}}else if(n.includes("OS X 10")){let[,e]=n.match(/OS X 10[_.](\d+)/);Sa=ba=Number(e)<15}if(n.includes("Chrome/")){let[,e]=n.match(/Chrome\/(\d+)/);Sa=ba=Number(e)<81}else if(n.includes("Firefox/")){let[,e]=n.match(/Firefox\/(\d+)/);Sa=ba=Number(e)<77}}async function oA(n){let e=await Fy(n);return Object.assign({canvas:Sa,css:ba},Hy[e])}class zk extends wn{constructor(...e){super(...e),Se(this,"ranges",new Bk),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,r){if(e===0&&this.byteLength===0&&r){let a=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(a)}else{let a=e+t;if(a>this.byteLength){let{dataView:l}=this._extend(a);this._swapDataView(l)}}}_extend(e){let t;t=ld?od.allocUnsafe(e):new Uint8Array(e);let r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}subarray(e,t,r=!1){return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,r=!1){r&&this._tryExtend(t,e.byteLength,e);let a=super.set(e,t);return this.ranges.add(t,a.byteLength),a}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Bk{constructor(){Se(this,"list",[])}get length(){return this.list.length}add(e,t,r=0){let a=e+t,l=this.list.filter((c=>TS(e,c.offset,a)||TS(e,c.end,a)));if(l.length>0){e=Math.min(e,...l.map((d=>d.offset))),a=Math.max(a,...l.map((d=>d.end))),t=a-e;let c=l.shift();c.offset=e,c.length=t,c.end=a,this.list=this.list.filter((d=>!l.includes(d)))}else this.list.push({offset:e,length:t,end:a})}available(e,t){let r=e+t;return this.list.some((a=>a.offset<=e&&r<=a.end))}}function TS(n,e,t){return n<=e&&e<=t}class hd extends zk{constructor(e,t){super(0),Se(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,r=await this.readChunk(e,t);return!!r&&r.byteLength===t}async readChunk(e,t){if(this.chunksRead++,(t=this.safeWrapAddress(e,t))!==0)return this._readChunk(e,t)}safeWrapAddress(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}tr.set("blob",class extends hd{async readWhole(){this.chunked=!1;let n=await ka(this.input);this._swapArrayBuffer(n)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(n,e){let t=e?n+e:void 0,r=this.input.slice(n,t),a=await ka(r);return this.set(a,n,!0)}});var jk=Object.freeze({__proto__:null,default:Uk,Exifr:js,fileParsers:Ji,segmentParsers:Vt,fileReaders:tr,tagKeys:Kt,tagValues:_i,tagRevivers:Os,createDictionary:At,extendDictionary:Va,fetchUrlAsArrayBuffer:Ma,readBlobAsArrayBuffer:ka,chunkedProps:Ts,otherSegments:ol,segments:La,tiffBlocks:yt,segmentsAndBlocks:Es,tiffExtractables:Ss,inheritables:ll,allFormatters:bs,Options:Ga,parse:ud,gpsOnlyOptions:zy,gps:rA,thumbnailOnlyOptions:By,thumbnail:sA,thumbnailUrl:aA,orientationOnlyOptions:jy,orientation:Fy,rotations:Hy,get rotateCanvas(){return Sa},get rotateCss(){return ba},rotation:oA});tr.set("url",class extends hd{async readWhole(){this.chunked=!1;let n=await Ma(this.input);n instanceof ArrayBuffer?this._swapArrayBuffer(n):n instanceof Uint8Array&&this._swapBuffer(n)}async _readChunk(n,e){let t=e?n+e-1:void 0,r=this.options.httpHeaders||{};(n||t)&&(r.range=`bytes=${[n,t].join("-")}`);let a=await Vy(this.input,{headers:r}),l=await a.arrayBuffer(),c=l.byteLength;if(a.status!==416)return c!==e&&(this.size=n+c),this.set(l,n,!0)}});wn.prototype.getUint64=function(n){let e=this.getUint32(n),t=this.getUint32(n+4);return e<1048575?e<<32|t:typeof Yh!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Yh(e)<<Yh(32)|Yh(t)):void zt("Trying to read 64b value but JS can only handle 53b numbers.")};class Fk extends cd{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(t.push(r),r.length===0)break;e+=r.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((r=>r.kind===t))}parseBoxHead(e){let t=this.file.getUint32(e),r=this.file.getString(e+4,4),a=e+8;return t===1&&(t=this.file.getUint64(e+8),a+=8),{offset:e,length:t,kind:r,start:a}}parseBoxFullHead(e){if(e.version!==void 0)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class lA extends Fk{static canHandle(e,t){if(t!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let a=16,l=[];for(;a<r;)l.push(e.getString(a,4)),a+=4;return l.includes(this.type)}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;t.kind!=="meta";)e+=t.length,await this.file.ensureChunk(e,16),t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,r){await this.file.ensureChunk(t,r);let a=this.file.subarray(t,r);this.createParser(e,a)}async findIcc(e){let t=this.findBox(e,"iprp");if(t===void 0)return;let r=this.findBox(t,"ipco");if(r===void 0)return;let a=this.findBox(r,"colr");a!==void 0&&await this.registerSegment("icc",a.offset+12,a.length)}async findExif(e){let t=this.findBox(e,"iinf");if(t===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let a=this.findExifLocIdInIinf(t),l=this.findExtentInIloc(r,a);if(l===void 0)return;let[c,d]=l;await this.file.ensureChunk(c,d);let p=4+this.file.getUint32(c);c+=p,d-=p,await this.registerSegment("tiff",c,d)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,r,a,l,c=e.start,d=this.file.getUint16(c);for(c+=2;d--;){if(t=this.parseBoxHead(c),this.parseBoxFullHead(t),r=t.start,t.version>=2&&(a=t.version===3?4:2,l=this.file.getString(r+a+2,4),l==="Exif"))return this.file.getUintBytes(r,a);c+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let r=e.start,[a,l]=this.get8bits(r++),[c,d]=this.get8bits(r++),p=e.version===2?4:2,g=e.version===1||e.version===2?2:0,v=d+a+l,E=e.version===2?4:2,b=this.file.getUintBytes(r,E);for(r+=E;b--;){let O=this.file.getUintBytes(r,p);r+=p+g+2+c;let L=this.file.getUint16(r);if(r+=2,O===t)return L>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+d,a),this.file.getUintBytes(r+d+a,l)];r+=L*v}}}class uA extends lA{}Se(uA,"type","heic");class ES extends lA{}Se(ES,"type","avif"),Ji.set("heic",uA),Ji.set("avif",ES),At(Kt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),At(Kt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),At(Kt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),At(_i,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Nu=At(_i,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const SS={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Nu.set(37392,SS),Nu.set(41488,SS);const Lp={0:"Normal",1:"Low",2:"High"};function bS(n){return typeof n=="object"&&n.length!==void 0?n[0]:n}function wS(n){let e=Array.from(n).slice(1);return e[1]>15&&(e=e.map((t=>String.fromCharCode(t)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function Up(n){if(typeof n=="string"){var[e,t,r,a,l,c]=n.trim().split(/[-: ]/g).map(Number),d=new Date(e,t-1,r);return Number.isNaN(a)||Number.isNaN(l)||Number.isNaN(c)||(d.setHours(a),d.setMinutes(l),d.setSeconds(c)),Number.isNaN(+d)?n:d}}function Tu(n){if(typeof n=="string")return n;let e=[];if(n[1]===0&&n[n.length-1]===0)for(let t=0;t<n.length;t+=2)e.push(AS(n[t+1],n[t]));else for(let t=0;t<n.length;t+=2)e.push(AS(n[t],n[t+1]));return Ea(String.fromCodePoint(...e))}function AS(n,e){return n<<8|e}Nu.set(41992,Lp),Nu.set(41993,Lp),Nu.set(41994,Lp),At(Os,["ifd0","ifd1"],[[50827,function(n){return typeof n!="string"?nA(n):n}],[306,Up],[40091,Tu],[40092,Tu],[40093,Tu],[40094,Tu],[40095,Tu]]),At(Os,"exif",[[40960,wS],[36864,wS],[36867,Up],[36868,Up],[40962,bS],[40963,bS]]),At(Os,"gps",[[0,n=>Array.from(n).join(".")],[7,n=>Array.from(n).join(":")]]);class zp extends mi{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1752462448&&e.getString(t+4,20)==="http://ns.adobe.com/"}static headerLength(e,t){return e.getString(t+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,t){let r=super.findPosition(e,t);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(t+72),r.chunkNumber=e.getUint8(t+76),e.getUint8(t+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map((t=>t.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:wn.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(l){let c={},d={};for(let p of dA)c[p]=[],d[p]=0;return l.replace(Yk,((p,g,v)=>{if(g==="<"){let E=++d[v];return c[v].push(E),`${p}#${E}`}return`${p}#${c[v].pop()}`}))})(e);let t=Go.findAll(e,"rdf","Description");t.length===0&&t.push(new Go("rdf","Description",void 0,e));let r,a={};for(let l of t)for(let c of l.properties)r=Gk(c.ns,a),cA(c,r);return(function(l){let c;for(let d in l)c=l[d]=Pf(l[d]),c===void 0&&delete l[d];return Pf(l)})(a)}assignToOutput(e,t){if(this.localOptions.parse)for(let[r,a]of Object.entries(t))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",a);break;case"exif":this.assignObjectToOutput(e,"exif",a);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,a)}else e.xmp=t}}Se(zp,"type","xmp"),Se(zp,"multiSegment",!0),Vt.set("xmp",zp);class Mf{static findAll(e){return hA(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Mf.unpackMatch)}static unpackMatch(e){let t=e[1],r=e[2],a=e[3].slice(1,-1);return a=fA(a),new Mf(t,r,a)}constructor(e,t,r){this.ns=e,this.name=t,this.value=r}serialize(){return this.value}}class Go{static findAll(e,t,r){if(t!==void 0||r!==void 0){t=t||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var a=new RegExp(`<(${t}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else a=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return hA(e,a).map(Go.unpackMatch)}static unpackMatch(e){let t=e[1],r=e[2],a=e[4],l=e[8];return new Go(t,r,a,l)}constructor(e,t,r,a){this.ns=e,this.name=t,this.attrString=r,this.innerXml=a,this.attrs=Mf.findAll(r),this.children=Go.findAll(a),this.value=this.children.length===0?fA(a):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return e==="rdf"&&(t==="Seq"||t==="Bag"||t==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return qk(this.children.map(Hk));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let t of this.properties)cA(t,e);return this.value!==void 0&&(e.value=this.value),Pf(e)}}function cA(n,e){let t=n.serialize();t!==void 0&&(e[n.name]=t)}var Hk=n=>n.serialize(),qk=n=>n.length===1?n[0]:n,Gk=(n,e)=>e[n]?e[n]:e[n]={};function hA(n,e){let t,r=[];if(!n)return r;for(;(t=e.exec(n))!==null;)r.push(t);return r}function fA(n){if((function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""})(n))return;let e=Number(n);if(!Number.isNaN(e))return e;let t=n.toLowerCase();return t==="true"||t!=="false"&&n.trim()}const dA=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],Yk=new RegExp(`(<|\\/)(${dA.join("|")})`,"g");var Xk=Object.freeze({__proto__:null,default:jk,Exifr:js,fileParsers:Ji,segmentParsers:Vt,fileReaders:tr,tagKeys:Kt,tagValues:_i,tagRevivers:Os,createDictionary:At,extendDictionary:Va,fetchUrlAsArrayBuffer:Ma,readBlobAsArrayBuffer:ka,chunkedProps:Ts,otherSegments:ol,segments:La,tiffBlocks:yt,segmentsAndBlocks:Es,tiffExtractables:Ss,inheritables:ll,allFormatters:bs,Options:Ga,parse:ud,gpsOnlyOptions:zy,gps:rA,thumbnailOnlyOptions:By,thumbnail:sA,thumbnailUrl:aA,orientationOnlyOptions:jy,orientation:Fy,rotations:Hy,get rotateCanvas(){return Sa},get rotateCss(){return ba},rotation:oA});let CS=Nf("fs",(n=>n.promises));tr.set("fs",class extends hd{async readWhole(){this.chunked=!1,this.fs=await CS;let n=await this.fs.readFile(this.input);this._swapBuffer(n)}async readChunked(){this.chunked=!0,this.fs=await CS,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(n,e){this.fh===void 0&&await this.open(),n+e>this.size&&(e=this.size-n);var t=this.subarray(n,e,!0);return await this.fh.read(t.dataView,0,e,n),t}async close(){if(this.fh){let n=this.fh;this.fh=void 0,await n.close()}}});tr.set("base64",class extends hd{constructor(...n){super(...n),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(n,e){let t,r,a=this.input;n===void 0?(n=0,t=0,r=0):(t=4*Math.floor(n/3),r=n-t/4*3),e===void 0&&(e=this.size);let l=n+e,c=t+4*Math.ceil(l/3);a=a.slice(t,c);let d=Math.min(e,this.size-n);if(ld){let p=od.from(a,"base64").slice(r,r+d);return this.set(p,n,!0)}{let p=this.subarray(n,d,!0),g=atob(a),v=p.toUint8();for(let E=0;E<d;E++)v[E]=g.charCodeAt(r+E);return p}}});class RS extends cd{static canHandle(e,t){return t===18761||t===19789}extendOptions(e){let{ifd0:t,xmp:r,iptc:a,icc:l}=e;r.enabled&&t.deps.add(700),a.enabled&&t.deps.add(33723),l.enabled&&t.deps.add(34675),t.finalizeFilters()}async parse(){let{tiff:e,xmp:t,iptc:r,icc:a}=this.options;if(e.enabled||t.enabled||r.enabled||a.enabled){let l=Math.max(Tg(this.options),this.options.chunkSize);await this.file.ensureChunk(0,l),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}}Se(RS,"type","tiff"),Ji.set("tiff",RS);let Kk=Nf("zlib");const Qk=["ihdr","iccp","text","itxt","exif"];class IS extends cd{constructor(...e){super(...e),Se(this,"catchError",(t=>this.errors.push(t))),Se(this,"metaChunks",[]),Se(this,"unknownChunks",[])}static canHandle(e,t){return t===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,t){let{file:r}=this;for(;e<t;){let a=r.getUint32(e),l=r.getUint32(e+4),c=r.getString(e+4,4).toLowerCase(),d=a+4+4+4,p={type:c,offset:e,length:d,start:e+4+4,size:a,marker:l};Qk.includes(c)?this.metaChunks.push(p):this.unknownChunks.push(p),e+=d}}parseTextChunks(){let e=this.metaChunks.filter((t=>t.type==="text"));for(let t of e){let[r,a]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(r,a)}}injectKeyValToIhdr(e,t){let r=this.parsers.ihdr;r&&r.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find((t=>t.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((t=>t.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((t=>t.type==="itxt"));for(let t of e)t.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",t.chunk)}async findIcc(){let e=this.metaChunks.find((d=>d.type==="iccp"));if(!e)return;let{chunk:t}=e,r=t.getUint8Array(0,81),a=0;for(;a<80&&r[a]!==0;)a++;let l=a+2,c=t.getString(0,a);if(this.injectKeyValToIhdr("ProfileName",c),Of){let d=await Kk,p=t.getUint8Array(l);p=d.inflateSync(p),this.injectSegment("icc",p)}}}Se(IS,"type","png"),Ji.set("png",IS),At(Kt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Va(Kt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let DS=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Va(Kt,"ifd0",DS),Va(Kt,"exif",DS),At(_i,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class Bp extends mi{static canHandle(e,t){return e.getUint8(t+1)===224&&e.getUint32(t+4)===1246120262&&e.getUint8(t+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Se(Bp,"type","jfif"),Se(Bp,"headerLength",9),Vt.set("jfif",Bp),At(Kt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class OS extends mi{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Se(OS,"type","ihdr"),Vt.set("ihdr",OS),At(Kt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),At(_i,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class lf extends mi{static canHandle(e,t){return e.getUint8(t+1)===226&&e.getUint32(t+4)===1229144927}static findPosition(e,t){let r=super.findPosition(e,t);return r.chunkNumber=e.getUint8(t+16),r.chunkCount=e.getUint8(t+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return(function(t){let r=(function(a){let l=a[0].constructor,c=0;for(let g of a)c+=g.length;let d=new l(c),p=0;for(let g of a)d.set(g,p),p+=g.length;return d})(t.map((a=>a.chunk.toUint8())));return new wn(r)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&zt("ICC header is too short");for(let[t,r]of Object.entries($k)){t=parseInt(t,10);let a=r(this.chunk,t);a!=="\0\0\0\0"&&e.set(t,a)}}parseTags(){let e,t,r,a,l,{raw:c}=this,d=this.chunk.getUint32(128),p=132,g=this.chunk.byteLength;for(;d--;){if(e=this.chunk.getString(p,4),t=this.chunk.getUint32(p+4),r=this.chunk.getUint32(p+8),a=this.chunk.getString(t,4),t+r>g)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");l=this.parseTag(a,t,r),l!==void 0&&l!=="\0\0\0\0"&&c.set(e,l),p+=12}}parseTag(e,t,r){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,r);case"sig ":return this.parseSig(t)}if(!(t+r>this.chunk.byteLength))return this.chunk.getUint8Array(t,r)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return Ea(this.chunk.getString(e+12,t))}parseText(e,t){return Ea(this.chunk.getString(e+8,t-8))}parseSig(e){return Ea(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,r=t.getUint32(e+8),a=t.getUint32(e+12),l=e+16,c=[];for(let d=0;d<r;d++){let p=t.getString(l+0,2),g=t.getString(l+2,2),v=t.getUint32(l+4),E=t.getUint32(l+8)+e,b=Ea(t.getUnicodeString(E,v));c.push({lang:p,country:g,text:b}),l+=a}return r===1?c[0].text:c}translateValue(e,t){return typeof e=="string"?t[e]||t[e.toLowerCase()]||e:t[e]||e}}Se(lf,"type","icc"),Se(lf,"multiSegment",!0),Se(lf,"headerLength",18);const $k={4:Sr,8:function(n,e){return[n.getUint8(e),n.getUint8(e+1)>>4,n.getUint8(e+1)%16].map((t=>t.toString(10))).join(".")},12:Sr,16:Sr,20:Sr,24:function(n,e){const t=n.getUint16(e),r=n.getUint16(e+2)-1,a=n.getUint16(e+4),l=n.getUint16(e+6),c=n.getUint16(e+8),d=n.getUint16(e+10);return new Date(Date.UTC(t,r,a,l,c,d))},36:Sr,40:Sr,48:Sr,52:Sr,64:(n,e)=>n.getUint32(e),80:Sr};function Sr(n,e){return Ea(n.getString(e,4))}Vt.set("icc",lf),At(Kt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const Xh={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},NS={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};At(_i,"icc",[[4,Xh],[12,NS],[40,Object.assign({},Xh,NS)],[48,Xh],[80,Xh],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Kh extends mi{static canHandle(e,t,r){return e.getUint8(t+1)===237&&e.getString(t+4,9)==="Photoshop"&&this.containsIptc8bim(e,t,r)!==void 0}static headerLength(e,t,r){let a,l=this.containsIptc8bim(e,t,r);if(l!==void 0)return a=e.getUint8(t+l+7),a%2!=0&&(a+=1),a===0&&(a=4),l+8+a}static containsIptc8bim(e,t,r){for(let a=0;a<r;a++)if(this.isIptcSegmentHead(e,t+a))return a}static isIptcSegmentHead(e,t){return e.getUint8(t)===56&&e.getUint32(t)===943868237&&e.getUint16(t+4)===1028}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,r=!1;for(let a=0;a<t;a++)if(this.chunk.getUint8(a)===28&&this.chunk.getUint8(a+1)===2){r=!0;let l=this.chunk.getUint16(a+3),c=this.chunk.getUint8(a+2),d=this.chunk.getLatin1String(a+5,l);e.set(c,this.pluralizeValue(e.get(c),d)),a+=4+l}else if(r)break;return this.translate(),this.output}pluralizeValue(e,t){return e!==void 0?e instanceof Array?(e.push(t),e):[e,t]:t}}Se(Kh,"type","iptc"),Se(Kh,"translateValues",!1),Se(Kh,"reviveValues",!1),Vt.set("iptc",Kh),At(Kt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),At(_i,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const Wk=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!1),[a,l]=G.useState("");G.useEffect(()=>{const p=eA(g=>e(g));return()=>p()},[]);const c=async()=>{try{await wk()}catch(p){console.error(p)}},d=async p=>{const g=Array.from(p.target.files);if(g.length!==0){r(!0),l(`Uploading ${g.length} items...`);try{for(let v=0;v<g.length;v++){const E=g[v];l(`Uploading ${v+1} / ${g.length}: ${E.name} (Extracting Metadata)...`);let b=null,O={};try{const V=await E.arrayBuffer(),Q=await Xk.parse(V,{gps:!0,tiff:!0,jfif:!0,translateValues:!0,reviveValues:!0});console.log(`EXIF Output for ${E.name}:`,Q),Q&&(b=Q.DateTimeOriginal,O={make:Q.Make,model:Q.Model,iso:Q.ISO,fStop:Q.FNumber,shutterSpeed:Q.ExposureTime,latitude:Q.latitude,longitude:Q.longitude},Object.keys(O).forEach(W=>{const J=O[W];(J==null||typeof J=="number"&&isNaN(J))&&delete O[W]}))}catch(V){console.warn(`Could not extract EXIF for ${E.name}`,V)}l(`Uploading ${v+1} / ${g.length}: ${E.name} (Sending to Storage)...`);const{url:L,path:z}=await Sk(E);l(`Uploading ${v+1} / ${g.length}: ${E.name} (Saving to Database)...`),await Tk({url:L,storagePath:z,uploaderUid:n.uid,uploaderName:n.displayName,filename:E.name,capturedAt:b||new Date,...O})}l("Upload complete!"),p.target.value=null}catch(v){console.error(v),l("Upload failed.")}finally{r(!1)}}};return n?X.jsxs("div",{className:"max-w-xl mx-auto",children:[X.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Upload Photos"}),X.jsx("div",{className:"border-2 border-dashed border-white/20 rounded-xl p-10 text-center hover:bg-white/5 transition flex flex-col items-center justify-center min-h-[200px]",children:t?X.jsx("div",{className:"animate-pulse",children:a}):X.jsxs(X.Fragment,{children:[X.jsx("p",{className:"mb-4 text-gray-300",children:"Choose images from your device"}),X.jsxs("label",{className:"cursor-pointer px-6 py-2 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition",children:["Select Files",X.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:d,disabled:t})]})]})}),a&&!t&&X.jsx("p",{className:"mt-4 text-center text-green-400",children:a})]}):X.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh]",children:[X.jsx("p",{className:"mb-4 text-gray-400",children:"Please sign in to upload photos."}),X.jsx("button",{onClick:c,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-full font-semibold transition",children:"Sign in with Google"})]})};function Zk(){return X.jsx(S2,{basename:"/happy_archive/",children:X.jsx(P2,{children:X.jsxs(ZR,{children:[X.jsx(Fp,{path:"/",element:X.jsx(Ak,{})}),X.jsx(Fp,{path:"/upload",element:X.jsx(Wk,{})})]})})})}eR.createRoot(document.getElementById("root")).render(X.jsx(G.StrictMode,{children:X.jsx(Zk,{})}));
